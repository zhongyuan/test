<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>

<title>gaia::system::RecoverySystem Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript" src="../../dynsections.js"></script>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d9/db5/namespacegaia.html">gaia</a>      </li>
      <li class="navelem"><a class="el" href="../../d2/d83/namespacegaia_1_1system.html">system</a>      </li>
      <li class="navelem"><a class="el" href="../../d6/d3b/classgaia_1_1system_1_1_recovery_system.html">RecoverySystem</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">gaia::system::RecoverySystem Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="gaia::system::RecoverySystem" -->
<p><code>#include &lt;<a class="el" href="../../dd/d3c/_recovery_system_8h_source.html">RecoverySystem.h</a>&gt;</code></p>

<p><a href="../../de/de2/classgaia_1_1system_1_1_recovery_system-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3b/classgaia_1_1system_1_1_recovery_system.html#a93d197fa1fe0f217594ec41a0f6e4442">verifyPackage</a> (const <a class="el" href="../../d4/d31/classgaia_1_1storage_1_1_file.html">storage::File</a> &amp;packageFile, const <a class="el" href="../../d0/d2b/classgaia_1_1system_1_1_progress_listener.html">ProgressListener</a> &amp;listener, const <a class="el" href="../../d4/d31/classgaia_1_1storage_1_1_file.html">storage::File</a> &amp;deviceCertsZipFile)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify the cryptographic signature of a system update package before installing it.  <a href="#a93d197fa1fe0f217594ec41a0f6e4442"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3b/classgaia_1_1system_1_1_recovery_system.html#ac42afa57fbcb78c76cd0d675cda74f10">installPackage</a> (const <a class="el" href="../../d0/d05/classgaia_1_1core_1_1_context.html">core::Context</a> &amp;context, const <a class="el" href="../../d4/d31/classgaia_1_1storage_1_1_file.html">storage::File</a> &amp;packageFile)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reboots the device in order to install the given update package.  <a href="#ac42afa57fbcb78c76cd0d675cda74f10"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3b/classgaia_1_1system_1_1_recovery_system.html#ae43a3826c81b19edb2c1308425ed1f98">rebootWipeUserData</a> (const <a class="el" href="../../d0/d05/classgaia_1_1core_1_1_context.html">core::Context</a> &amp;context)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reboots the device and wipes the user data partition.  <a href="#ae43a3826c81b19edb2c1308425ed1f98"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3b/classgaia_1_1system_1_1_recovery_system.html#ab84cb1933e030e51bdca37231fa3c6a1">rebootWipeCache</a> (const <a class="el" href="../../d0/d05/classgaia_1_1core_1_1_context.html">core::Context</a> &amp;context)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reboot into the recovery system to wipe the /cache partition.  <a href="#ab84cb1933e030e51bdca37231fa3c6a1"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3b/classgaia_1_1system_1_1_recovery_system.html#acf414a9189ec1a477979f2209b23869e">RecoverySystem</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3b/classgaia_1_1system_1_1_recovery_system.html#a9c157c4b17185ea9c4049a7f76b29be5">DISALLOW_COPY_AND_ASSIGN</a> (<a class="el" href="../../d6/d3b/classgaia_1_1system_1_1_recovery_system.html">RecoverySystem</a>)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="../../dd/d3c/_recovery_system_8h_source.html#l00028">28</a> of file <a class="el" href="../../dd/d3c/_recovery_system_8h_source.html">RecoverySystem.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="acf414a9189ec1a477979f2209b23869e"></a><!-- doxytag: member="gaia::system::RecoverySystem::RecoverySystem" ref="acf414a9189ec1a477979f2209b23869e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d3b/classgaia_1_1system_1_1_recovery_system.html#acf414a9189ec1a477979f2209b23869e">gaia::system::RecoverySystem::RecoverySystem</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a9c157c4b17185ea9c4049a7f76b29be5"></a><!-- doxytag: member="gaia::system::RecoverySystem::DISALLOW_COPY_AND_ASSIGN" ref="a9c157c4b17185ea9c4049a7f76b29be5" args="(RecoverySystem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d3b/classgaia_1_1system_1_1_recovery_system.html#a9c157c4b17185ea9c4049a7f76b29be5">gaia::system::RecoverySystem::DISALLOW_COPY_AND_ASSIGN</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d3b/classgaia_1_1system_1_1_recovery_system.html">RecoverySystem</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac42afa57fbcb78c76cd0d675cda74f10"></a><!-- doxytag: member="gaia::system::RecoverySystem::installPackage" ref="ac42afa57fbcb78c76cd0d675cda74f10" args="(const core::Context &amp;context, const storage::File &amp;packageFile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="../../d6/d3b/classgaia_1_1system_1_1_recovery_system.html#ac42afa57fbcb78c76cd0d675cda74f10">gaia::system::RecoverySystem::installPackage</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/d05/classgaia_1_1core_1_1_context.html">core::Context</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d31/classgaia_1_1storage_1_1_file.html">storage::File</a> &amp;&#160;</td>
          <td class="paramname"><em>packageFile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reboots the device in order to install the given update package. </p>
<p>Requires REBOOT permission.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>the Context to use </td></tr>
    <tr><td class="paramname">packageFile</td><td>the update package to install. Must be on a partition mountable by recovery. (The set of partitions known to recovery may vary from device to device. Generally, /cache and /data are safe.) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab84cb1933e030e51bdca37231fa3c6a1"></a><!-- doxytag: member="gaia::system::RecoverySystem::rebootWipeCache" ref="ab84cb1933e030e51bdca37231fa3c6a1" args="(const core::Context &amp;context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="../../d6/d3b/classgaia_1_1system_1_1_recovery_system.html#ab84cb1933e030e51bdca37231fa3c6a1">gaia::system::RecoverySystem::rebootWipeCache</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/d05/classgaia_1_1core_1_1_context.html">core::Context</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reboot into the recovery system to wipe the /cache partition. </p>

</div>
</div>
<a class="anchor" id="ae43a3826c81b19edb2c1308425ed1f98"></a><!-- doxytag: member="gaia::system::RecoverySystem::rebootWipeUserData" ref="ae43a3826c81b19edb2c1308425ed1f98" args="(const core::Context &amp;context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="../../d6/d3b/classgaia_1_1system_1_1_recovery_system.html#ae43a3826c81b19edb2c1308425ed1f98">gaia::system::RecoverySystem::rebootWipeUserData</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/d05/classgaia_1_1core_1_1_context.html">core::Context</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reboots the device and wipes the user data partition. </p>
<p>This is sometimes called a "factory reset", which is something of a misnomer because the system partition is not restored to its factory state. Requires the REBOOT permission.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>the Context to use </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a93d197fa1fe0f217594ec41a0f6e4442"></a><!-- doxytag: member="gaia::system::RecoverySystem::verifyPackage" ref="a93d197fa1fe0f217594ec41a0f6e4442" args="(const storage::File &amp;packageFile, const ProgressListener &amp;listener, const storage::File &amp;deviceCertsZipFile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool <a class="el" href="../../d6/d3b/classgaia_1_1system_1_1_recovery_system.html#a93d197fa1fe0f217594ec41a0f6e4442">gaia::system::RecoverySystem::verifyPackage</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d31/classgaia_1_1storage_1_1_file.html">storage::File</a> &amp;&#160;</td>
          <td class="paramname"><em>packageFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d0/d2b/classgaia_1_1system_1_1_progress_listener.html">ProgressListener</a> &amp;&#160;</td>
          <td class="paramname"><em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d31/classgaia_1_1storage_1_1_file.html">storage::File</a> &amp;&#160;</td>
          <td class="paramname"><em>deviceCertsZipFile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Verify the cryptographic signature of a system update package before installing it. </p>
<p>Note that the package is also verified separately by the installer once the device is rebooted into the recovery system. This function will return only if the package was successfully verified; otherwise it will throw an exception.</p>
<p>Verification of a package can take significant time, so this function should not be called from a UI thread. Interrupting the thread while this function is in progress will result in a SecurityException being thrown (and the thread's interrupt flag will be cleared).</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">packageFile</td><td>the package to be verified </td></tr>
    <tr><td class="paramname">listener</td><td>an object to receive periodic progress updates as verification proceeds. May be null. </td></tr>
    <tr><td class="paramname">deviceCertsZipFile</td><td>the zip file of certificates whose public keys we will accept. Verification succeeds if the package is signed by the private key corresponding to any public key in this file. May be null to use the system default file (currently "/system/etc/security/otacerts.zip"). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/vilon_tao/gaia/sdk/include/gaia/system/<a class="el" href="../../dd/d3c/_recovery_system_8h_source.html">RecoverySystem.h</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 25 2013 11:23:26 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>

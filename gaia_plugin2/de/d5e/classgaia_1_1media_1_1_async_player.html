<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gaia::media::AsyncPlayer Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = '../../open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = '../../closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d9/db5/namespacegaia.html">gaia</a>      </li>
      <li class="navelem"><a class="el" href="../../d7/d9b/namespacegaia_1_1media.html">media</a>      </li>
      <li class="navelem"><a class="el" href="../../de/d5e/classgaia_1_1media_1_1_async_player.html">AsyncPlayer</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">gaia::media::AsyncPlayer Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="gaia::media::AsyncPlayer" -->
<p><a class="el" href="../../de/d5e/classgaia_1_1media_1_1_async_player.html" title="AsyncPlayer can play a series of audio URIs, but does all the hard work on another thread so that any...">AsyncPlayer</a> can play a series of audio URIs, but does all the hard work on another thread so that any slowness with preparing or loading doesn't block the calling thread.  
 <a href="../../de/d5e/classgaia_1_1media_1_1_async_player.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d0/d5f/_async_player_8h_source.html">AsyncPlayer.h</a>&gt;</code></p>

<p><a href="../../da/dc5/classgaia_1_1media_1_1_async_player-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d5e/classgaia_1_1media_1_1_async_player.html#a2fab477995aa8eba345134b81234f465">AsyncPlayer</a> (const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">gaia::base::String</a> &amp;tag)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct an <a class="el" href="../../de/d5e/classgaia_1_1media_1_1_async_player.html" title="AsyncPlayer can play a series of audio URIs, but does all the hard work on another thread so that any...">AsyncPlayer</a> object.  <a href="#a2fab477995aa8eba345134b81234f465"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d5e/classgaia_1_1media_1_1_async_player.html#a61c55671bb6a5040f2d867d80423a43b">~AsyncPlayer</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d5e/classgaia_1_1media_1_1_async_player.html#ad997561475569791bb3ac26bbfa8822c">play</a> (const <a class="el" href="../../d0/d05/classgaia_1_1core_1_1_context.html">gaia::core::Context</a> &amp;context, const <a class="el" href="../../d0/dcf/classgaia_1_1net_1_1_uri.html">gaia::net::Uri</a> &amp;uri, bool looping, AudioControl::StreamType stream)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start playing the sound.  <a href="#ad997561475569791bb3ac26bbfa8822c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d5e/classgaia_1_1media_1_1_async_player.html#a72c7494ac35ef60373525d8bcc9d6c8e">stop</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop a previously played sound.  <a href="#a72c7494ac35ef60373525d8bcc9d6c8e"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d5e/classgaia_1_1media_1_1_async_player.html#a3b0c3c11304b0c34ff7b119afdb86057">DISALLOW_COPY_AND_ASSIGN</a> (<a class="el" href="../../de/d5e/classgaia_1_1media_1_1_async_player.html">AsyncPlayer</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">We want to hold a wake lock while we do the prepare and play.  <a href="#a3b0c3c11304b0c34ff7b119afdb86057"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="../../de/d5e/classgaia_1_1media_1_1_async_player.html" title="AsyncPlayer can play a series of audio URIs, but does all the hard work on another thread so that any...">AsyncPlayer</a> can play a series of audio URIs, but does all the hard work on another thread so that any slowness with preparing or loading doesn't block the calling thread. </p>

<p>Definition at line <a class="el" href="../../d0/d5f/_async_player_8h_source.html#l00025">25</a> of file <a class="el" href="../../d0/d5f/_async_player_8h_source.html">AsyncPlayer.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2fab477995aa8eba345134b81234f465"></a><!-- doxytag: member="gaia::media::AsyncPlayer::AsyncPlayer" ref="a2fab477995aa8eba345134b81234f465" args="(const gaia::base::String &amp;tag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gaia::media::AsyncPlayer::AsyncPlayer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">gaia::base::String</a> &amp;&#160;</td>
          <td class="paramname"><em>tag</em></td><td>)</td>
          <td><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Construct an <a class="el" href="../../de/d5e/classgaia_1_1media_1_1_async_player.html" title="AsyncPlayer can play a series of audio URIs, but does all the hard work on another thread so that any...">AsyncPlayer</a> object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">tag</td><td>a string to use for debugging </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a61c55671bb6a5040f2d867d80423a43b"></a><!-- doxytag: member="gaia::media::AsyncPlayer::~AsyncPlayer" ref="a61c55671bb6a5040f2d867d80423a43b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual gaia::media::AsyncPlayer::~AsyncPlayer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a3b0c3c11304b0c34ff7b119afdb86057"></a><!-- doxytag: member="gaia::media::AsyncPlayer::DISALLOW_COPY_AND_ASSIGN" ref="a3b0c3c11304b0c34ff7b119afdb86057" args="(AsyncPlayer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gaia::media::AsyncPlayer::DISALLOW_COPY_AND_ASSIGN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d5e/classgaia_1_1media_1_1_async_player.html">AsyncPlayer</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>We want to hold a wake lock while we do the prepare and play. </p>
<p>The stop probably is optional, but it won't hurt to have it too. The problem is that if you start a sound while you're holding a wake lock (e.g. an alarm starting a notification), you want the sound to play, but if the CPU turns off before mThread gets to work, it won't. The simplest way to deal with this is to make it so there is a wake lock held while the thread is starting or running. You're going to need the WAKE_LOCK permission if you're going to call this.</p>
<p>This must be called before the first time play is called. </p>

</div>
</div>
<a class="anchor" id="ad997561475569791bb3ac26bbfa8822c"></a><!-- doxytag: member="gaia::media::AsyncPlayer::play" ref="ad997561475569791bb3ac26bbfa8822c" args="(const gaia::core::Context &amp;context, const gaia::net::Uri &amp;uri, bool looping, AudioControl::StreamType stream)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaia::media::AsyncPlayer::play </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/d05/classgaia_1_1core_1_1_context.html">gaia::core::Context</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d0/dcf/classgaia_1_1net_1_1_uri.html">gaia::net::Uri</a> &amp;&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>looping</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AudioControl::StreamType&#160;</td>
          <td class="paramname"><em>stream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start playing the sound. </p>
<p>It will actually start playing at some point in the future. There are no guarantees about latency here. Calling this before another audio file is done playing will stop that one and start the new one. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>Your application's context. </td></tr>
    <tr><td class="paramname">uri</td><td>The URI to play. </td></tr>
    <tr><td class="paramname">looping</td><td>Whether the audio should loop forever. </td></tr>
    <tr><td class="paramname">stream</td><td>the AudioStream to use. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a72c7494ac35ef60373525d8bcc9d6c8e"></a><!-- doxytag: member="gaia::media::AsyncPlayer::stop" ref="a72c7494ac35ef60373525d8bcc9d6c8e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaia::media::AsyncPlayer::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stop a previously played sound. </p>
<p>It can't be played again or unpaused at this point. Calling this multiple times has no ill effects. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/gpdbuildserver3/Jenkins_Workspace/workspace/BuildGaia2SDKLauncher/sdk/include/gaia/media/<a class="el" href="../../d0/d5f/_async_player_8h_source.html">AsyncPlayer.h</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Jul 12 2013 04:17:47 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>

<div>
<a href = "../../../GAIA Cplusplus Development.html">GAIA Cplusplus Development</a>&gt;<a href = "../../Developer Guides.html">Developer Guides</a>&gt;<a href = "../WebView Component.html">WebView Component</a>&gt;
</div>
<h1>WebView</h1>
<p>A View that displays web pages. This class is the basis upon which you can roll your own web browser or simply display some online content within your Page.
It uses the WebKit rendering engine to display web pages and includes methods to navigate forward and backward through a history, zoom in and out, perform text searches and more.</p>

<h2>Basic usage</h2>
<p>By default, a WebView provides no browser-like widgets, does not enable JavaScript and web page errors are ignored. If your goal is only to display some HTML as a part of your UI, this is probably fine;
the user won't need to interact with the web page beyond reading it, and the web page won't need to interact with the user. If you actually want a full-blown web browser, then you probably want to
invoke the Browser application with a URL Intent rather than show it with a WebView. For example:</p>

<pre class="prettyprint">
  Uri uri = Uri::parse("http://www.example.com");
  Demand* demand = new Demand(Demand.ACTION_VIEW(), uri);
  mPage->startPage(demand);
</pre>

<p>To provide a WebView in your own Page, include a WebView in your layout,or set the entire Page window as a WebView during onInit():</p>

<pre class="prettyprint">
  WebView* webview = new WebView(this);
  mScene->attachController(m_pcGlobalController);
  mScene->setupSceneLayout();
</pre>

<p>Then load the desired web page:</p>

<pre class="prettyprint">
  webview->loadUrl("http://slashdot.org/");
  String summary("&lt;html>&lt;body>You scored &lt;b>192&lt;/b> points.&lt;/body>&lt;/html>");
  webview->loadData(summary, "text/html", NULL);
</pre>

<p>A WebView has several customization points where you can add your own behavior. These are:</p>

<p><ul>
    <li>Creating and setting a WebChromeClient subclass.
        This class is called when something that might impact a
        browser UI happens, for instance, progress updates and
        JavaScript alerts are sent here.
    </li>
    <li>Creating and setting a WebViewClient subclass.
        It will be called when things happen that impact the
        rendering of the content, eg, errors or form submissions. You
        can also intercept URL loading here.</li>
    <li>Modifying the WebSettings, such as
  enabling JavaScript with setJavaScriptEnabled(bool). </li>
    <li>Adding JavaScript-to-Java interfaces with the WebView::addJavascriptInterface method.
        This lets you bind Java objects into the WebView so they can be
        controlled from the web pages JavaScript.</li>
  </ul></p>
<h2>Cookie and window management</h2>
<p>For obvious security reasons, your application has its own cache, cookie store etc, it does not share the Browser application's data. Cookies are managed on a separate thread, so operations like index building don't block the UI
thread. Follow the instructions in CookieSyncManager if you want to use cookies in your application.</p>
<p>By default, requests by the HTML to open new windows areignored. This is true whether they be opened by JavaScript or by the target attribute on a link. You can customize your WebChromeClient to provide your own behaviour for opening multiple windows,and render them in whatever manner you want.</p>
<p>The standard behavior for an Activity is to be destroyed and recreated when the device orientation or any other configuration changes. This will cause the WebView to reload the current page. If you don't want that, you can set your Activity to handle the orientation 
and keyboardHidden changes, and then just leave the WebView alone. It'll automatically re-orient itself as appropriate. </p></p>
<h2>Building web pages to support different screen densities</h2>
<p>The screen density of a device is based on the screen resolution. A screen with low density has fewer available pixels per inch, where a screen with high density has more &mdash; sometimes significantly more &mdash; pixels per inch. The density of a screen is important because, other things 
being equal, a UI element (such as a button) whose height and width are defined in terms of screen pixels will appear larger on the lower density screen and smaller on the higher density screen.
For simplicity, GAIA collapses all actual screen densities into three generalized densities: high, medium, and low.</p>
<p>By default, WebView scales a web page so that it is drawn at a size that matches the default appearance on a medium density screen. So, it applies 1.5x scaling on a high density screen (because its pixels are smaller) and 0.75x scaling on a low density screen (because its pixels are bigger).</p>
<p>WebView supports DOM, CSS, and meta tag features to help you (as a web developer) target screens with different screen densities.</p>
<p>Here's a summary of the features you can use to handle different screen densities:
  <ul>
  <li>The devicePixelRatio DOM property. The value of this property specifies the
  default scaling factor used for the current device. For example, if the value of devicePixelRatio 
  is "1.0", then the device is considered a medium density (mdpi) device
  and default scaling is not applied to the web page; if the value is "1.5", then the device is
  considered a high density device (hdpi) and the page content is scaled 1.5x; if the
  value is "0.75", then the device is considered a low density device (ldpi) and the content is
  scaled 0.75x. However, if you specify the "target-densitydpi" meta property
  (discussed below), then you can stop this default scaling behavior.</li>
  <li>The -webkit-device-pixel-ratio CSS media query. Use this to specify the screen
  densities for which this style sheet is to be used. The corresponding value should be either
  "0.75", "1", or "1.5", to indicate that the styles are for devices with low density, medium
  density, or high density screens, respectively. For example:
  <pre>
  &lt;link rel="stylesheet" media="screen and (-webkit-device-pixel-ratio:1.5)" href="hdpi.css" /&gt;</pre>
  <p>The hdpi.css stylesheet is only used for devices with a screen pixel ration of 1.5,
  which is the high density pixel ratio.</p>
  </li>
  <li>The target-densitydpi property for the viewport meta tag. You can use
  this to specify the target density for which the web page is designed, using the following
  values:
  <ul>
  <li>device-dpi - Use the device's native dpi as the target dpi. Default scaling never
  occurs.</li>
  <li>high-dpi - Use hdpi as the target dpi. Medium and low density screens scale down
  as appropriate.</li>
  <li>medium-dpi - Use mdpi as the target dpi. High density screens scale up and
  low density screens scale down. This is also the default behavior.</li>
  <li>low-dpi - Use ldpi as the target dpi. Medium and high density screens scale up
  as appropriate.</li>
  <li>- Specify a dpi value to use as the target dpi.</li>
  </ul>
  <p>Here's an example meta tag to specify the target density:</p>
  <pre>&lt;meta name="viewport" content="target-densitydpi=device-dpi" /&gt;</pre></li>
  </ul>
  <p>If you want to modify your web page for different densities, by using the 
  -webkit-device-pixel-ratio CSS media query and/or the devicePixelRatio DOM property, 
  then you should set the target-densitydpi meta
  property to device-dpi. This stops Android from performing scaling in your web page and
  allows you to make the necessary adjustments for each density via CSS and JavaScript.</p>
<div>
<a href = "../../../COS Cplusplus Development.html">COS Cplusplus Development</a>&gt;<a href = "../../Developer Guides.html">Developer Guides</a>&gt;<a href = "../UI construction and manipulation.html">UI construction and manipulation</a>&gt;
</div>
<h1>Picker</h1>
<hr />
<h1>Description</h1>
<p>A <a href="#Picker">Picker</a> Picker can let developer to set default number seeting UI.
COS provider three kinds Picker, NumberPicker, TimePicker and DatePicker.</p>
<h2><a name="NumberPicker">NumberPicker</a></h2>
<p><img src="NumberPicker.png" width="150" height="296"/>
<br></p>
<h2>Number Picker</h2>
<p>A widget that enables the user to select a number form a predefined range.
In this section, you can know how to use the NumberPicker.</p>
<h3>Using NumberPicker</h3>
<p><pre><code>
void  PickerTest::onInit(Persistence* const p) {
    GLOGENTRY(LOG_TAG);
    mpScene = Scene::SceneFactory(this);
    mpcRight = new LinearController(this);
    mpcRight-&gt;setOrientation(LinearController::VERTICAL);
    mplcp2 = new LinearControllerParams(ControllerParams::FILL_PARENT,
                 ControllerParams::WRAP_CONTENT, 1);
    mplc-&gt;addWidget(mpcRight, mplcp2);</p>
<pre><code>mpnumbertext = new TextWidget(this);
mpnumbertext-&gt;setText("NumberPicker Test");
mpcRight-&gt;addWidget(mpnumbertext);

// set the Button to triggle numberPicker
mpenablenumber = new Button(this);
mpenablenumber-&gt;setId(99);
mpenablenumber-&gt;setText("Enable NumberPicker");
mpenablenumber-&gt;setOnClickListener(this);   
mpcRight-&gt;addWidget(mpenablenumber);

mpnp = new NumberPicker(this);
// set the Number Picker to LinearController and set it in-invisible as default
mpcRight-&gt;addWidget(mpnp);
mpnp-&gt;setVisibility(Widget::GONE);

// new the Text
mpnumbertext = new TextWidget(this);
mpnumbertext-&gt;setText("NumberPicker Test");
mpcRight-&gt;addWidget(mpnumbertext);

mpScene-&gt;attachController(mpcouter);
mpScene-&gt;setupSceneLayout();
</code></pre>
<p>}</p>
<p>void PickerTest::onClick(Widget* widget) {
    GLOGENTRY(LOG_TAG);
    int32_t id = widget-&gt;getId();
    if (id == 99)
        r = id;
    switch (r) {
        case 99: {  // Enable NumberPicker
            // click listen is enable set the NumberPicker visible.
            mpnp-&gt;setVisibility(Widget::VISIBLE);
            mpenablenumber-&gt;setVisibility(Widget::GONE);
            // set the number range 1 ~ 99 can let user to scroller
            mpnp-&gt;setRange(1, 99);
            // set the default value as 98
            mpnp-&gt;setCenterView(98);
            // set the  callback listener if number picker scrolled by user it will call onDataSet.
            mpnp-&gt;setIOnScrollIdleStateListener(this);
            mpnumbertext-&gt;setText("Enable NumberPicker");
            break;
        }
        default: {
            break;
        }
    }
}</p>
<p>// call after user scorll the picker
void PickerTest::onDataSet(NumberPicker* target, int32_t data) {
    GLOGENTRY(LOG_TAG);
    if (target != NULL) {
        // set Text to tell user which number he/she select
        String number = String("NumberPicker : ")
            + String::valueOf(mpnp-&gt;getCenterView());
        mpnumbertext-&gt;setText(number);</p>
<pre><code>}
</code></pre>
<p>}
</code></pre></p>
<h3>NumberPicker API</h3>
<pre><code>    //Set listener to be notified for scroll state idle.
    void setIOnScrollIdleStateListener(IOnScrollIdleStateListener* target);

    // Set the content's range of the picker.
    void setRange(int32_t start, int32_t end);

    // Set the content's range of the picker.
    void setRange(int32_t start, int32_t end,
            const gaia::base::StringArray&amp; candidates);

    // Set the number that want to show on the picker.
    void setShowNumberDigits(int32_t digit);

    // Return the center number of the picker.
    int32_t getCenterView();

    // Set the center number of the picker.
    void setCenterView(int32_t pos);

    // Set picker enable or not.
    void setEnabled(bool enabled);

    // Slide with offset, set offset with DEFAULTFRAMEOFFSET for slide one frame.
    void slideWithOffset(int32_t offset);

    // Set picker repeat enable or not.
    void setRepeatEnable(bool enable);

    // Set count down mode enable or not.
    void setCountDownMode(bool enable);

    // get slide offset for slideWithOffset.
    int32_t getDefaultSlideOffset();
</code></pre>
<h2><a name="TimePicker">TimePicker</a></h2>
<p><img src="TimePicker.png" width="549" height="370"/>
<br></p>
<h2>TimePicker</h2>
<p>A widget that enables the user to Time let developer know user set.
This widget for selecting the time of day, in either 24 hour or AM/PM mode
In this section, you can know how to use the TimePicker.</p>
<h3>Using TimePicker</h3>
<p><pre><code>
void  PickerTest::onInit(Persistence* const p) {
    GLOGENTRY(LOG_TAG);
    mpScene = Scene::SceneFactory(this);
    mpcRight = new LinearController(this);
    mpcRight-&gt;setOrientation(LinearController::VERTICAL);
    mplcp2 = new LinearControllerParams(ControllerParams::FILL_PARENT,
                 ControllerParams::WRAP_CONTENT, 1);
    mplc-&gt;addWidget(mpcRight, mplcp2);</p>
<pre><code>// TimePicker test
mptimetext = new TextWidget(this);
mptimetext-&gt;setText("TimePicker Test");
mpcRight-&gt;addWidget(mptimetext);

mpenabletime = new Button(this);
// set the Button to triggle TimePicker
mpenabletime-&gt;setId(88);
mpenabletime-&gt;setText("Enable TimePicker");
mpenabletime-&gt;setOnClickListener(this);
mpcRight-&gt;addWidget(mpenabletime);

mptp = new TimePicker(this);
// set the Time Picker to LinearController and set it in-invisible as default
mpcRight-&gt;addWidget(mptp);
mptp-&gt;setVisibility(Widget::GONE);
mpScene-&gt;attachController(mpcouter);
mpScene-&gt;setupSceneLayout();
</code></pre>
<p>}</p>
<p>void PickerTest::onClick(Widget* widget) {
    GLOGENTRY(LOG_TAG);
    int32_t id = widget-&gt;getId();
    if (id == 88)
        r = id;
    switch (r) {
        case 88: {  // Enable TimePicker
            mptp-&gt;setVisibility(Widget::VISIBLE);
            mpenabletime-&gt;setVisibility(Widget::GONE);
            mptp-&gt;dispatchIOnScrollIdleStateListener(this);
            // Set Default Time
            mptp-&gt;setCurrentHour(10);
            mptp-&gt;setCurrentMinute(10);
            mptp-&gt;setCurrentSecond(10);
            mpnumbertext-&gt;setText("Enable TimePicker");
        }
        default: {
            break;
        }
    }
}</p>
<p>// call after user scorll the picker
void PickerTest::onDataSet(NumberPicker* target, int32_t data) {
    GLOGENTRY(LOG_TAG);
     // set the time to let user know what they set
     if (mptp-&gt;getVisibility() == Widget::VISIBLE) {
            String time = String("TimePicker : ")
                    + String::valueOf(mptp-&gt;getCurrentHour()) + String(" - ")
                    + String::valueOf(mptp-&gt;getCurrentMinute()) + String(" - ")
                    + String::valueOf(mptp-&gt;getCurrentSecond()) + String(" - ")
                    + String::valueOf(mptp-&gt;getCurrentAmPm());
            mptimetext-&gt;setText(time);
      }
}
</code></pre></p>
<h3>TimePicker API</h3>
<pre><code>    //Dispatch listener to be notified for scroll state idle.
    void dispatchIOnScrollIdleStateListener(
        IOnScrollIdleStateListener* target);

    // Set second picker enable or not.
    void setSecondPickerEnable(bool enabled);

    // Return Second picker enable or not.
    bool isSecondPickerEndabled();

    // Set hour as current Hour.
    void setCurrentHour(int32_t hour);

    // Set minute as current Minute.
    void setCurrentMinute(int32_t minute);

    // Set second as current Second.
    void setCurrentSecond(int32_t second);

    // Set the current time is before afternoon or after.
    void setCurrentAmPm(int32_t ampm);

    // Return current Hour.
    int32_t getCurrentHour();

    // Return current Minute.
    int32_t getCurrentMinute();

    // Return current Second.
    int32_t getCurrentSecond();

    // Get the current time is before afternoon or after.
    int32_t getCurrentAmPm();

    // Set hour's range.
    void setHourRange(int32_t min, int32_t max);

    // Set minute's range.
    void setMinuteRange(int32_t min, int32_t max);

    // Set second's range.
    void setSecondRange(int32_t min, int32_t max);

    // Set the AmPm range.
    void setAmPmRange(int32_t min, int32_t max,
            const gaia::base::StringArray&amp; candidates);

    // Slide second picker with offset, set offset with
             NumberPicker::DEFAULTFRAMEOFFSET for slide one frame.
    void slideSecondWithOffset(int32_t offset);

    // Slide minute picker with offset, set offset with
       NumberPicker::DEFAULTFRAMEOFFSET for slide one frame.
    void slideMinuteWithOffset(int32_t offset);

    // Slide hour picker with offset, set offset with
             NumberPicker::DEFAULTFRAMEOFFSET for slide one frame.
    void slideHourWithOffset(int32_t offset);

    // Set day picker's title. 
    void setHourPickerTitle(const gaia::base::String&amp; title);

    // Set month picker's title.
    void setMinutePickerTitle(const gaia::base::String&amp; title);

    // Set year picker's title.
    void setSecondPickerTitle(const gaia::base::String&amp; title);

    // Disable all picker's title.
       If user call disableTitle(), title won't enable again.
    void disableTitle();

    // Set count down mode enable or not.
    void setCountDownMode(bool enable);

    // Set picker repeat enable or not.
    void setRepeatEnable(bool enable);
</code></pre>
<h2><a name="DatePicker">DatePicker</a></h2>
<p><img src="DatePicker.png" width="550" height="371"/>
<br></p>
<h2>DatePicker</h2>
<p>A widget that enables the user to Date let developer know user set.
This widget for selecting the Date.
In this section, you can know how to use the DatePicker.</p>
<h3>Using DatePicker</h3>
<p><pre><code>
void  PickerTest::onInit(Persistence* const p) {
    GLOGENTRY(LOG_TAG);
    mpScene = Scene::SceneFactory(this);
    mpcRight = new LinearController(this);
    mpcRight-&gt;setOrientation(LinearController::VERTICAL);
    mplcp2 = new LinearControllerParams(ControllerParams::FILL_PARENT,
                 ControllerParams::WRAP_CONTENT, 1);
    mplc-&gt;addWidget(mpcRight, mplcp2);</p>
<pre><code>mpnumbertext = new TextWidget(this);
mpnumbertext-&gt;setText("NumberPicker Test");
mpcRight-&gt;addWidget(mpnumbertext);

// set the Button to triggle DatePicker
 mpenabledate = new Button(this);
mpenabledate-&gt;setId(77);
mpenabledate-&gt;setText("Enable DatePicker");
mpenabledate-&gt;setOnClickListener(this);
mpcRight-&gt;addWidget(mpenabledate);

mpdp = new DatePicker(this);
</code></pre>
<p>// set the Date Picker to LinearController and set it in-invisible as default
    mpcRight-&gt;addWidget(mpdp);
    mpdp-&gt;setVisibility(Widget::GONE);</p>
<pre><code>// new the Text
mpnumbertext = new TextWidget(this);
mpnumbertext-&gt;setText("DatePicker Test");
mpcRight-&gt;addWidget(mpnumbertext);

mpScene-&gt;attachController(mpcouter);
mpScene-&gt;setupSceneLayout();
</code></pre>
<p>}</p>
<p>void PickerTest::onClick(Widget* widget) {
    GLOGENTRY(LOG_TAG);
    int32_t id = widget-&gt;getId();
    if (id == 77)
        r = id;
    switch (r) {
        case 77: {  // Enable DatePicker
            mpdp-&gt;setVisibility(Widget::VISIBLE);
            mpenabledate-&gt;setVisibility(Widget::GONE);
            mpdp-&gt;dispatchIOnScrollIdleStateListener(this);
            // set default date picker
            mpdp-&gt;setCurrentYear(2012);
            mpdp-&gt;setCurrentMonth(5);
            mpdp-&gt;setCurrentDay(9);
            mpnumbertext-&gt;setText("Enable DatePicker");
            break;
        }
        default: {
            break;
        }
    }
}</p>
<p>// call after user scorll the Datepicker
void PickerTest::onDataSet(NumberPicker* target, int32_t data) {
    GLOGENTRY(LOG_TAG);
    if (mpdp-&gt;getVisibility() == Widget::VISIBLE) {
            String date = String("DatePicker : ")
                    + String::valueOf(mpdp-&gt;getCurrentMonth()) + String(" - ")
                    + String::valueOf(mpdp-&gt;getCurrentDay()) + String(" - ")
                    + String::valueOf(mpdp-&gt;getCurrentYear());
            mpdatetext-&gt;setText(date);
    }
}
</code></pre></p>
<h3>DatePicker API</h3>
<pre><code>    // Dispatch listener to be notified for scroll state idle.
    void dispatchIOnScrollIdleStateListener(
        IOnScrollIdleStateListener* target);

    // Set month as current month.
    void setCurrentMonth(int32_t month);

    // Set day as current Day.
    void setCurrentDay(int32_t day);

    // Set year as current Year.
    void setCurrentYear(int32_t year);

    // Return current Month.
    int32_t getCurrentMonth();

    // Return current Day.
    int32_t getCurrentDay();

    // Return current Year.
    int32_t getCurrentYear();

    // Set month's range.
    void setMonthRange(int32_t min, int32_t max);

    // Set day's range.
    void setDayRange(int32_t min, int32_t max);

    // Set year's range.
    void setYearRange(int32_t min, int32_t max);
</code></pre>
<h2>References</h2>
<ol>
<li>NumberPicker</li>
<li>TimePicker</li>
<li>Datepicker</li>
</ol>
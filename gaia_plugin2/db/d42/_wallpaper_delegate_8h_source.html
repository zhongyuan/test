<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>

<title>/home/vilon_tao/gaia/sdk/include/gaia/service/WallpaperDelegate.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript" src="../../dynsections.js"></script>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../dir_0a2191738eaf1a89d8dba65a5e0e62dd.html">include</a>      </li>
      <li class="navelem"><a class="el" href="../../dir_18fe6922e29c45285b63ff54cf62344c.html">gaia</a>      </li>
      <li class="navelem"><a class="el" href="../../dir_49f0f02d814b5e2369819d582db009ee.html">service</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">WallpaperDelegate.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../db/d42/_wallpaper_delegate_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// Copyright for gaia</span>
<a name="l00002"></a>00002 <span class="preprocessor">#pragma once</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="preprocessor">#ifndef _SERVICE_WALLPAPERSERVICE_H_</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span><span class="preprocessor">#define _SERVICE_WALLPAPERSERVICE_H_</span>
<a name="l00005"></a>00005 <span class="preprocessor"></span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &lt;<a class="code" href="../../d9/dfd/_delegate_8h.html">gaia/core/Delegate.h</a>&gt;</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &lt;sys/types.h&gt;</span>
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 <span class="comment">// check null pointer</span>
<a name="l00010"></a><a class="code" href="../../db/d42/_wallpaper_delegate_8h.html#a152dcb8c9c5e83d7852c759e7da4415c">00010</a> <span class="preprocessor">#define CHECK_NULL_POINTER_RETURN(cond) if (!cond) { \</span>
<a name="l00011"></a>00011 <span class="preprocessor">    GLOG(LOG_TAG, LOGER, &quot;NULL Pointer at %s(%d)&quot;, __FILE__, __LINE__); \</span>
<a name="l00012"></a>00012 <span class="preprocessor">    return; \</span>
<a name="l00013"></a>00013 <span class="preprocessor">    }</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span>
<a name="l00015"></a><a class="code" href="../../db/d42/_wallpaper_delegate_8h.html#a752f230571d157d0342a69126fc7d831">00015</a> <span class="preprocessor">#define CHECK_NULL_POINTER_RETURN_FALSE(cond) if (!cond) { \</span>
<a name="l00016"></a>00016 <span class="preprocessor">    GLOG(LOG_TAG, LOGER, &quot;NULL Pointer at %s(%d)&quot;, __FILE__, __LINE__); \</span>
<a name="l00017"></a>00017 <span class="preprocessor">    return false; \</span>
<a name="l00018"></a>00018 <span class="preprocessor">    }</span>
<a name="l00019"></a>00019 <span class="preprocessor"></span>
<a name="l00020"></a><a class="code" href="../../db/d42/_wallpaper_delegate_8h.html#a9d4d862b8239991bf9ab5cc8b4db9698">00020</a> <span class="preprocessor">#define CHECK_NULL_POINTER_RETURN_ZERO(cond) if (!cond) { \</span>
<a name="l00021"></a>00021 <span class="preprocessor">    GLOG(LOG_TAG, LOGER, &quot;NULL Pointer at %s(%d)&quot;, __FILE__, __LINE__); \</span>
<a name="l00022"></a>00022 <span class="preprocessor">    return 0; \</span>
<a name="l00023"></a>00023 <span class="preprocessor">    }</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span>
<a name="l00025"></a><a class="code" href="../../db/d42/_wallpaper_delegate_8h.html#a3d85d3b7925086535945f926df9fed79">00025</a> <span class="preprocessor">#define CHECK_NULL_POINTER_RETURN_NULL(cond) if (!cond) { \</span>
<a name="l00026"></a>00026 <span class="preprocessor">    GLOG(LOG_TAG, LOGER, &quot;NULL Pointer at %s(%d)&quot;, __FILE__, __LINE__); \</span>
<a name="l00027"></a>00027 <span class="preprocessor">    return NULL; \</span>
<a name="l00028"></a>00028 <span class="preprocessor">    }</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span>
<a name="l00030"></a>00030 <span class="keyword">namespace </span>gaia {
<a name="l00031"></a>00031 
<a name="l00032"></a>00032     <span class="keyword">namespace </span>base {
<a name="l00033"></a>00033         <span class="keyword">class </span>String;
<a name="l00034"></a>00034     }
<a name="l00035"></a>00035 
<a name="l00036"></a>00036     <span class="keyword">namespace </span>core {
<a name="l00037"></a>00037         <span class="keyword">class </span>Persistence;
<a name="l00038"></a>00038         <span class="keyword">class </span>SurfaceHolder;
<a name="l00039"></a>00039         <span class="keyword">class </span>MotionEvent;
<a name="l00040"></a>00040     }
<a name="l00041"></a>00041 
<a name="l00042"></a>00042     <span class="keyword">namespace </span>service {
<a name="l00043"></a>00043         <span class="keyword">class </span>WallpaperEngineProxy;
<a name="l00044"></a>00044         <span class="keyword">class </span>WallpaperDelegateProxy;
<a name="l00045"></a>00045         <span class="keyword">class </span>WallpaperDelegate;
<a name="l00046"></a>00046 
<a name="l00055"></a><a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html">00055</a> <span class="keyword">class </span><a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html" title="The actual implementation of a wallpaper.">WallpaperEngine</a> {
<a name="l00056"></a>00056   <span class="keyword">protected</span>:
<a name="l00060"></a>00060     <a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html#aae59025b684f4a4f1720235afa14923e" title="Default constructor.">WallpaperEngine</a>();
<a name="l00061"></a>00061     <span class="keyword">explicit</span> <a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html#aae59025b684f4a4f1720235afa14923e" title="Default constructor.">WallpaperEngine</a>(<span class="keyword">const</span> <a class="code" href="../../db/dc1/classgaia_1_1service_1_1_wallpaper_delegate.html" title="A WallpaperDelegate is responsible for showing a live wallpaper behind applications that would like t...">WallpaperDelegate</a>&amp; outer_ref);
<a name="l00065"></a>00065     <span class="keyword">virtual</span> <a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html#a948712bc09cd6aae9ffde17d33815b6b" title="Default destructor.">~WallpaperEngine</a>();
<a name="l00066"></a>00066 
<a name="l00067"></a>00067   <span class="keyword">protected</span>:
<a name="l00069"></a>00069     WallpaperEngineProxy* mpProxy;
<a name="l00071"></a>00071 
<a name="l00072"></a>00072   <span class="keyword">public</span>:
<a name="l00076"></a>00076     <span class="keyword">virtual</span> int32_t <a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html#ac79c4024dc5e2bc989556c184c0a5231" title="Convenience for WallpaperManager::getDesiredMinimumWidth(), returning the width that the system would...">getDesiredMinimumWidth</a>() <span class="keyword">const</span>;
<a name="l00080"></a>00080     <span class="keyword">virtual</span> int32_t <a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html#a428850667352824dbd1e4b537f8945a9" title="Convenience for WallpaperManager::getDesiredMinimumHeight(), returning the height that the system wou...">getDesiredMinimumHeight</a>() <span class="keyword">const</span>;
<a name="l00084"></a>00084     <span class="keyword">virtual</span> <a class="code" href="../../da/da3/classgaia_1_1core_1_1_surface_holder.html">gaia::core::SurfaceHolder</a> <a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html#aeac4c785f6bbfa273dd55e01fa1a3380" title="Provides access to the surface in which this wallpaper is drawn.">getSurfaceHolder</a>();
<a name="l00088"></a>00088     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html#a8363e404c96de8f3cbc56badb4672ee7" title="Returns true if this WallpaperEngine is running in preview mode -- that is, it is being shown to the ...">isPreview</a>() <span class="keyword">const</span>;
<a name="l00092"></a>00092     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html#a98564aea36a58bee22b591cdb77dfd5b" title="Return whether the wallpaper is currently visible to the user, this is the last value supplied to onV...">isVisible</a>() <span class="keyword">const</span>;
<a name="l00109"></a>00109     <span class="keyword">virtual</span> <a class="code" href="../../d8/d47/classgaia_1_1core_1_1_persistence.html" title="A mapping from String values to various primitive types.">gaia::core::Persistence</a>* <a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html#a444d5a6b89b3bcaacd73c81a5da306b1" title="Process a command that was sent to the wallpaper with sendWallpaperCommand(gaia::core::Widget*, gaia::base::String*, int32_t, int32_t, int32_t, gaia::core::Persistence*); The default implementation does nothing, and always returns NULL as the result.">onCommand</a>(<span class="keyword">const</span> <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">gaia::base::String</a>&amp; action,
<a name="l00110"></a>00110        int32_t x, int32_t y, int32_t z, <span class="keyword">const</span> <a class="code" href="../../d8/d47/classgaia_1_1core_1_1_persistence.html" title="A mapping from String values to various primitive types.">gaia::core::Persistence</a>&amp; extras,
<a name="l00111"></a>00111        <span class="keywordtype">bool</span> resultRequested);
<a name="l00112"></a>00112 
<a name="l00116"></a>00116     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html#aae79eb1f145922e0e3b2f58bedb012dc" title="Called once to initialize the WallpaperEngine.">onCreate</a>(<span class="keyword">const</span> <a class="code" href="../../da/da3/classgaia_1_1core_1_1_surface_holder.html">gaia::core::SurfaceHolder</a>&amp; surfaceHolder);
<a name="l00120"></a>00120     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html#adbda238dda74493e02e60108e295b5b9" title="Called when an application has changed the desired virtual size of the wallpaper.">onDesiredSizeChanged</a>(int32_t desiredWidth, int32_t desiredHeight);
<a name="l00125"></a>00125     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html#ade106c6c595485ea4a78b5ddd1913d2c" title="Called right before the WallpaperEngine is going away.">onDestroy</a>();
<a name="l00126"></a>00126 
<a name="l00130"></a>00130     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html#afe690c4912cacfb228b4096715e5e943" title="Called to inform you of the wallpaper&#39;s offsets changing within its contain, corresponding to the con...">onOffsetsChanged</a>(<span class="keywordtype">float</span> xOffset, <span class="keywordtype">float</span> yOffset,
<a name="l00131"></a>00131         <span class="keywordtype">float</span> xOffsetStep, <span class="keywordtype">float</span> yOffsetStep, int32_t xPixelOffset, int32_t yPixelOffset);
<a name="l00132"></a>00132 
<a name="l00135"></a>00135     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html#a74f167d3f5c46fb4c3447151ca56fffe" title="Convenience for gaia::core::SurfaceHolderCallback::surfaceChanged().">onSurfaceChanged</a>(<span class="keyword">const</span> <a class="code" href="../../da/da3/classgaia_1_1core_1_1_surface_holder.html">gaia::core::SurfaceHolder</a>&amp; holder, int32_t format,
<a name="l00136"></a>00136         int32_t width, int32_t height);
<a name="l00137"></a>00137 
<a name="l00140"></a>00140     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html#ae5769bbabd5dfd38d9e06e470b49f8c2" title="Convenience for gaia::core::SurfaceHolderCallback::surfaceCreated().">onSurfaceCreated</a>(<span class="keyword">const</span> <a class="code" href="../../da/da3/classgaia_1_1core_1_1_surface_holder.html">gaia::core::SurfaceHolder</a>&amp; holder);
<a name="l00141"></a>00141 
<a name="l00144"></a>00144     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html#ad5f3adfd98087a31785f81b86dcc29d0" title="Convenience for gaia::core::SurfaceHolderCallback::surfaceDestroyed().">onSurfaceDestroyed</a>(<span class="keyword">const</span> <a class="code" href="../../da/da3/classgaia_1_1core_1_1_surface_holder.html">gaia::core::SurfaceHolder</a>&amp; holder);
<a name="l00145"></a>00145 
<a name="l00151"></a>00151     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html#a2095844e2c274c6764be9a6cad224539" title="Called as the user performs touch-screen interaction with the window that is currently showing this w...">onTouchEvent</a>(<span class="keyword">const</span> <a class="code" href="../../d6/dd6/classgaia_1_1core_1_1_motion_event.html" title="Object used to report movement (mouse, pen, finger, trackball) events.">gaia::core::MotionEvent</a>&amp; event);
<a name="l00152"></a>00152 
<a name="l00156"></a>00156     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html#a3be5b44393703879db5bd74a34344dd1" title="Called to inform you of the wallpaper becoming visible or hidden.">onVisibilityChanged</a>(<span class="keywordtype">bool</span> visible);
<a name="l00157"></a>00157 
<a name="l00164"></a>00164     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html#a91f05f8402689276d26099d369915961" title="Control whether this wallpaper will receive raw touch events from the window manager as the user inte...">setTouchEventsEnabled</a>(<span class="keywordtype">bool</span> enabled);
<a name="l00165"></a>00165 
<a name="l00167"></a>00167     <span class="keywordtype">void</span> setProxy(WallpaperEngineProxy* proxy);
<a name="l00168"></a>00168     WallpaperEngineProxy* getProxy() <span class="keyword">const</span>;
<a name="l00170"></a>00170 };  <span class="comment">// class WallpaperEngine</span>
<a name="l00171"></a>00171 
<a name="l00178"></a><a class="code" href="../../db/dc1/classgaia_1_1service_1_1_wallpaper_delegate.html">00178</a> <span class="keyword">class </span><a class="code" href="../../db/dc1/classgaia_1_1service_1_1_wallpaper_delegate.html" title="A WallpaperDelegate is responsible for showing a live wallpaper behind applications that would like t...">WallpaperDelegate</a> : <span class="keyword">public</span> gaia::core::Delegate {
<a name="l00180"></a>00180     WallpaperDelegateProxy* mpWallpaperProxy;
<a name="l00182"></a>00182   <span class="keyword">public</span>:
<a name="l00183"></a>00183 
<a name="l00189"></a>00189     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">gaia::base::String</a> <a class="code" href="../../db/dc1/classgaia_1_1service_1_1_wallpaper_delegate.html#abbabf19a96324e3eb5e577ec14d0d77d" title="The Demand that must be declared as handled by the Delegate.">SERVICE_INTERFACE</a>();
<a name="l00190"></a>00190 
<a name="l00195"></a>00195     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">gaia::base::String</a> <a class="code" href="../../db/dc1/classgaia_1_1service_1_1_wallpaper_delegate.html#a2d0b558cb55d04fffc0e8950ad8603a3" title="Name under which a WallpaperDelegate component publishes information about itself.">SERVICE_META_DATA</a>();
<a name="l00196"></a>00196 
<a name="l00200"></a>00200     <a class="code" href="../../db/dc1/classgaia_1_1service_1_1_wallpaper_delegate.html#a763fee88e63880ccc53f571ea4dde1ec" title="default constructor">WallpaperDelegate</a>();
<a name="l00201"></a>00201 
<a name="l00205"></a>00205     <span class="keyword">virtual</span> <a class="code" href="../../db/dc1/classgaia_1_1service_1_1_wallpaper_delegate.html#adb028b3b352b72d10fdfac04a391eabe" title="default destructor">~WallpaperDelegate</a>();
<a name="l00206"></a>00206 
<a name="l00211"></a>00211     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../db/dc1/classgaia_1_1service_1_1_wallpaper_delegate.html#aa3f7029f1b6402d510fe0cf62bb6a1aa" title="Called by the system when the service is first created.">onCreate</a>();
<a name="l00212"></a>00212 
<a name="l00219"></a>00219     <span class="keyword">virtual</span> <a class="code" href="../../df/dc3/classgaia_1_1service_1_1_wallpaper_engine.html" title="The actual implementation of a wallpaper.">WallpaperEngine</a>* <a class="code" href="../../db/dc1/classgaia_1_1service_1_1_wallpaper_delegate.html#a815a73c4e24d6a2544129b2421585577" title="Must be implemented to return a new instance of the wallpaper&#39;s WallpaperEngine.">onCreateWallpaperEngine</a>() = 0;
<a name="l00220"></a>00220 
<a name="l00227"></a>00227     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../db/dc1/classgaia_1_1service_1_1_wallpaper_delegate.html#a1ff77ddf8ff1f703c8a694b4bbb27acc" title="Called by the system to notify a Delegate that it is no longer used and is being removed.">onDestroy</a>();
<a name="l00228"></a>00228 
<a name="l00230"></a>00230     <span class="keywordtype">void</span> setWallpaperProxy(WallpaperDelegateProxy* proxy);
<a name="l00231"></a>00231     WallpaperDelegateProxy* getWallpaperProxy() <span class="keyword">const</span>;
<a name="l00233"></a>00233 };  <span class="comment">// class WallpaperDelegate</span>
<a name="l00234"></a>00234 
<a name="l00235"></a>00235     }  <span class="comment">// namespace service</span>
<a name="l00236"></a>00236 }  <span class="comment">// namespace gaia</span>
<a name="l00237"></a>00237 
<a name="l00238"></a>00238 <span class="preprocessor">#endif  // _SERVICE_PAPERSERVICE_H_</span>
</pre></div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 25 2013 11:23:19 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>

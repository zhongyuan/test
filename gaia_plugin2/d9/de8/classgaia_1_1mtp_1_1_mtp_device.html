<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gaia::mtp::MtpDevice Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = '../../open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = '../../closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d9/db5/namespacegaia.html">gaia</a>      </li>
      <li class="navelem"><a class="el" href="../../db/d3e/namespacegaia_1_1mtp.html">mtp</a>      </li>
      <li class="navelem"><a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html">MtpDevice</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">gaia::mtp::MtpDevice Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="gaia::mtp::MtpDevice" -->
<p>This class represents an MTP or PTP device connected on the USB host bus.  
 <a href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d7/db4/_mtp_device_8h_source.html">MtpDevice.h</a>&gt;</code></p>

<p><a href="../../d9/db2/classgaia_1_1mtp_1_1_mtp_device-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html#acbd7324a29d8c708097f93e4280a797c">MtpDevice</a> (const <a class="el" href="../../d7/d7c/classgaia_1_1usb_1_1_usb_device.html">usb::UsbDevice</a> &amp;device)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">MtpClient constructor.  <a href="#acbd7324a29d8c708097f93e4280a797c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html#afd0f4316e51e8a0d5b1aefba1a4d5241">~MtpDevice</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html#a89d86694cda1aa6852ebdcc7427a69bc">open</a> (const <a class="el" href="../../d2/d8d/classgaia_1_1usb_1_1_usb_device_connection.html">usb::UsbDeviceConnection</a> &amp;connection)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens the MTP device.  <a href="#a89d86694cda1aa6852ebdcc7427a69bc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html#a61618be9d838dd0c9e2d4ca674223b42">close</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes all resources related to the <a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html" title="This class represents an MTP or PTP device connected on the USB host bus.">MtpDevice</a> object.  <a href="#a61618be9d838dd0c9e2d4ca674223b42"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html#a4a99c576aac5f4fa76f16bf8b1e4cdff">getDeviceName</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the USB device This returns the same value as <a class="el" href="../../d7/d7c/classgaia_1_1usb_1_1_usb_device.html#ade2a374fb4dab14d824465c46fbe934b">gaia.usb.UsbDevice#getDeviceName</a> for the device's <a class="el" href="../../d7/d7c/classgaia_1_1usb_1_1_usb_device.html">gaia.usb.UsbDevice</a>.  <a href="#a4a99c576aac5f4fa76f16bf8b1e4cdff"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html#af07f0bf83e28b9f32658638976dd589c">getDeviceId</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the USB ID of the USB device.  <a href="#af07f0bf83e28b9f32658638976dd589c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/df9/classgaia_1_1mtp_1_1_mtp_device_info.html">MtpDeviceInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html#a05d155b9ce748429ef0df0c61fd81752">getDeviceInfoN</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <a class="el" href="../../d3/df9/classgaia_1_1mtp_1_1_mtp_device_info.html">MtpDeviceInfo</a> for this device.  <a href="#a05d155b9ce748429ef0df0c61fd81752"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d5d/classgaia_1_1base_1_1_vector.html">base::Vector</a>&lt; int32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html#a41194c279f13c4474c35778e483d4abf">getStorageIds</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the list of IDs for all storage units on this device Information about each storage unit can be accessed via <a class="el" href="../../">getStorageInfo</a>.  <a href="#a41194c279f13c4474c35778e483d4abf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d5d/classgaia_1_1base_1_1_vector.html">base::Vector</a>&lt; int32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html#a257e96a5b3b35296fb0523fbcd08ec6a">getObjectHandles</a> (int32_t storageId, int32_t format, int32_t objectHandle)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the list of object handles for all objects on the given storage unit, with the given format and parent.  <a href="#a257e96a5b3b35296fb0523fbcd08ec6a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d04/classgaia_1_1base_1_1_byte_array.html">base::ByteArray</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html#a4d9c83057bf28db35d2795c5d809e4b5">getObject</a> (int32_t objectHandle, int32_t objectSize)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the data for an object as a byte array.  <a href="#a4d9c83057bf28db35d2795c5d809e4b5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d04/classgaia_1_1base_1_1_byte_array.html">base::ByteArray</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html#a13512aa895a9e4f4c571e10313aaebd5">getThumbnail</a> (int32_t objectHandle)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the thumbnail data for an object as a byte array.  <a href="#a13512aa895a9e4f4c571e10313aaebd5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d3b/classgaia_1_1mtp_1_1_mtp_storage_info.html">MtpStorageInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html#a079eb60eb54260a1b7c9f1923a855a4a">getStorageInfoN</a> (int32_t storageId)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the <a class="el" href="../../d4/d3b/classgaia_1_1mtp_1_1_mtp_storage_info.html">MtpStorageInfo</a> for a storage unit.  <a href="#a079eb60eb54260a1b7c9f1923a855a4a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d6a/classgaia_1_1mtp_1_1_mtp_object_info.html">MtpObjectInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html#aec859d153f4c0b89fafb55ea6db0547c">getObjectInfoN</a> (int32_t objectHandle)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the <a class="el" href="../../da/d6a/classgaia_1_1mtp_1_1_mtp_object_info.html">MtpObjectInfo</a> for an object.  <a href="#aec859d153f4c0b89fafb55ea6db0547c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html#ab6fb0e2d5cb9f41475ad71f5a4d0d273">deleteObject</a> (int32_t objectHandle)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes an object on the device.  <a href="#ab6fb0e2d5cb9f41475ad71f5a4d0d273"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html#a77af761d791bdafb96f88a5367a84d01">getParent</a> (int32_t objectHandle)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the object handle for the parent of an object on the device.  <a href="#a77af761d791bdafb96f88a5367a84d01"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html#a41d91669f10aa513569723a73b5982bd">getStorageId</a> (int32_t objectHandle)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the ID of the storage unit containing the given object on the device.  <a href="#a41d91669f10aa513569723a73b5982bd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html#a99acbf2627996f57e07831a28d50a29d">importFile</a> (int32_t objectHandle, const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> &amp;destPath)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the data for an object to a file in external storage.  <a href="#a99acbf2627996f57e07831a28d50a29d"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html#a2c11fb9c2aa910dc39000a94b509dacd">DISALLOW_COPY_AND_ASSIGN</a> (<a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html">MtpDevice</a>)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This class represents an MTP or PTP device connected on the USB host bus. </p>
<p>An application can instantiate an object of this type, by referencing an attached <a class="el" href="../../d7/d7c/classgaia_1_1usb_1_1_usb_device.html">gaia.usb.UsbDevice</a> and then use methods in this class to get information about the device and objects stored on it, as well as open the connection and transfer data. </p>

<p>Definition at line <a class="el" href="../../d7/db4/_mtp_device_8h_source.html#l00028">28</a> of file <a class="el" href="../../d7/db4/_mtp_device_8h_source.html">MtpDevice.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="acbd7324a29d8c708097f93e4280a797c"></a><!-- doxytag: member="gaia::mtp::MtpDevice::MtpDevice" ref="acbd7324a29d8c708097f93e4280a797c" args="(const usb::UsbDevice &amp;device)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gaia::mtp::MtpDevice::MtpDevice </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d7c/classgaia_1_1usb_1_1_usb_device.html">usb::UsbDevice</a> &amp;&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>MtpClient constructor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>the <a class="el" href="../../d7/d7c/classgaia_1_1usb_1_1_usb_device.html">gaia.usb.UsbDevice</a> for the MTP or PTP device </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afd0f4316e51e8a0d5b1aefba1a4d5241"></a><!-- doxytag: member="gaia::mtp::MtpDevice::~MtpDevice" ref="afd0f4316e51e8a0d5b1aefba1a4d5241" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual gaia::mtp::MtpDevice::~MtpDevice </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a61618be9d838dd0c9e2d4ca674223b42"></a><!-- doxytag: member="gaia::mtp::MtpDevice::close" ref="a61618be9d838dd0c9e2d4ca674223b42" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaia::mtp::MtpDevice::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Closes all resources related to the <a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html" title="This class represents an MTP or PTP device connected on the USB host bus.">MtpDevice</a> object. </p>
<p>After this is called, the object can not be used until <a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html#a89d86694cda1aa6852ebdcc7427a69bc">open</a> is called again with a new <a class="el" href="../../d2/d8d/classgaia_1_1usb_1_1_usb_device_connection.html">gaia.usb.UsbDeviceConnection</a>. </p>

</div>
</div>
<a class="anchor" id="ab6fb0e2d5cb9f41475ad71f5a4d0d273"></a><!-- doxytag: member="gaia::mtp::MtpDevice::deleteObject" ref="ab6fb0e2d5cb9f41475ad71f5a4d0d273" args="(int32_t objectHandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gaia::mtp::MtpDevice::deleteObject </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>objectHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deletes an object on the device. </p>
<p>This call may block, since deleting a directory containing many files may take a long long time on some devices.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">objectHandle</td><td>handle of the object to delete </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the deletion succeeds </dd></dl>

</div>
</div>
<a class="anchor" id="a2c11fb9c2aa910dc39000a94b509dacd"></a><!-- doxytag: member="gaia::mtp::MtpDevice::DISALLOW_COPY_AND_ASSIGN" ref="a2c11fb9c2aa910dc39000a94b509dacd" args="(MtpDevice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gaia::mtp::MtpDevice::DISALLOW_COPY_AND_ASSIGN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html">MtpDevice</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af07f0bf83e28b9f32658638976dd589c"></a><!-- doxytag: member="gaia::mtp::MtpDevice::getDeviceId" ref="af07f0bf83e28b9f32658638976dd589c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t gaia::mtp::MtpDevice::getDeviceId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the USB ID of the USB device. </p>
<p>This returns the same value as <a class="el" href="../../d7/d7c/classgaia_1_1usb_1_1_usb_device.html#a1abb7da6f76788c3f6ae4b1dc5a89810">gaia.usb.UsbDevice#getDeviceId</a> for the device's <a class="el" href="../../d7/d7c/classgaia_1_1usb_1_1_usb_device.html">gaia.usb.UsbDevice</a></p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the device ID </dd></dl>

</div>
</div>
<a class="anchor" id="a05d155b9ce748429ef0df0c61fd81752"></a><!-- doxytag: member="gaia::mtp::MtpDevice::getDeviceInfoN" ref="a05d155b9ce748429ef0df0c61fd81752" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/df9/classgaia_1_1mtp_1_1_mtp_device_info.html">MtpDeviceInfo</a>* gaia::mtp::MtpDevice::getDeviceInfoN </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the <a class="el" href="../../d3/df9/classgaia_1_1mtp_1_1_mtp_device_info.html">MtpDeviceInfo</a> for this device. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the device info </dd></dl>

</div>
</div>
<a class="anchor" id="a4a99c576aac5f4fa76f16bf8b1e4cdff"></a><!-- doxytag: member="gaia::mtp::MtpDevice::getDeviceName" ref="a4a99c576aac5f4fa76f16bf8b1e4cdff" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> gaia::mtp::MtpDevice::getDeviceName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the name of the USB device This returns the same value as <a class="el" href="../../d7/d7c/classgaia_1_1usb_1_1_usb_device.html#ade2a374fb4dab14d824465c46fbe934b">gaia.usb.UsbDevice#getDeviceName</a> for the device's <a class="el" href="../../d7/d7c/classgaia_1_1usb_1_1_usb_device.html">gaia.usb.UsbDevice</a>. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the device name </dd></dl>

</div>
</div>
<a class="anchor" id="a4d9c83057bf28db35d2795c5d809e4b5"></a><!-- doxytag: member="gaia::mtp::MtpDevice::getObject" ref="a4d9c83057bf28db35d2795c5d809e4b5" args="(int32_t objectHandle, int32_t objectSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d04/classgaia_1_1base_1_1_byte_array.html">base::ByteArray</a> gaia::mtp::MtpDevice::getObject </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>objectHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>objectSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the data for an object as a byte array. </p>
<p>This call may block for an arbitrary amount of time depending on the size of the data and speed of the devices.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">objectHandle</td><td>handle of the object to read </td></tr>
    <tr><td class="paramname">objectSize</td><td>the size of the object (this should match <a class="el" href="../../da/d6a/classgaia_1_1mtp_1_1_mtp_object_info.html#a8e68178a845735ca502d93a3e0091c52">MtpObjectInfo#getCompressedSize</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the object's data, or null if reading fails </dd></dl>

</div>
</div>
<a class="anchor" id="a257e96a5b3b35296fb0523fbcd08ec6a"></a><!-- doxytag: member="gaia::mtp::MtpDevice::getObjectHandles" ref="a257e96a5b3b35296fb0523fbcd08ec6a" args="(int32_t storageId, int32_t format, int32_t objectHandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d5d/classgaia_1_1base_1_1_vector.html">base::Vector</a>&lt;int32_t&gt; gaia::mtp::MtpDevice::getObjectHandles </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>storageId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>objectHandle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the list of object handles for all objects on the given storage unit, with the given format and parent. </p>
<p>Information about each object can be accessed via <a class="el" href="../../">getObjectInfo</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">storageId</td><td>the storage unit to query </td></tr>
    <tr><td class="paramname">format</td><td>the format of the object to return, or zero for all formats </td></tr>
    <tr><td class="paramname">objectHandle</td><td>the parent object to query, or zero for the storage root </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the object handles </dd></dl>

</div>
</div>
<a class="anchor" id="aec859d153f4c0b89fafb55ea6db0547c"></a><!-- doxytag: member="gaia::mtp::MtpDevice::getObjectInfoN" ref="aec859d153f4c0b89fafb55ea6db0547c" args="(int32_t objectHandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d6a/classgaia_1_1mtp_1_1_mtp_object_info.html">MtpObjectInfo</a>* gaia::mtp::MtpDevice::getObjectInfoN </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>objectHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieves the <a class="el" href="../../da/d6a/classgaia_1_1mtp_1_1_mtp_object_info.html">MtpObjectInfo</a> for an object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">objectHandle</td><td>the handle of the object </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the <a class="el" href="../../da/d6a/classgaia_1_1mtp_1_1_mtp_object_info.html" title="This class encapsulates information about an object on an MTP device.">MtpObjectInfo</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a77af761d791bdafb96f88a5367a84d01"></a><!-- doxytag: member="gaia::mtp::MtpDevice::getParent" ref="a77af761d791bdafb96f88a5367a84d01" args="(int32_t objectHandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t gaia::mtp::MtpDevice::getParent </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>objectHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieves the object handle for the parent of an object on the device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">objectHandle</td><td>handle of the object to query </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the parent's handle, or zero if it is in the root of the storage </dd></dl>

</div>
</div>
<a class="anchor" id="a41d91669f10aa513569723a73b5982bd"></a><!-- doxytag: member="gaia::mtp::MtpDevice::getStorageId" ref="a41d91669f10aa513569723a73b5982bd" args="(int32_t objectHandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t gaia::mtp::MtpDevice::getStorageId </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>objectHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieves the ID of the storage unit containing the given object on the device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">objectHandle</td><td>handle of the object to query </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the object's storage unit ID </dd></dl>

</div>
</div>
<a class="anchor" id="a41194c279f13c4474c35778e483d4abf"></a><!-- doxytag: member="gaia::mtp::MtpDevice::getStorageIds" ref="a41194c279f13c4474c35778e483d4abf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d5d/classgaia_1_1base_1_1_vector.html">base::Vector</a>&lt;int32_t&gt; gaia::mtp::MtpDevice::getStorageIds </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the list of IDs for all storage units on this device Information about each storage unit can be accessed via <a class="el" href="../../">getStorageInfo</a>. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the list of storage IDs </dd></dl>

</div>
</div>
<a class="anchor" id="a079eb60eb54260a1b7c9f1923a855a4a"></a><!-- doxytag: member="gaia::mtp::MtpDevice::getStorageInfoN" ref="a079eb60eb54260a1b7c9f1923a855a4a" args="(int32_t storageId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d3b/classgaia_1_1mtp_1_1_mtp_storage_info.html">MtpStorageInfo</a>* gaia::mtp::MtpDevice::getStorageInfoN </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>storageId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieves the <a class="el" href="../../d4/d3b/classgaia_1_1mtp_1_1_mtp_storage_info.html">MtpStorageInfo</a> for a storage unit. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">storageId</td><td>the ID of the storage unit </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the <a class="el" href="../../d4/d3b/classgaia_1_1mtp_1_1_mtp_storage_info.html" title="This class encapsulates information about a storage unit on an MTP device.">MtpStorageInfo</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a13512aa895a9e4f4c571e10313aaebd5"></a><!-- doxytag: member="gaia::mtp::MtpDevice::getThumbnail" ref="a13512aa895a9e4f4c571e10313aaebd5" args="(int32_t objectHandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d04/classgaia_1_1base_1_1_byte_array.html">base::ByteArray</a> gaia::mtp::MtpDevice::getThumbnail </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>objectHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the thumbnail data for an object as a byte array. </p>
<p>The size and format of the thumbnail data can be determined via <a class="el" href="../../da/d6a/classgaia_1_1mtp_1_1_mtp_object_info.html#a1e1f31fd7057dd8ba18ee24b72c3dc0d">MtpObjectInfo#getThumbCompressedSize</a> and <a class="el" href="../../da/d6a/classgaia_1_1mtp_1_1_mtp_object_info.html#aa8a0a909259a9681390bf2b8ed68faa1">MtpObjectInfo#getThumbFormat</a>. For typical devices the format is JPEG.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">objectHandle</td><td>handle of the object to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the object's thumbnail, or null if reading fails </dd></dl>

</div>
</div>
<a class="anchor" id="a99acbf2627996f57e07831a28d50a29d"></a><!-- doxytag: member="gaia::mtp::MtpDevice::importFile" ref="a99acbf2627996f57e07831a28d50a29d" args="(int32_t objectHandle, const base::String &amp;destPath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gaia::mtp::MtpDevice::importFile </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>objectHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> &amp;&#160;</td>
          <td class="paramname"><em>destPath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Copies the data for an object to a file in external storage. </p>
<p>This call may block for an arbitrary amount of time depending on the size of the data and speed of the devices.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">objectHandle</td><td>handle of the object to read </td></tr>
    <tr><td class="paramname">destPath</td><td>path to destination for the file transfer. This path should be in the external storage as defined by <a class="el" href="../../">gaia.os.Environment#getExternalStorageDirectory</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the file transfer succeeds </dd></dl>

</div>
</div>
<a class="anchor" id="a89d86694cda1aa6852ebdcc7427a69bc"></a><!-- doxytag: member="gaia::mtp::MtpDevice::open" ref="a89d86694cda1aa6852ebdcc7427a69bc" args="(const usb::UsbDeviceConnection &amp;connection)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gaia::mtp::MtpDevice::open </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/d8d/classgaia_1_1usb_1_1_usb_device_connection.html">usb::UsbDeviceConnection</a> &amp;&#160;</td>
          <td class="paramname"><em>connection</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Opens the MTP device. </p>
<p>Once the device is open it takes ownership of the <a class="el" href="../../d2/d8d/classgaia_1_1usb_1_1_usb_device_connection.html">gaia.usb.UsbDeviceConnection</a>. The connection will be closed when you call <a class="el" href="../../d9/de8/classgaia_1_1mtp_1_1_mtp_device.html#a61618be9d838dd0c9e2d4ca674223b42">close()</a> The connection will also be closed if this method fails.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>an open <a class="el" href="../../d2/d8d/classgaia_1_1usb_1_1_usb_device_connection.html">gaia.usb.UsbDeviceConnection</a> for the device </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the device was successfully opened. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/gpdbuildserver3/Jenkins_Workspace/workspace/BuildGaia2SDKLauncher/sdk/include/gaia/mtp/<a class="el" href="../../d7/db4/_mtp_device_8h_source.html">MtpDevice.h</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Jul 12 2013 04:17:47 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>

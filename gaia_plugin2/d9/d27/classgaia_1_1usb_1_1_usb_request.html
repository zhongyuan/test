<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gaia::usb::UsbRequest Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = '../../open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = '../../closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d9/db5/namespacegaia.html">gaia</a>      </li>
      <li class="navelem"><a class="el" href="../../d4/d17/namespacegaia_1_1usb.html">usb</a>      </li>
      <li class="navelem"><a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html">UsbRequest</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">gaia::usb::UsbRequest Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="gaia::usb::UsbRequest" -->
<p>A class representing USB request packet.  
 <a href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d7/d81/_usb_request_8h_source.html">UsbRequest.h</a>&gt;</code></p>

<p><a href="../../df/d0a/classgaia_1_1usb_1_1_usb_request-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html#a4eb389e8189e0fdde22efb2f3434aada">UsbRequest</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html#a83bb2cff4ae54f64742277a0b6af6aee">~UsbRequest</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html#af250876efb5787d0d9557612c4586a89">initialize</a> (const <a class="el" href="../../d2/d8d/classgaia_1_1usb_1_1_usb_device_connection.html">UsbDeviceConnection</a> &amp;connection, const <a class="el" href="../../d4/dd6/classgaia_1_1usb_1_1_usb_endpoint.html">UsbEndpoint</a> &amp;endpoint)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the request so it can read or write data on the given endpoint.  <a href="#af250876efb5787d0d9557612c4586a89"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html#a07b6396828cb078c282d4b3a933c700f">close</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases all resources related to this request.  <a href="#a07b6396828cb078c282d4b3a933c700f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dd6/classgaia_1_1usb_1_1_usb_endpoint.html">UsbEndpoint</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html#a95356dcc366c7268124901ce32fbe5fb">getEndpointN</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the endpoint for the request, or null if the request is not opened.  <a href="#a95356dcc366c7268124901ce32fbe5fb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html#aac47a19be3586db9f2ae8de1b8351dce">getClientData</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the client data for the request.  <a href="#aac47a19be3586db9f2ae8de1b8351dce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html#ab8795da23420caedfd0f675e9dde16c7">setClientData</a> (const void *data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the client data for the request.  <a href="#ab8795da23420caedfd0f675e9dde16c7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html#a0e4c972a1c702aa8704d68051c38a648">queue</a> (const <a class="el" href="../../d5/d4c/classgaia_1_1security_1_1_byte_buffer.html">security::ByteBuffer</a> &amp;buffer, int32_t length)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Queues the request to send or receive data on its endpoint.  <a href="#a0e4c972a1c702aa8704d68051c38a648"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html#ab9cbad18d992ac077ff4eb27ca0cfa1d">cancel</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels a pending queue operation.  <a href="#ab9cbad18d992ac077ff4eb27ca0cfa1d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html#ab6f0b568d5fbf146ad64de468a0f614f">operator==</a> (const <a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html">UsbRequest</a> &amp;other)</td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html#a23bd2c9342500c5cb6cdf267b892e321">DISALLOW_COPY_AND_ASSIGN</a> (<a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html">UsbRequest</a>)</td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html#ad27443d461ba308f86d1d7ae448a1ffa">UsbDeviceConnection</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A class representing USB request packet. </p>
<p>This can be used for both reading and writing data to or from a <a class="el" href="../../">android.hardware.usb.UsbDeviceConnection</a>. UsbRequests can be used to transfer data on bulk and interrupt endpoints. Requests on bulk endpoints can be sent synchronously via <a class="el" href="../../d2/d8d/classgaia_1_1usb_1_1_usb_device_connection.html#aac573b17f86f382f2dfbe9a054061f76">UsbDeviceConnection#bulkTransfer</a> or asynchronously via <a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html#a0e4c972a1c702aa8704d68051c38a648">queue</a> and <a class="el" href="../../d2/d8d/classgaia_1_1usb_1_1_usb_device_connection.html#a8e44881209a84a444c2ac2f0d9a52e20">UsbDeviceConnection#requestWait</a>. Requests on interrupt endpoints are only send and received asynchronously.</p>
<p>Requests on endpoint zero are not supported by this class; use <a class="el" href="../../d2/d8d/classgaia_1_1usb_1_1_usb_device_connection.html#ac6c36a9e9408d568ca4859e903f0acf3">UsbDeviceConnection#controlTransfer</a> for endpoint zero requests instead. </p>

<p>Definition at line <a class="el" href="../../d7/d81/_usb_request_8h_source.html#l00033">33</a> of file <a class="el" href="../../d7/d81/_usb_request_8h_source.html">UsbRequest.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a4eb389e8189e0fdde22efb2f3434aada"></a><!-- doxytag: member="gaia::usb::UsbRequest::UsbRequest" ref="a4eb389e8189e0fdde22efb2f3434aada" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gaia::usb::UsbRequest::UsbRequest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a83bb2cff4ae54f64742277a0b6af6aee"></a><!-- doxytag: member="gaia::usb::UsbRequest::~UsbRequest" ref="a83bb2cff4ae54f64742277a0b6af6aee" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual gaia::usb::UsbRequest::~UsbRequest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ab9cbad18d992ac077ff4eb27ca0cfa1d"></a><!-- doxytag: member="gaia::usb::UsbRequest::cancel" ref="ab9cbad18d992ac077ff4eb27ca0cfa1d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gaia::usb::UsbRequest::cancel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cancels a pending queue operation. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if cancelling succeeded </dd></dl>

</div>
</div>
<a class="anchor" id="a07b6396828cb078c282d4b3a933c700f"></a><!-- doxytag: member="gaia::usb::UsbRequest::close" ref="a07b6396828cb078c282d4b3a933c700f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaia::usb::UsbRequest::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Releases all resources related to this request. </p>

</div>
</div>
<a class="anchor" id="a23bd2c9342500c5cb6cdf267b892e321"></a><!-- doxytag: member="gaia::usb::UsbRequest::DISALLOW_COPY_AND_ASSIGN" ref="a23bd2c9342500c5cb6cdf267b892e321" args="(UsbRequest)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gaia::usb::UsbRequest::DISALLOW_COPY_AND_ASSIGN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html">UsbRequest</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aac47a19be3586db9f2ae8de1b8351dce"></a><!-- doxytag: member="gaia::usb::UsbRequest::getClientData" ref="aac47a19be3586db9f2ae8de1b8351dce" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* gaia::usb::UsbRequest::getClientData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the client data for the request. </p>
<p>This can be used in conjunction with <a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html#ab8795da23420caedfd0f675e9dde16c7">setClientData</a> to associate another object with this request, which can be useful for maintaining state between calls to <a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html#a0e4c972a1c702aa8704d68051c38a648">queue</a> and <a class="el" href="../../">android.hardware.usb.UsbDeviceConnection#requestWait</a></p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the client data for the request </dd></dl>

</div>
</div>
<a class="anchor" id="a95356dcc366c7268124901ce32fbe5fb"></a><!-- doxytag: member="gaia::usb::UsbRequest::getEndpointN" ref="a95356dcc366c7268124901ce32fbe5fb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dd6/classgaia_1_1usb_1_1_usb_endpoint.html">UsbEndpoint</a>* gaia::usb::UsbRequest::getEndpointN </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the endpoint for the request, or null if the request is not opened. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the request's endpoint </dd></dl>

</div>
</div>
<a class="anchor" id="af250876efb5787d0d9557612c4586a89"></a><!-- doxytag: member="gaia::usb::UsbRequest::initialize" ref="af250876efb5787d0d9557612c4586a89" args="(const UsbDeviceConnection &amp;connection, const UsbEndpoint &amp;endpoint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gaia::usb::UsbRequest::initialize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/d8d/classgaia_1_1usb_1_1_usb_device_connection.html">UsbDeviceConnection</a> &amp;&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/dd6/classgaia_1_1usb_1_1_usb_endpoint.html">UsbEndpoint</a> &amp;&#160;</td>
          <td class="paramname"><em>endpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes the request so it can read or write data on the given endpoint. </p>
<p>Whether the request allows reading or writing depends on the direction of the endpoint.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>the endpoint to be used for this request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the request was successfully opened. </dd></dl>

</div>
</div>
<a class="anchor" id="ab6f0b568d5fbf146ad64de468a0f614f"></a><!-- doxytag: member="gaia::usb::UsbRequest::operator==" ref="ab6f0b568d5fbf146ad64de468a0f614f" args="(const UsbRequest &amp;other)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gaia::usb::UsbRequest::operator== </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html">UsbRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0e4c972a1c702aa8704d68051c38a648"></a><!-- doxytag: member="gaia::usb::UsbRequest::queue" ref="a0e4c972a1c702aa8704d68051c38a648" args="(const security::ByteBuffer &amp;buffer, int32_t length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gaia::usb::UsbRequest::queue </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d5/d4c/classgaia_1_1security_1_1_byte_buffer.html">security::ByteBuffer</a> &amp;&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Queues the request to send or receive data on its endpoint. </p>
<p>For OUT endpoints, the given buffer data will be sent on the endpoint. For IN endpoints, the endpoint will attempt to read the given number of bytes into the specified buffer. If the queueing operation is successful, we return true and the result will be returned via <a class="el" href="../../">android.hardware.usb.UsbDeviceConnection#requestWait</a></p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>the buffer containing the bytes to write, or location to store the results of a read </td></tr>
    <tr><td class="paramname">length</td><td>number of bytes to read or write </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the queueing operation succeeded </dd></dl>

</div>
</div>
<a class="anchor" id="ab8795da23420caedfd0f675e9dde16c7"></a><!-- doxytag: member="gaia::usb::UsbRequest::setClientData" ref="ab8795da23420caedfd0f675e9dde16c7" args="(const void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaia::usb::UsbRequest::setClientData </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the client data for the request. </p>
<p>This can be used in conjunction with <a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html#aac47a19be3586db9f2ae8de1b8351dce">getClientData</a> to associate another object with this request, which can be useful for maintaining state between calls to <a class="el" href="../../d9/d27/classgaia_1_1usb_1_1_usb_request.html#a0e4c972a1c702aa8704d68051c38a648">queue</a> and <a class="el" href="../../">android.hardware.usb.UsbDeviceConnection#requestWait</a></p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>the client data for the request </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="ad27443d461ba308f86d1d7ae448a1ffa"></a><!-- doxytag: member="gaia::usb::UsbRequest::UsbDeviceConnection" ref="ad27443d461ba308f86d1d7ae448a1ffa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="../../d2/d8d/classgaia_1_1usb_1_1_usb_device_connection.html">UsbDeviceConnection</a><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d81/_usb_request_8h_source.html#l00034">34</a> of file <a class="el" href="../../d7/d81/_usb_request_8h_source.html">UsbRequest.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/gpdbuildserver3/Jenkins_Workspace/workspace/BuildGaia2SDKLauncher/sdk/include/gaia/usb/<a class="el" href="../../d7/d81/_usb_request_8h_source.html">UsbRequest.h</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Jul 12 2013 04:17:57 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>

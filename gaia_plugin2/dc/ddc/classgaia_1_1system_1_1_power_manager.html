<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>

<title>gaia::system::PowerManager Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript" src="../../dynsections.js"></script>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d9/db5/namespacegaia.html">gaia</a>      </li>
      <li class="navelem"><a class="el" href="../../d2/d83/namespacegaia_1_1system.html">system</a>      </li>
      <li class="navelem"><a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html">PowerManager</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">gaia::system::PowerManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="gaia::system::PowerManager" -->
<p>This class provide methods for screen management and battery information.  
 <a href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d8/d02/_power_manager_8h_source.html">PowerManager.h</a>&gt;</code></p>

<p><a href="../../d0/d03/classgaia_1_1system_1_1_power_manager-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d99/classgaia_1_1system_1_1_power_manager_1_1_wake_lock.html">WakeLock</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#afc62e456bc725de812624c066591b2db">WakeLockFlags</a> { <br/>
&#160;&#160;<a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#afc62e456bc725de812624c066591b2dba591580ab734313e1fd8f9484adee9fcb">PARTIAL_WAKE_LOCK</a> =  WAKE_BIT_CPU_STRONG, 
<a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#afc62e456bc725de812624c066591b2dbaca6e68dc319194ed092150127ccdf8f2">FULL_WAKE_LOCK</a> =  WAKE_BIT_CPU_WEAK | WAKE_BIT_SCREEN_BRIGHT | WAKE_BIT_KEYBOARD_BRIGHT, 
<a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#afc62e456bc725de812624c066591b2dba289d120f378909309d0fe132725cf886">SCREEN_BRIGHT_WAKE_LOCK</a> =  WAKE_BIT_CPU_WEAK | WAKE_BIT_SCREEN_BRIGHT, 
<a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#afc62e456bc725de812624c066591b2dbaaf9d6728b7214575719b3bc006a8219e">SCREEN_DIM_WAKE_LOCK</a> =  WAKE_BIT_CPU_WEAK | WAKE_BIT_SCREEN_DIM, 
<br/>
&#160;&#160;<a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#afc62e456bc725de812624c066591b2dbaea0b1bed5ad72526867e9a602e0f2853">ACQUIRE_CAUSES_WAKEUP</a> =  0x10000000, 
<a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#afc62e456bc725de812624c066591b2dbabd6424b2824429822ea6fe402c516fe3">ON_AFTER_RELEASE</a> =  0x20000000
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a5a9deb7697829ea728d29d5a3e91b986">BatteryState</a> { <a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a5a9deb7697829ea728d29d5a3e91b986a1610cdbc5f1353de1de2fe13d30e56ea">BATTERY_FULL</a> =  0, 
<a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a5a9deb7697829ea728d29d5a3e91b986a2f2524237d8cb1617d97aaba961facae">BATTERY_HIGH</a>, 
<a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a5a9deb7697829ea728d29d5a3e91b986a4e2a123c01882d3b81644b9e3ea085ab">BATTERY_MIDDLE</a>, 
<a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a5a9deb7697829ea728d29d5a3e91b986a52be28626554807d21fe68b24d4fc439">BATTERY_LOW</a>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a3b260939d74d9aa6b79b28868e3d84fe">PowerManager</a> (const <a class="el" href="../../d0/d05/classgaia_1_1core_1_1_context.html">core::Context</a> &amp;context)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor.  <a href="#a3b260939d74d9aa6b79b28868e3d84fe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a4af141187a8c8e1144a2900696365894">~PowerManager</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">deconstructor.  <a href="#a4af141187a8c8e1144a2900696365894"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d99/classgaia_1_1system_1_1_power_manager_1_1_wake_lock.html">WakeLock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a89ef434f762436ca5b3d0fb232a5068a">newWakeLockN</a> (<a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#afc62e456bc725de812624c066591b2db">WakeLockFlags</a> flags, const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">gaia::base::String</a> &amp;tag)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a wake lock at the level of the flags parameter.  <a href="#a89ef434f762436ca5b3d0fb232a5068a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a46cfdc16c4dee522bd954ef5802c192d">userActivity</a> (int64_t when, bool noChangeLights)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">User activity happened.  <a href="#a46cfdc16c4dee522bd954ef5802c192d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#aac53c02cb3e859fce4edb445417d22cd">goToSleep</a> (int64_t time)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Force the device to go to sleep.  <a href="#aac53c02cb3e859fce4edb445417d22cd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#ac07abc40a7e33eb756b8a9475b7eb425">reboot</a> (const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">gaia::base::String</a> &amp;reason)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the set of flags for <a class="el" href="../../">newWakeLock()</a> that are supported on the device.  <a href="#ac07abc40a7e33eb756b8a9475b7eb425"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a1fb5cee4dd81b36be33993a67aedf04b">isScreenOn</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">sets the brightness of the backlights (screen, keyboard, button).  <a href="#a1fb5cee4dd81b36be33993a67aedf04b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a5a9deb7697829ea728d29d5a3e91b986">BatteryState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#ad15bf671e1d6e37d628494f2cbc5636b">getBatteryState</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br/>
&#160;&#160;<a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a23352c87a4a969592ef55b2c50b398fdab1306423a2ce34f34b0d4082598ed3d4">WAKE_BIT_CPU_STRONG</a> =  1, 
<a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a23352c87a4a969592ef55b2c50b398fda6db6c32896e0a128aeb80179903f4a60">WAKE_BIT_CPU_WEAK</a> =  2, 
<a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a23352c87a4a969592ef55b2c50b398fda4d3eadaa658cd2eedcc4f2bf4f3d03d2">WAKE_BIT_SCREEN_DIM</a> =  4, 
<a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a23352c87a4a969592ef55b2c50b398fda25546bf032eaec59813d1d3979ac7adf">WAKE_BIT_SCREEN_BRIGHT</a> =  8, 
<br/>
&#160;&#160;<a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a23352c87a4a969592ef55b2c50b398fda077326ab1eab8bebebcf45b3821479f2">WAKE_BIT_KEYBOARD_BRIGHT</a> =  16, 
<a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a23352c87a4a969592ef55b2c50b398fdaf1b5083d39ca57253b46efaa773e1f7e">WAKE_BIT_PROXIMITY_SCREEN_OFF</a> =  32, 
<a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a23352c87a4a969592ef55b2c50b398fdab49cfa270fb6bd86055483a3b550cc7f">LOCK_MASK</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">These internal values define the underlying power elements that we might want to control individually.  <a href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a23352c87a4a969592ef55b2c50b398fd">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#aca9a290eedbd202914bd0e31aba0f8bd">DISALLOW_COPY_AND_ASSIGN</a> (<a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html">PowerManager</a>)</td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#afd46a209f6529d498ae6da5663de7c42">gaia::connectivity::HeadsetBase</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This class provide methods for screen management and battery information. </p>
<p>The <a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html" title="This class provide methods for screen management and battery information.">PowerManager</a> class provides methods for managing the screen state. In addition, there are methods for providing battery information and checking whether screen is on or not.</p>
<p>The following example demonstrates how to use the <a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html" title="This class provide methods for screen management and battery information.">PowerManager</a> </p>
<div class="fragment"><pre class="fragment"> MyPage::onInit(Persistence* <span class="keyword">const</span> savedInstenceState){

        <span class="comment">//new the PowerManager instance</span>
        <a class="code" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a3b260939d74d9aa6b79b28868e3d84fe" title="constructor.">PowerManager</a> *mPM = <span class="keyword">new</span> <a class="code" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a3b260939d74d9aa6b79b28868e3d84fe" title="constructor.">PowerManager</a>(Context);

        <span class="comment">//lock screen on</span>
        mPM-&gt;Wake_Lock(WAKELOCK_SCREEN_FULL_BRIGHT);
        <span class="comment">//return true, the screen has been locked</span>
        mPM-&gt;IsLocked();
        <span class="comment">//unlock</span>
        mPM-&gt;Wake_unLock();
        <span class="comment">//return false, the screen has been unlocked</span>
        mPM-&gt;IsLocked();

        <span class="comment">//lock screen on, after 1 second to unlock</span>
        mPM-&gt;Wake_Lock(WAKELOCK_SCREEN_FULL_BRIGHT, 1000);

        <span class="comment">//check the screen and battery state</span>
        mPM-&gt;IsScreenOn();
        mPM-&gt;GetBatteryState();
        mPM-&gt;IsBatteryLow();
        mPM-&gt;IsBatteryCharging();
 }
</pre></div> 
<p>Definition at line <a class="el" href="../../d8/d02/_power_manager_8h_source.html#l00059">59</a> of file <a class="el" href="../../d8/d02/_power_manager_8h_source.html">PowerManager.h</a>.</p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a23352c87a4a969592ef55b2c50b398fd"></a><!-- doxytag: member="gaia::system::PowerManager::@139" ref="a23352c87a4a969592ef55b2c50b398fd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>These internal values define the underlying power elements that we might want to control individually. </p>
<p>Eventually we'd like to expose them. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a23352c87a4a969592ef55b2c50b398fdab1306423a2ce34f34b0d4082598ed3d4"></a><!-- doxytag: member="WAKE_BIT_CPU_STRONG" ref="a23352c87a4a969592ef55b2c50b398fdab1306423a2ce34f34b0d4082598ed3d4" args="" -->WAKE_BIT_CPU_STRONG</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a23352c87a4a969592ef55b2c50b398fda6db6c32896e0a128aeb80179903f4a60"></a><!-- doxytag: member="WAKE_BIT_CPU_WEAK" ref="a23352c87a4a969592ef55b2c50b398fda6db6c32896e0a128aeb80179903f4a60" args="" -->WAKE_BIT_CPU_WEAK</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a23352c87a4a969592ef55b2c50b398fda4d3eadaa658cd2eedcc4f2bf4f3d03d2"></a><!-- doxytag: member="WAKE_BIT_SCREEN_DIM" ref="a23352c87a4a969592ef55b2c50b398fda4d3eadaa658cd2eedcc4f2bf4f3d03d2" args="" -->WAKE_BIT_SCREEN_DIM</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a23352c87a4a969592ef55b2c50b398fda25546bf032eaec59813d1d3979ac7adf"></a><!-- doxytag: member="WAKE_BIT_SCREEN_BRIGHT" ref="a23352c87a4a969592ef55b2c50b398fda25546bf032eaec59813d1d3979ac7adf" args="" -->WAKE_BIT_SCREEN_BRIGHT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a23352c87a4a969592ef55b2c50b398fda077326ab1eab8bebebcf45b3821479f2"></a><!-- doxytag: member="WAKE_BIT_KEYBOARD_BRIGHT" ref="a23352c87a4a969592ef55b2c50b398fda077326ab1eab8bebebcf45b3821479f2" args="" -->WAKE_BIT_KEYBOARD_BRIGHT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a23352c87a4a969592ef55b2c50b398fdaf1b5083d39ca57253b46efaa773e1f7e"></a><!-- doxytag: member="WAKE_BIT_PROXIMITY_SCREEN_OFF" ref="a23352c87a4a969592ef55b2c50b398fdaf1b5083d39ca57253b46efaa773e1f7e" args="" -->WAKE_BIT_PROXIMITY_SCREEN_OFF</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a23352c87a4a969592ef55b2c50b398fdab49cfa270fb6bd86055483a3b550cc7f"></a><!-- doxytag: member="LOCK_MASK" ref="a23352c87a4a969592ef55b2c50b398fdab49cfa270fb6bd86055483a3b550cc7f" args="" -->LOCK_MASK</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="../../d8/d02/_power_manager_8h_source.html#l00067">67</a> of file <a class="el" href="../../d8/d02/_power_manager_8h_source.html">PowerManager.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5a9deb7697829ea728d29d5a3e91b986"></a><!-- doxytag: member="gaia::system::PowerManager::BatteryState" ref="a5a9deb7697829ea728d29d5a3e91b986" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a5a9deb7697829ea728d29d5a3e91b986">gaia::system::PowerManager::BatteryState</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a5a9deb7697829ea728d29d5a3e91b986a1610cdbc5f1353de1de2fe13d30e56ea"></a><!-- doxytag: member="BATTERY_FULL" ref="a5a9deb7697829ea728d29d5a3e91b986a1610cdbc5f1353de1de2fe13d30e56ea" args="" -->BATTERY_FULL</em>&nbsp;</td><td>
<p>The battery state is on full. </p>
<p>Usually, it represents that the battery level is on 100 percentage. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5a9deb7697829ea728d29d5a3e91b986a2f2524237d8cb1617d97aaba961facae"></a><!-- doxytag: member="BATTERY_HIGH" ref="a5a9deb7697829ea728d29d5a3e91b986a2f2524237d8cb1617d97aaba961facae" args="" -->BATTERY_HIGH</em>&nbsp;</td><td>
<p>The battery state is on high. </p>
<p>It represents that the battery level is less than 100 percentage. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5a9deb7697829ea728d29d5a3e91b986a4e2a123c01882d3b81644b9e3ea085ab"></a><!-- doxytag: member="BATTERY_MIDDLE" ref="a5a9deb7697829ea728d29d5a3e91b986a4e2a123c01882d3b81644b9e3ea085ab" args="" -->BATTERY_MIDDLE</em>&nbsp;</td><td>
<p>The battery state is on middle. </p>
<p>It represent that the battery level is less than 50 percentage. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5a9deb7697829ea728d29d5a3e91b986a52be28626554807d21fe68b24d4fc439"></a><!-- doxytag: member="BATTERY_LOW" ref="a5a9deb7697829ea728d29d5a3e91b986a52be28626554807d21fe68b24d4fc439" args="" -->BATTERY_LOW</em>&nbsp;</td><td>
<p>The battery state is on low. </p>
<p>It represent that the battery level is equal to or less than 10 percentage. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="../../d8/d02/_power_manager_8h_source.html#l00346">346</a> of file <a class="el" href="../../d8/d02/_power_manager_8h_source.html">PowerManager.h</a>.</p>

</div>
</div>
<a class="anchor" id="afc62e456bc725de812624c066591b2db"></a><!-- doxytag: member="gaia::system::PowerManager::WakeLockFlags" ref="afc62e456bc725de812624c066591b2db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#afc62e456bc725de812624c066591b2db">gaia::system::PowerManager::WakeLockFlags</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="afc62e456bc725de812624c066591b2dba591580ab734313e1fd8f9484adee9fcb"></a><!-- doxytag: member="PARTIAL_WAKE_LOCK" ref="afc62e456bc725de812624c066591b2dba591580ab734313e1fd8f9484adee9fcb" args="" -->PARTIAL_WAKE_LOCK</em>&nbsp;</td><td>
<p>Wake lock that ensures that the CPU is running. </p>
<p>The screen might not be on. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="afc62e456bc725de812624c066591b2dbaca6e68dc319194ed092150127ccdf8f2"></a><!-- doxytag: member="FULL_WAKE_LOCK" ref="afc62e456bc725de812624c066591b2dbaca6e68dc319194ed092150127ccdf8f2" args="" -->FULL_WAKE_LOCK</em>&nbsp;</td><td>
<p>Wake lock that ensures that the screen and keyboard are on at full brightness. </p>
<p>Most applications should strongly consider using <a class="el" href="../../">android.view.WindowManager.LayoutParams#FLAG_KEEP_SCREEN_ON</a>. This window flag will be correctly managed by the platform as the user moves between applications and doesn't require a special permission. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="afc62e456bc725de812624c066591b2dba289d120f378909309d0fe132725cf886"></a><!-- doxytag: member="SCREEN_BRIGHT_WAKE_LOCK" ref="afc62e456bc725de812624c066591b2dba289d120f378909309d0fe132725cf886" args="" -->SCREEN_BRIGHT_WAKE_LOCK</em>&nbsp;</td><td>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000014">Deprecated:</a></b></dt><dd>Most applications should use <a class="el" href="../../">android.view.WindowManager.LayoutParams#FLAG_KEEP_SCREEN_ON</a> instead of this type of wake lock, as it will be correctly managed by the platform as the user moves between applications and doesn't require a special permission.</dd></dl>
<p>Wake lock that ensures that the screen is on at full brightness; the keyboard backlight will be allowed to go off. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="afc62e456bc725de812624c066591b2dbaaf9d6728b7214575719b3bc006a8219e"></a><!-- doxytag: member="SCREEN_DIM_WAKE_LOCK" ref="afc62e456bc725de812624c066591b2dbaaf9d6728b7214575719b3bc006a8219e" args="" -->SCREEN_DIM_WAKE_LOCK</em>&nbsp;</td><td>
<p>Wake lock that ensures that the screen is on (but may be dimmed); the keyboard backlight will be allowed to go off. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="afc62e456bc725de812624c066591b2dbaea0b1bed5ad72526867e9a602e0f2853"></a><!-- doxytag: member="ACQUIRE_CAUSES_WAKEUP" ref="afc62e456bc725de812624c066591b2dbaea0b1bed5ad72526867e9a602e0f2853" args="" -->ACQUIRE_CAUSES_WAKEUP</em>&nbsp;</td><td>
<p>Wake lock that turns the screen off when the proximity sensor activates. </p>
<p>Since not all devices have proximity sensors, use <a class="el" href="../../">getSupportedWakeLockFlags()</a> to determine if this wake lock mode is supported.</p>
<p>{} Flag for <a class="el" href="../../d5/d99/classgaia_1_1system_1_1_power_manager_1_1_wake_lock.html#aa5665e79e4c4271a189db5e0be2f2104">release(int32_t)</a> to defer releasing a <a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a23352c87a4a969592ef55b2c50b398fdaf1b5083d39ca57253b46efaa773e1f7e">WAKE_BIT_PROXIMITY_SCREEN_OFF</a> wakelock until the proximity sensor returns a negative value.</p>
<p>{} Normally wake locks don't actually wake the device, they just cause it to remain on once it's already on. Think of the video player app as the normal behavior. Notifications that pop up and want the device to be on are the exception; use this flag to be like them. </p>
<p>Does not work with PARTIAL_WAKE_LOCKs. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="afc62e456bc725de812624c066591b2dbabd6424b2824429822ea6fe402c516fe3"></a><!-- doxytag: member="ON_AFTER_RELEASE" ref="afc62e456bc725de812624c066591b2dbabd6424b2824429822ea6fe402c516fe3" args="" -->ON_AFTER_RELEASE</em>&nbsp;</td><td>
<p>When this wake lock is released, poke the user activity timer so the screen stays on for a little longer. </p>
<p>Will not turn the screen on if it is not already on. See <a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#afc62e456bc725de812624c066591b2dbaea0b1bed5ad72526867e9a602e0f2853">ACQUIRE_CAUSES_WAKEUP</a> if you want that. </p>
<p>Does not work with PARTIAL_WAKE_LOCKs. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="../../d8/d02/_power_manager_8h_source.html#l00092">92</a> of file <a class="el" href="../../d8/d02/_power_manager_8h_source.html">PowerManager.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3b260939d74d9aa6b79b28868e3d84fe"></a><!-- doxytag: member="gaia::system::PowerManager::PowerManager" ref="a3b260939d74d9aa6b79b28868e3d84fe" args="(const core::Context &amp;context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a3b260939d74d9aa6b79b28868e3d84fe">gaia::system::PowerManager::PowerManager</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/d05/classgaia_1_1core_1_1_context.html">core::Context</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>constructor. </p>

</div>
</div>
<a class="anchor" id="a4af141187a8c8e1144a2900696365894"></a><!-- doxytag: member="gaia::system::PowerManager::~PowerManager" ref="a4af141187a8c8e1144a2900696365894" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a4af141187a8c8e1144a2900696365894">gaia::system::PowerManager::~PowerManager</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>deconstructor. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aca9a290eedbd202914bd0e31aba0f8bd"></a><!-- doxytag: member="gaia::system::PowerManager::DISALLOW_COPY_AND_ASSIGN" ref="aca9a290eedbd202914bd0e31aba0f8bd" args="(PowerManager)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#aca9a290eedbd202914bd0e31aba0f8bd">gaia::system::PowerManager::DISALLOW_COPY_AND_ASSIGN</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html">PowerManager</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad15bf671e1d6e37d628494f2cbc5636b"></a><!-- doxytag: member="gaia::system::PowerManager::getBatteryState" ref="ad15bf671e1d6e37d628494f2cbc5636b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a5a9deb7697829ea728d29d5a3e91b986">BatteryState</a> <a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#ad15bf671e1d6e37d628494f2cbc5636b">gaia::system::PowerManager::getBatteryState</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aac53c02cb3e859fce4edb445417d22cd"></a><!-- doxytag: member="gaia::system::PowerManager::goToSleep" ref="aac53c02cb3e859fce4edb445417d22cd" args="(int64_t time)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#aac53c02cb3e859fce4edb445417d22cd">gaia::system::PowerManager::goToSleep</a> </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Force the device to go to sleep. </p>
<p>Overrides all the wake locks that are held.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>is used to order this correctly with the wake lock calls. The time should be in the <a class="el" href="../../de/d05/classgaia_1_1system_1_1_system_clock.html#a1c3541886f405239c41fa15c4f6142e2">SystemClock.uptimeMillis()</a> time base. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1fb5cee4dd81b36be33993a67aedf04b"></a><!-- doxytag: member="gaia::system::PowerManager::isScreenOn" ref="a1fb5cee4dd81b36be33993a67aedf04b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a1fb5cee4dd81b36be33993a67aedf04b">gaia::system::PowerManager::isScreenOn</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>sets the brightness of the backlights (screen, keyboard, button). </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">brightness</td><td>value from 0 to 255</td></tr>
  </table>
  </dd>
</dl>
<p>{} Returns whether the screen is currently on. The screen could be bright or dim.</p>
<p>{ <a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html" title="This class provide methods for screen management and battery information.">PowerManager</a> pm = (<a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html" title="This class provide methods for screen management and battery information.">PowerManager</a>) getSystemService(Context.POWER_SERVICE); boolean isScreenOn = pm.isScreenOn(); }</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>whether the screen is on (bright or dim). </dd></dl>

</div>
</div>
<a class="anchor" id="a89ef434f762436ca5b3d0fb232a5068a"></a><!-- doxytag: member="gaia::system::PowerManager::newWakeLockN" ref="a89ef434f762436ca5b3d0fb232a5068a" args="(WakeLockFlags flags, const gaia::base::String &amp;tag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d99/classgaia_1_1system_1_1_power_manager_1_1_wake_lock.html">WakeLock</a>* <a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a89ef434f762436ca5b3d0fb232a5068a">gaia::system::PowerManager::newWakeLockN</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#afc62e456bc725de812624c066591b2db">WakeLockFlags</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">gaia::base::String</a> &amp;&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a wake lock at the level of the flags parameter. </p>
<p>Call <a class="el" href="../../d5/d99/classgaia_1_1system_1_1_power_manager_1_1_wake_lock.html#a26af0277e24a7701fb5844d0d5e92728">acquire()</a> on the object to acquire the wake lock, and <a class="el" href="../../d5/d99/classgaia_1_1system_1_1_power_manager_1_1_wake_lock.html#aa5665e79e4c4271a189db5e0be2f2104">release()</a> when you are done.</p>
<p>{ <a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html" title="This class provide methods for screen management and battery information.">PowerManager</a> pm = (<a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html" title="This class provide methods for screen management and battery information.">PowerManager</a>)mContext.getSystemService( Context.POWER_SERVICE); <a class="el" href="../../d5/d99/classgaia_1_1system_1_1_power_manager_1_1_wake_lock.html">PowerManager.WakeLock</a> wl = pm.newWakeLockN( <a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#afc62e456bc725de812624c066591b2dbaaf9d6728b7214575719b3bc006a8219e" title="Wake lock that ensures that the screen is on (but may be dimmed); the keyboard backlight will be allo...">PowerManager.SCREEN_DIM_WAKE_LOCK</a> | <a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#afc62e456bc725de812624c066591b2dbabd6424b2824429822ea6fe402c516fe3" title="When this wake lock is released, poke the user activity timer so the screen stays on for a little lon...">PowerManager.ON_AFTER_RELEASE</a>, TAG); wl.acquire(); // ... wl.release(); }</p>
<p>If using this to keep the screen on, you should strongly consider using <a class="el" href="../../">android.view.WindowManager.LayoutParams#FLAG_KEEP_SCREEN_ON</a> instead. This window flag will be correctly managed by the platform as the user moves between applications and doesn't require a special permission.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">flags</td><td>Combination of flag values defining the requested behavior of the <a class="el" href="../../d5/d99/classgaia_1_1system_1_1_power_manager_1_1_wake_lock.html">WakeLock</a>. </td></tr>
    <tr><td class="paramname">tag</td><td>Your class name (or other tag) for debugging purposes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="../../d5/d99/classgaia_1_1system_1_1_power_manager_1_1_wake_lock.html#a26af0277e24a7701fb5844d0d5e92728" title="Makes sure the device is on at the level you asked when you created the wake lock.">WakeLock::acquire()</a> </dd>
<dd>
<a class="el" href="../../d5/d99/classgaia_1_1system_1_1_power_manager_1_1_wake_lock.html#aa5665e79e4c4271a189db5e0be2f2104" title="Release your claim to the CPU or screen being on.">WakeLock::release()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac07abc40a7e33eb756b8a9475b7eb425"></a><!-- doxytag: member="gaia::system::PowerManager::reboot" ref="ac07abc40a7e33eb756b8a9475b7eb425" args="(const gaia::base::String &amp;reason)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#ac07abc40a7e33eb756b8a9475b7eb425">gaia::system::PowerManager::reboot</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">gaia::base::String</a> &amp;&#160;</td>
          <td class="paramname"><em>reason</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the set of flags for <a class="el" href="../../">newWakeLock()</a> that are supported on the device. </p>
<p>For example, to test to see if the <a class="el" href="../../">PROXIMITY_SCREEN_OFF_WAKE_LOCK</a> is supported:</p>
<p>{ <a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html" title="This class provide methods for screen management and battery information.">PowerManager</a> pm = (<a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html" title="This class provide methods for screen management and battery information.">PowerManager</a>) getSystemService(Context.POWER_SERVICE); int32_t supportedFlags = pm.getSupportedWakeLockFlags(); boolean proximitySupported = ((supportedFlags &amp; PowerManager.PROXIMITY_SCREEN_OFF_WAKE_LOCK) == PowerManager.PROXIMITY_SCREEN_OFF_WAKE_LOCK); }</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the set of supported <a class="el" href="../../d5/d99/classgaia_1_1system_1_1_power_manager_1_1_wake_lock.html">WakeLock</a> flags.</dd></dl>
<p>{} Reboot the device. Will not return if the reboot is successful. Requires the <a class="el" href="../../">android.Manifest.permission#REBOOT</a> permission.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">reason</td><td>code to pass to the kernel (e.g., "recovery") to request special boot modes, or null. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a46cfdc16c4dee522bd954ef5802c192d"></a><!-- doxytag: member="gaia::system::PowerManager::userActivity" ref="a46cfdc16c4dee522bd954ef5802c192d" args="(int64_t when, bool noChangeLights)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../dc/ddc/classgaia_1_1system_1_1_power_manager.html#a46cfdc16c4dee522bd954ef5802c192d">gaia::system::PowerManager::userActivity</a> </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>when</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>noChangeLights</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>User activity happened. </p>
<p>Turns the device from whatever state it's in to full on, and resets the auto-off timer.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">when</td><td>is used to order this correctly with the wake lock calls. This time should be in the <a class="el" href="../../de/d05/classgaia_1_1system_1_1_system_clock.html#a1c3541886f405239c41fa15c4f6142e2">SystemClock.uptimeMillis()</a> time base. </td></tr>
    <tr><td class="paramname">noChangeLights</td><td>should be true if you don't want the lights to turn on because of this event. This is set when the power key goes down. We want the device to stay on while the button is down, but we're about to turn off. Otherwise the lights flash on and then off and it looks weird. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="afd46a209f6529d498ae6da5663de7c42"></a><!-- doxytag: member="gaia::system::PowerManager::gaia::connectivity::HeadsetBase" ref="afd46a209f6529d498ae6da5663de7c42" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class gaia::connectivity::HeadsetBase<code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d02/_power_manager_8h_source.html#l00060">60</a> of file <a class="el" href="../../d8/d02/_power_manager_8h_source.html">PowerManager.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/vilon_tao/gaia/sdk/include/gaia/system/<a class="el" href="../../d8/d02/_power_manager_8h_source.html">PowerManager.h</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 25 2013 11:23:26 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>

<title>/home/vilon_tao/gaia/sdk/include/gaia/testing/InstrumentationTestCase.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript" src="../../dynsections.js"></script>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../dir_0a2191738eaf1a89d8dba65a5e0e62dd.html">include</a>      </li>
      <li class="navelem"><a class="el" href="../../dir_18fe6922e29c45285b63ff54cf62344c.html">gaia</a>      </li>
      <li class="navelem"><a class="el" href="../../dir_bb96b555c2bd4b71e7c597ab3688cb72.html">testing</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">InstrumentationTestCase.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d0/d54/_instrumentation_test_case_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// Copyright for gaia</span>
<a name="l00002"></a>00002 <span class="preprocessor">#ifndef INCLUDE_GAIA_TESTING_INSTRUMENTATIONTESTCASE_H_</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="preprocessor">#define INCLUDE_GAIA_TESTING_INSTRUMENTATIONTESTCASE_H_</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &lt;gtest/gtest.h&gt;</span>
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 <span class="preprocessor">#include &lt;<a class="code" href="../../d4/d0b/gloger_8h.html">gaia/base/gloger.h</a>&gt;</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &lt;<a class="code" href="../../db/db5/_string_8h.html">gaia/base/String.h</a>&gt;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;<a class="code" href="../../dc/d63/_demand_8h.html">gaia/core/Demand.h</a>&gt;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &lt;<a class="code" href="../../da/dd8/_instrumentation_8h.html">gaia/core/Instrumentation.h</a>&gt;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &lt;<a class="code" href="../../db/ded/_page_8h.html">gaia/core/Page.h</a>&gt;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &lt;<a class="code" href="../../d5/d54/_persistence_8h.html">gaia/core/Persistence.h</a>&gt;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &lt;<a class="code" href="../../de/d16/_work_item_8h.html">gaia/core/WorkItem.h</a>&gt;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &lt;<a class="code" href="../../d5/df3/_gaia_test_runner_8h.html">gaia/testing/GaiaTestRunner.h</a>&gt;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &lt;<a class="code" href="../../dc/d72/_more_asserts_8h.html">gaia/testing/MoreAsserts.h</a>&gt;</span>
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <span class="keyword">namespace </span>gaia {
<a name="l00018"></a>00018 <span class="keyword">namespace </span>core {
<a name="l00019"></a>00019 <span class="keyword">class </span>Demand;
<a name="l00020"></a>00020 <span class="keyword">class </span>Instrumentation;
<a name="l00021"></a>00021 <span class="keyword">class </span>Context;
<a name="l00022"></a>00022 <span class="keyword">class </span>Persistence;
<a name="l00023"></a>00023 <span class="keyword">class </span>Page;
<a name="l00024"></a>00024 <span class="keyword">class </span>WorkItem;
<a name="l00025"></a>00025 }
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="keyword">namespace </span>testing {
<a name="l00028"></a>00028 <span class="keyword">using</span> <a class="code" href="../../d2/d5f/classgaia_1_1core_1_1_instrumentation.html" title="Base class for implementing application Instrumentation.">gaia::core::Instrumentation</a>;
<a name="l00029"></a>00029 <span class="keyword">using</span> <a class="code" href="../../da/d64/namespacegaia_1_1base.html#ab7e8fb5494a9ed295d141f895b7a4903aecc3b7f41e4a771449868b0876f5d0c6">gaia::base::LOGVER</a>;
<a name="l00030"></a>00030 <span class="keyword">using</span> <a class="code" href="../../da/d64/namespacegaia_1_1base.html#ab7e8fb5494a9ed295d141f895b7a4903ae173849aac31f71612c8e558a7363500">gaia::base::LOGDBG</a>;
<a name="l00031"></a>00031 <span class="keyword">using</span> <a class="code" href="../../da/d64/namespacegaia_1_1base.html#ab7e8fb5494a9ed295d141f895b7a4903a87cc38cd4347eb7cc700fef3aebb5fab">gaia::base::LOGINFO</a>;
<a name="l00032"></a>00032 <span class="keyword">using</span> <a class="code" href="../../da/d64/namespacegaia_1_1base.html#ab7e8fb5494a9ed295d141f895b7a4903a1abf67cd2357690e950d044251ab0f80">gaia::base::LOGWARN</a>;
<a name="l00033"></a>00033 <span class="keyword">using</span> <a class="code" href="../../da/d64/namespacegaia_1_1base.html#ab7e8fb5494a9ed295d141f895b7a4903a7b79e157c65e49cfc2f4506ea3e612c9">gaia::base::LOGER</a>;
<a name="l00039"></a>00039 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TestFixture&gt;
<a name="l00040"></a><a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html">00040</a> <span class="keyword">class </span><a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html" title="A test case that has access to gaia::core::Instrumentation.">InstrumentationTestCase</a>: <span class="keyword">public</span> TestFixture {
<a name="l00041"></a>00041     <span class="keyword">private</span>:
<a name="l00042"></a><a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#a4284b9bc887c8f80cf5c17b3a68b2ea2">00042</a>     <a class="code" href="../../d2/d5f/classgaia_1_1core_1_1_instrumentation.html" title="Base class for implementing application Instrumentation.">Instrumentation</a>* <a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#a4284b9bc887c8f80cf5c17b3a68b2ea2">mpInstrumentation</a>;
<a name="l00043"></a>00043 
<a name="l00044"></a>00044     <span class="keyword">public</span>:
<a name="l00045"></a>00045     <a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#a226ba0e3570992b9e82c2d2d42e647d1">InstrumentationTestCase</a>();
<a name="l00046"></a>00046     <span class="keyword">virtual</span> <a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#a3ddc1e9c393030f08fae6143cd1b17a9">~InstrumentationTestCase</a>();
<a name="l00047"></a>00047 
<a name="l00052"></a><a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#a2cd0639f420aabf11cf2f1ac5dc779af">00052</a>     <span class="keyword">inline</span> <a class="code" href="../../d2/d5f/classgaia_1_1core_1_1_instrumentation.html" title="Base class for implementing application Instrumentation.">Instrumentation</a>* <a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#a2cd0639f420aabf11cf2f1ac5dc779af" title="Inheritors can access the instrumentation using this.">getInstrumentation</a>() {
<a name="l00053"></a>00053         <span class="keywordflow">return</span> <a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#a4284b9bc887c8f80cf5c17b3a68b2ea2">mpInstrumentation</a>;
<a name="l00054"></a>00054     }
<a name="l00055"></a>00055 
<a name="l00074"></a>00074     <a class="code" href="../../db/d3f/classgaia_1_1core_1_1_page.html" title="An page is a single, focused thing that the user can do.">gaia::core::Page</a>* <a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#a57c1ca5d3b0dc9d056e90f56d5389b91" title="Utility method for launching an page.">launchPage</a>(<span class="keyword">const</span> <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">gaia::base::String</a>&amp; pkg,
<a name="l00075"></a>00075             <span class="keyword">const</span> <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">gaia::base::String</a>&amp; pageCls,
<a name="l00076"></a>00076             <a class="code" href="../../d8/d47/classgaia_1_1core_1_1_persistence.html" title="A mapping from String values to various primitive types.">gaia::core::Persistence</a>* extras);
<a name="l00077"></a>00077 
<a name="l00091"></a>00091     <a class="code" href="../../db/d3f/classgaia_1_1core_1_1_page.html" title="An page is a single, focused thing that the user can do.">gaia::core::Page</a>* <a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#afce4a1984c1d233a039d998dd538a461" title="Utility method for launching an page with a specific Demand.">launchPageWithDemand</a>(<span class="keyword">const</span> <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">gaia::base::String</a>&amp; pkg,
<a name="l00092"></a>00092             <span class="keyword">const</span> <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">gaia::base::String</a>&amp; pageCls, <a class="code" href="../../d4/d95/classgaia_1_1core_1_1_demand.html" title="An Demand is an abstract description of an operation to be performed.">gaia::core::Demand</a>* demand);
<a name="l00093"></a>00093 
<a name="l00101"></a>00101     <span class="keywordtype">void</span> <a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#a11ab8e845fc27ca272221740769f9d8d" title="Helper for running portions of a test on the UI thread.">runTestOnUiThread</a>(<a class="code" href="../../d4/d69/classgaia_1_1core_1_1_work_item.html" title="This class is used to define single portions of task to be dispatched to a single WorkQueue...">gaia::core::WorkItem</a>* workItem);
<a name="l00102"></a>00102 
<a name="l00110"></a>00110     <span class="keywordtype">void</span> <a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#a97967e16bfbcf5ab77d2760d78884f1b" title="Sends a series of key events through instrumentation and waits for idle.">sendKeys</a>(int32_t count, int32_t* keys);
<a name="l00111"></a>00111 
<a name="l00120"></a>00120     <span class="keywordtype">void</span> <a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#ad098b023e54e7ab84b559ed0ae4c84d5" title="Sends a series of key events through instrumentation and waits for idle.">sendRepeatedKeys</a>(int32_t count, int32_t* keys);
<a name="l00121"></a>00121 
<a name="l00122"></a>00122     <span class="keyword">protected</span>:
<a name="l00126"></a>00126     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#ae0c18e120519e92d4d33879881197fc9" title="Sets up the test fixture.">SetUp</a>();
<a name="l00127"></a>00127 
<a name="l00131"></a>00131     <span class="comment">// virtual void TearDown();</span>
<a name="l00132"></a>00132 };
<a name="l00133"></a>00133 <span class="comment">// class InstrumentationTestCase</span>
<a name="l00134"></a>00134 <span class="comment">// ---------------------------------------------------------------</span>
<a name="l00135"></a>00135 <span class="keyword">using</span> <a class="code" href="../../d2/d5f/classgaia_1_1core_1_1_instrumentation.html" title="Base class for implementing application Instrumentation.">gaia::core::Instrumentation</a>;
<a name="l00136"></a>00136 <span class="keyword">using</span> <a class="code" href="../../d8/d47/classgaia_1_1core_1_1_persistence.html" title="A mapping from String values to various primitive types.">gaia::core::Persistence</a>;
<a name="l00137"></a>00137 <span class="keyword">using</span> <a class="code" href="../../d4/d95/classgaia_1_1core_1_1_demand.html" title="An Demand is an abstract description of an operation to be performed.">gaia::core::Demand</a>;
<a name="l00138"></a>00138 <span class="keyword">using</span> <a class="code" href="../../db/d3f/classgaia_1_1core_1_1_page.html" title="An page is a single, focused thing that the user can do.">gaia::core::Page</a>;
<a name="l00139"></a>00139 
<a name="l00140"></a>00140 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TestFixture&gt;
<a name="l00141"></a><a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#a226ba0e3570992b9e82c2d2d42e647d1">00141</a> <a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#a226ba0e3570992b9e82c2d2d42e647d1">InstrumentationTestCase&lt;TestFixture&gt;::InstrumentationTestCase</a>()
<a name="l00142"></a>00142         : mpInstrumentation(NULL) {
<a name="l00143"></a>00143 }
<a name="l00144"></a>00144 
<a name="l00145"></a>00145 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TestFixture&gt;
<a name="l00146"></a><a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#a3ddc1e9c393030f08fae6143cd1b17a9">00146</a> <a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#a3ddc1e9c393030f08fae6143cd1b17a9">InstrumentationTestCase&lt;TestFixture&gt;::~InstrumentationTestCase</a>() {
<a name="l00147"></a>00147 }
<a name="l00148"></a>00148 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TestFixture&gt;
<a name="l00149"></a><a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#ae0c18e120519e92d4d33879881197fc9">00149</a> <span class="keywordtype">void</span> <a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#ae0c18e120519e92d4d33879881197fc9" title="Sets up the test fixture.">InstrumentationTestCase&lt;TestFixture&gt;::SetUp</a>() {
<a name="l00150"></a>00150     mpInstrumentation = GaiaTestRunner::getInstrumentation();
<a name="l00151"></a>00151 }
<a name="l00152"></a>00152 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TestFixture&gt;
<a name="l00153"></a><a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#a57c1ca5d3b0dc9d056e90f56d5389b91">00153</a> <a class="code" href="../../db/d3f/classgaia_1_1core_1_1_page.html" title="An page is a single, focused thing that the user can do.">Page</a>* <a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#a57c1ca5d3b0dc9d056e90f56d5389b91" title="Utility method for launching an page.">InstrumentationTestCase&lt;TestFixture&gt;::launchPage</a>(
<a name="l00154"></a>00154         <span class="keyword">const</span> <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">gaia::base::String</a>&amp; pkg, <span class="keyword">const</span> <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">gaia::base::String</a>&amp; pageCls,
<a name="l00155"></a>00155         <a class="code" href="../../d8/d47/classgaia_1_1core_1_1_persistence.html" title="A mapping from String values to various primitive types.">gaia::core::Persistence</a>* extras) {
<a name="l00156"></a>00156     <a class="code" href="../../d4/d0b/gloger_8h.html#abed13a3c547f8ebaaffe67267ce49788">GLOGENTRY</a>(<span class="stringliteral">&quot;InstrumentationTestCase&quot;</span>);
<a name="l00157"></a>00157     <a class="code" href="../../d4/d95/classgaia_1_1core_1_1_demand.html" title="An Demand is an abstract description of an operation to be performed.">Demand</a>* demand = <span class="keyword">new</span> <a class="code" href="../../d4/d95/classgaia_1_1core_1_1_demand.html" title="An Demand is an abstract description of an operation to be performed.">Demand</a>(<a class="code" href="../../d4/d95/classgaia_1_1core_1_1_demand.html#acc3fc4c7462e6560505cf446025b3480">Demand::ACTION_MAIN</a>());
<a name="l00158"></a>00158     <span class="keywordflow">if</span> (extras != NULL) {
<a name="l00159"></a>00159         demand-&gt;<a class="code" href="../../d4/d95/classgaia_1_1core_1_1_demand.html#ae624ae6de7b045b0a666ec0dea6e188f" title="Completely replace the extras in the Demand with the extras in the given Demand.">putExtras</a>(*extras);
<a name="l00160"></a>00160     }
<a name="l00161"></a>00161 
<a name="l00162"></a>00162     <a class="code" href="../../db/d3f/classgaia_1_1core_1_1_page.html" title="An page is a single, focused thing that the user can do.">Page</a>* page = launchPageWithDemand(pkg, pageCls, demand);
<a name="l00163"></a>00163 
<a name="l00164"></a>00164     <span class="keyword">delete</span> demand;
<a name="l00165"></a>00165 
<a name="l00166"></a>00166     <span class="keywordflow">return</span> page;
<a name="l00167"></a>00167 }
<a name="l00168"></a>00168 
<a name="l00169"></a>00169 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TestFixture&gt;
<a name="l00170"></a><a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#afce4a1984c1d233a039d998dd538a461">00170</a> <a class="code" href="../../db/d3f/classgaia_1_1core_1_1_page.html" title="An page is a single, focused thing that the user can do.">Page</a>* <a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#afce4a1984c1d233a039d998dd538a461" title="Utility method for launching an page with a specific Demand.">InstrumentationTestCase&lt;TestFixture&gt;::launchPageWithDemand</a>(
<a name="l00171"></a>00171         <span class="keyword">const</span> <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">gaia::base::String</a>&amp; pkg, <span class="keyword">const</span> <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">gaia::base::String</a>&amp; pageCls,
<a name="l00172"></a>00172         <a class="code" href="../../d4/d95/classgaia_1_1core_1_1_demand.html" title="An Demand is an abstract description of an operation to be performed.">gaia::core::Demand</a>* demand) {
<a name="l00173"></a>00173     <a class="code" href="../../d4/d0b/gloger_8h.html#abed13a3c547f8ebaaffe67267ce49788">GLOGENTRY</a>(<span class="stringliteral">&quot;InstrumentationTestCase&quot;</span>);
<a name="l00174"></a>00174     demand-&gt;<a class="code" href="../../d4/d95/classgaia_1_1core_1_1_demand.html#a75f236817f5c2eb85f4bc04687a5ea9a" title="Convenience for set Page data that we want to start in the future.">setClassName</a>(pkg, pageCls);
<a name="l00175"></a>00175     <a class="code" href="../../d2/d5f/classgaia_1_1core_1_1_instrumentation.html" title="Base class for implementing application Instrumentation.">Instrumentation</a>* instrumentation = getInstrumentation();
<a name="l00176"></a>00176     <a class="code" href="../../db/d3f/classgaia_1_1core_1_1_page.html" title="An page is a single, focused thing that the user can do.">Page</a>* page = instrumentation-&gt;<a class="code" href="../../d2/d5f/classgaia_1_1core_1_1_instrumentation.html#a6eaa76fbe6091788d2a59e4484a5eea3" title="Start a new page and wait for it to begin running before returning.">startPageSync</a>(demand);
<a name="l00177"></a>00177     instrumentation-&gt;<a class="code" href="../../d2/d5f/classgaia_1_1core_1_1_instrumentation.html#a3eddee6cfc4ba10edd260be4ef2481cb" title="Synchronously wait for the application to be idle.">waitForIdleSync</a>();
<a name="l00178"></a>00178     <span class="keywordflow">return</span> page;
<a name="l00179"></a>00179 }
<a name="l00180"></a>00180 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TestFixture&gt;
<a name="l00181"></a><a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#a11ab8e845fc27ca272221740769f9d8d">00181</a> <span class="keywordtype">void</span> <a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#a11ab8e845fc27ca272221740769f9d8d" title="Helper for running portions of a test on the UI thread.">InstrumentationTestCase&lt;TestFixture&gt;::runTestOnUiThread</a>(
<a name="l00182"></a>00182         <a class="code" href="../../d4/d69/classgaia_1_1core_1_1_work_item.html" title="This class is used to define single portions of task to be dispatched to a single WorkQueue...">gaia::core::WorkItem</a>* workItem) {
<a name="l00183"></a>00183     getInstrumentation()-&gt;runOnMainSync(workItem);
<a name="l00184"></a>00184 }
<a name="l00185"></a>00185 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TestFixture&gt;
<a name="l00186"></a><a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#a97967e16bfbcf5ab77d2760d78884f1b">00186</a> <span class="keywordtype">void</span> <a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#a97967e16bfbcf5ab77d2760d78884f1b" title="Sends a series of key events through instrumentation and waits for idle.">InstrumentationTestCase&lt;TestFixture&gt;::sendKeys</a>(int32_t count,
<a name="l00187"></a>00187         int32_t* keys) {
<a name="l00188"></a>00188     <a class="code" href="../../d4/d0b/gloger_8h.html#abed13a3c547f8ebaaffe67267ce49788">GLOGENTRY</a>(<span class="stringliteral">&quot;InstrumentationTestCase&quot;</span>);
<a name="l00189"></a>00189     <a class="code" href="../../d2/d5f/classgaia_1_1core_1_1_instrumentation.html" title="Base class for implementing application Instrumentation.">Instrumentation</a>* instrumentation = getInstrumentation();
<a name="l00190"></a>00190 
<a name="l00191"></a>00191     <span class="keywordflow">for</span> (int32_t i = 0; i &lt; count; i++) {
<a name="l00192"></a>00192         instrumentation-&gt;<a class="code" href="../../d2/d5f/classgaia_1_1core_1_1_instrumentation.html#a38101024d3c444f852c38b3993f064d4" title="Sends an up and down key event sync to the currently focused window.">sendKeyDownUpSync</a>(keys[i]);
<a name="l00193"></a>00193     }
<a name="l00194"></a>00194 
<a name="l00195"></a>00195     instrumentation-&gt;<a class="code" href="../../d2/d5f/classgaia_1_1core_1_1_instrumentation.html#a3eddee6cfc4ba10edd260be4ef2481cb" title="Synchronously wait for the application to be idle.">waitForIdleSync</a>();
<a name="l00196"></a>00196 }
<a name="l00197"></a>00197 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TestFixture&gt;
<a name="l00198"></a><a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#ad098b023e54e7ab84b559ed0ae4c84d5">00198</a> <span class="keywordtype">void</span> <a class="code" href="../../d7/d4c/classgaia_1_1testing_1_1_instrumentation_test_case.html#ad098b023e54e7ab84b559ed0ae4c84d5" title="Sends a series of key events through instrumentation and waits for idle.">InstrumentationTestCase&lt;TestFixture&gt;::sendRepeatedKeys</a>(int32_t count,
<a name="l00199"></a>00199         int32_t* keys) {
<a name="l00200"></a>00200     <a class="code" href="../../d4/d0b/gloger_8h.html#abed13a3c547f8ebaaffe67267ce49788">GLOGENTRY</a>(<span class="stringliteral">&quot;InstrumentationTestCase&quot;</span>);
<a name="l00201"></a>00201     <span class="keywordflow">if</span> ((count &amp; 0x1) == 0x1) {
<a name="l00202"></a>00202         <span class="keywordflow">return</span>;
<a name="l00203"></a>00203     }
<a name="l00204"></a>00204 
<a name="l00205"></a>00205     <a class="code" href="../../d2/d5f/classgaia_1_1core_1_1_instrumentation.html" title="Base class for implementing application Instrumentation.">Instrumentation</a>* instrumentation = getInstrumentation();
<a name="l00206"></a>00206 
<a name="l00207"></a>00207     <span class="keywordflow">for</span> (int32_t i = 0; i &lt; count; i += 2) {
<a name="l00208"></a>00208         <span class="keyword">const</span> int32_t keyCount = keys[i];
<a name="l00209"></a>00209         <span class="keyword">const</span> int32_t keyCode = keys[i + 1];
<a name="l00210"></a>00210         <span class="keywordflow">for</span> (int32_t j = 0; j &lt; keyCount; j++) {
<a name="l00211"></a>00211             instrumentation-&gt;<a class="code" href="../../d2/d5f/classgaia_1_1core_1_1_instrumentation.html#a38101024d3c444f852c38b3993f064d4" title="Sends an up and down key event sync to the currently focused window.">sendKeyDownUpSync</a>(keyCode);
<a name="l00212"></a>00212         }
<a name="l00213"></a>00213     }
<a name="l00214"></a>00214 
<a name="l00215"></a>00215     instrumentation-&gt;<a class="code" href="../../d2/d5f/classgaia_1_1core_1_1_instrumentation.html#a3eddee6cfc4ba10edd260be4ef2481cb" title="Synchronously wait for the application to be idle.">waitForIdleSync</a>();
<a name="l00216"></a>00216 }
<a name="l00217"></a>00217 }  <span class="comment">// testing</span>
<a name="l00218"></a>00218 }  <span class="comment">// gaia</span>
<a name="l00219"></a>00219 
<a name="l00220"></a>00220 <span class="preprocessor">#endif  // INCLUDE_GAIA_TESTING_INSTRUMENTATIONTESTCASE_H_</span>
</pre></div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 25 2013 11:23:19 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gaia::ui::AlphabetIndexer Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = '../../open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = '../../closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d9/db5/namespacegaia.html">gaia</a>      </li>
      <li class="navelem"><a class="el" href="../../d6/d64/namespacegaia_1_1ui.html">ui</a>      </li>
      <li class="navelem"><a class="el" href="../../d0/d21/classgaia_1_1ui_1_1_alphabet_indexer.html">AlphabetIndexer</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">gaia::ui::AlphabetIndexer Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="gaia::ui::AlphabetIndexer" --><!-- doxytag: inherits="gaia::storage::DataSetObserver,gaia::ui::ISectionIndexer" -->
<p>A helper class for adapters that implement the SectionIndexer interface.  
 <a href="../../d0/d21/classgaia_1_1ui_1_1_alphabet_indexer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d0/d89/_alphabet_indexer_8h_source.html">AlphabetIndexer.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png"/> Inheritance diagram for gaia::ui::AlphabetIndexer:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><!-- SVG 0 -->
</div>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png"/> Collaboration diagram for gaia::ui::AlphabetIndexer:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><!-- SVG 1 -->
</div>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>

<p><a href="../../d5/d4d/classgaia_1_1ui_1_1_alphabet_indexer-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d21/classgaia_1_1ui_1_1_alphabet_indexer.html#a7fd04b25ffa0f7ab98e5afc3bba6577d">AlphabetIndexer</a> (<a class="el" href="../../de/de8/classgaia_1_1storage_1_1_cursor.html">gaia::storage::Cursor</a> *cursor, int32_t sortedColumnIndex, const <a class="el" href="../../d1/d0f/classgaia_1_1base_1_1_char_sequence.html">gaia::base::CharSequence</a> &amp;alphabet)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The constructor of the <a class="el" href="../../d0/d21/classgaia_1_1ui_1_1_alphabet_indexer.html" title="A helper class for adapters that implement the SectionIndexer interface.">AlphabetIndexer</a>.  <a href="#a7fd04b25ffa0f7ab98e5afc3bba6577d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d21/classgaia_1_1ui_1_1_alphabet_indexer.html#a176aa2c9eaf525df1631f68be633a006">~AlphabetIndexer</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/db6/classgaia_1_1base_1_1_string_array.html">gaia::base::StringArray</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d21/classgaia_1_1ui_1_1_alphabet_indexer.html#a657b8a29f37c47800dab8e7c60e9a572">getSections</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the section array constructed from the alphabet provided in the constructor.  <a href="#a657b8a29f37c47800dab8e7c60e9a572"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d21/classgaia_1_1ui_1_1_alphabet_indexer.html#a2d0a184d29bccc212704533182d7efc0">setCursor</a> (<a class="el" href="../../de/de8/classgaia_1_1storage_1_1_cursor.html">gaia::storage::Cursor</a> *cursor)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a new cursor as the data set and resets the cache of indices.  <a href="#a2d0a184d29bccc212704533182d7efc0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d21/classgaia_1_1ui_1_1_alphabet_indexer.html#a5a920586b8af71c00aacfcd2a0918e92">getPositionForSection</a> (int32_t sectionIndex)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a binary search or cache lookup to find the first row that matches a given section's starting letter.  <a href="#a5a920586b8af71c00aacfcd2a0918e92"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d21/classgaia_1_1ui_1_1_alphabet_indexer.html#a2dd23ad33ba607246f69437dbb0c80f4">getSectionForPosition</a> (int32_t position)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the section index for a given position in the list by querying the item and comparing it with all items in the section array.  <a href="#a2dd23ad33ba607246f69437dbb0c80f4"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A helper class for adapters that implement the SectionIndexer interface. </p>
<p>If the items in the adapter are sorted by simple alphabet-based sorting, then this class provides a way to do fast indexing of large lists using binary search. It caches the indices that have been determined through the binary search and also invalidates the cache if changes occur in the cursor.</p>
<p>The following example demonstrates how to use the <a class="el" href="../../d0/d21/classgaia_1_1ui_1_1_alphabet_indexer.html" title="A helper class for adapters that implement the SectionIndexer interface.">AlphabetIndexer</a></p>
<div class="fragment"><pre class="fragment"> String* path = <span class="keyword">new</span> String(<span class="stringliteral">&quot;/data/data/SDKWidgetTest/WidgetTest.db&quot;</span>);
 <a class="code" href="../../da/d1b/classgaia_1_1storage_1_1_s_q_lite_database.html" title="Exposes methods to manage a SQLite database.">gaia::storage::SQLiteDatabase</a>* db = gaia::storage::SQLiteDatabase::openOrCreateDatabase(*path);

 String* createSQL = <span class="keyword">new</span> String(<span class="stringliteral">&quot;create table if not exists widget_test (id integer primary key autoincrement, text1 text not null);&quot;</span>);
 db-&gt;<a class="code" href="../../da/d1b/classgaia_1_1storage_1_1_s_q_lite_database.html#ac38324de5b3d9e1cd6b5a2089319a4a5" title="Execute a single SQL statement that is not a query.">execSQL</a>(*createSQL);

 String* tableName = <span class="keyword">new</span> String(<span class="stringliteral">&quot;widget_test&quot;</span>);
 Cursor* mpCursor = db-&gt;query(*tableName);

 gaia::ui::AlphabetIndexeralphabetIndexer = <span class="keyword">new</span> <a class="code" href="../../d0/d21/classgaia_1_1ui_1_1_alphabet_indexer.html#a7fd04b25ffa0f7ab98e5afc3bba6577d" title="The constructor of the AlphabetIndexer.">AlphabetIndexer</a>(mpCursor,
     mpCursor-&gt;getColumnIndex(<span class="stringliteral">&quot;text1&quot;</span>), <span class="stringliteral">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span>);
</pre></div> 
<p>Definition at line <a class="el" href="../../d0/d89/_alphabet_indexer_8h_source.html#l00053">53</a> of file <a class="el" href="../../d0/d89/_alphabet_indexer_8h_source.html">AlphabetIndexer.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7fd04b25ffa0f7ab98e5afc3bba6577d"></a><!-- doxytag: member="gaia::ui::AlphabetIndexer::AlphabetIndexer" ref="a7fd04b25ffa0f7ab98e5afc3bba6577d" args="(gaia::storage::Cursor *cursor, int32_t sortedColumnIndex, const gaia::base::CharSequence &amp;alphabet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gaia::ui::AlphabetIndexer::AlphabetIndexer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/de8/classgaia_1_1storage_1_1_cursor.html">gaia::storage::Cursor</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>sortedColumnIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d1/d0f/classgaia_1_1base_1_1_char_sequence.html">gaia::base::CharSequence</a> &amp;&#160;</td>
          <td class="paramname"><em>alphabet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The constructor of the <a class="el" href="../../d0/d21/classgaia_1_1ui_1_1_alphabet_indexer.html" title="A helper class for adapters that implement the SectionIndexer interface.">AlphabetIndexer</a>. </p>

</div>
</div>
<a class="anchor" id="a176aa2c9eaf525df1631f68be633a006"></a><!-- doxytag: member="gaia::ui::AlphabetIndexer::~AlphabetIndexer" ref="a176aa2c9eaf525df1631f68be633a006" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual gaia::ui::AlphabetIndexer::~AlphabetIndexer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a5a920586b8af71c00aacfcd2a0918e92"></a><!-- doxytag: member="gaia::ui::AlphabetIndexer::getPositionForSection" ref="a5a920586b8af71c00aacfcd2a0918e92" args="(int32_t sectionIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t gaia::ui::AlphabetIndexer::getPositionForSection </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>sectionIndex</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Performs a binary search or cache lookup to find the first row that matches a given section's starting letter. </p>

<p>Implements <a class="el" href="../../d8/ded/classgaia_1_1ui_1_1_i_section_indexer.html#aa473c3998bd69a3566d106b155a9d09d">gaia::ui::ISectionIndexer</a>.</p>

</div>
</div>
<a class="anchor" id="a2dd23ad33ba607246f69437dbb0c80f4"></a><!-- doxytag: member="gaia::ui::AlphabetIndexer::getSectionForPosition" ref="a2dd23ad33ba607246f69437dbb0c80f4" args="(int32_t position)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t gaia::ui::AlphabetIndexer::getSectionForPosition </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>position</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the section index for a given position in the list by querying the item and comparing it with all items in the section array. </p>

<p>Implements <a class="el" href="../../d8/ded/classgaia_1_1ui_1_1_i_section_indexer.html#a06cab4f990a968bb639931a2fbe21a1e">gaia::ui::ISectionIndexer</a>.</p>

</div>
</div>
<a class="anchor" id="a657b8a29f37c47800dab8e7c60e9a572"></a><!-- doxytag: member="gaia::ui::AlphabetIndexer::getSections" ref="a657b8a29f37c47800dab8e7c60e9a572" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/db6/classgaia_1_1base_1_1_string_array.html">gaia::base::StringArray</a> gaia::ui::AlphabetIndexer::getSections </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the section array constructed from the alphabet provided in the constructor. </p>

<p>Implements <a class="el" href="../../d8/ded/classgaia_1_1ui_1_1_i_section_indexer.html#ab5d2fd55827808ec046784a8c81c3aa3">gaia::ui::ISectionIndexer</a>.</p>

</div>
</div>
<a class="anchor" id="a2d0a184d29bccc212704533182d7efc0"></a><!-- doxytag: member="gaia::ui::AlphabetIndexer::setCursor" ref="a2d0a184d29bccc212704533182d7efc0" args="(gaia::storage::Cursor *cursor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaia::ui::AlphabetIndexer::setCursor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/de8/classgaia_1_1storage_1_1_cursor.html">gaia::storage::Cursor</a> *&#160;</td>
          <td class="paramname"><em>cursor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets a new cursor as the data set and resets the cache of indices. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/gpdbuildserver3/Jenkins_Workspace/workspace/BuildGaia2SDKLauncher/sdk/include/gaia/ui/<a class="el" href="../../d0/d89/_alphabet_indexer_8h_source.html">AlphabetIndexer.h</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Jul 12 2013 04:17:52 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>

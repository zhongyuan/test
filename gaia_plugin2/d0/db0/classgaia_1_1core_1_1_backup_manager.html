<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gaia::core::BackupManager Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = '../../open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = '../../closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d9/db5/namespacegaia.html">gaia</a>      </li>
      <li class="navelem"><a class="el" href="../../db/dfb/namespacegaia_1_1core.html">core</a>      </li>
      <li class="navelem"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html">BackupManager</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">gaia::core::BackupManager Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="gaia::core::BackupManager" -->
<p><code>#include &lt;<a class="el" href="../../d8/d34/_backup_manager_8h_source.html">BackupManager.h</a>&gt;</code></p>

<p><a href="../../de/d0f/classgaia_1_1core_1_1_backup_manager-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#acacd627f382dc50ba4b77102532d1b80">BackupManager</a> (<a class="el" href="../../d0/d05/classgaia_1_1core_1_1_context.html">gaia::core::Context</a> *context)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Class construct.  <a href="#acacd627f382dc50ba4b77102532d1b80"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a48fa19703a3f052f033b84ce1323b30a">~BackupManager</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Class destruct.  <a href="#a48fa19703a3f052f033b84ce1323b30a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#abafe426d78bf55458826353d60db1998">dataChanged</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies the gaia backup system that your application wishes to back up new changes to its data.  <a href="#abafe426d78bf55458826353d60db1998"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a2b0f8098e4b6c98818f4d8d8bc52df7e">dataChanged</a> (const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> &amp;packageName)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience method for callers who need to indicate that some other package needs a backup pass.  <a href="#a2b0f8098e4b6c98818f4d8d8bc52df7e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a822a220f19a66dcfccf0db3390062015">requestRestore</a> (const <a class="el" href="../../dc/d05/classgaia_1_1core_1_1_restore_observer.html">RestoreObserver</a> &amp;observer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore the calling application from backup.  <a href="#a822a220f19a66dcfccf0db3390062015"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#af3f4088745640626f3637e606950a70e">isBackupEnabled</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Report whether the backup mechanism is currently enabled.  <a href="#af3f4088745640626f3637e606950a70e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#af92fb452c68175ba7722b6b5e269c97b">setBackupPassword</a> (const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">gaia::base::String</a> &amp;currentPw, const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">gaia::base::String</a> &amp;newPw)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the device's backup password.  <a href="#af92fb452c68175ba7722b6b5e269c97b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#abac81ce42befb2c41c7e85ed845a6052">hasBackupPassword</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reports whether a backup password is currently set.  <a href="#abac81ce42befb2c41c7e85ed845a6052"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a3797c6117b13d9b11db0a0620afa2c40">backupNow</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedule an immediate backup attempt for all pending updates.  <a href="#a3797c6117b13d9b11db0a0620afa2c40"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a5cd91c90397cae14b90859903972b2b8">restoreNow</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedule an immediate restore attempt for all pending updates.  <a href="#a5cd91c90397cae14b90859903972b2b8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d5d/classgaia_1_1base_1_1_vector.html">gaia::base::Vector</a>&lt; <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#ab14dc97f483c61272c67053b0ef8cabe">listAllTransports</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Request a list of all available backup transports' names.  <a href="#ab14dc97f483c61272c67053b0ef8cabe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">gaia::base::String</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a5e12f11446b26292967c2bf3fd5aa8f0">selectBackupTransport</a> (const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">gaia::base::String</a> &amp;transport)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Specify the current backup transport.  <a href="#a5e12f11446b26292967c2bf3fd5aa8f0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a4a53c28c3afb919863cbdfceb0e6626b">getCurrentTransport</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Identify the currently selected transport.  <a href="#a4a53c28c3afb919863cbdfceb0e6626b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d95/classgaia_1_1core_1_1_demand.html">Demand</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#ace50e9841e7dfe63077c537783496677">getConfigurationIntent</a> (const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> &amp;transportName)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the configuration Intent, if any, from the given transport.  <a href="#ace50e9841e7dfe63077c537783496677"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a4f028a6f047e82098d51d1eeb1cc7517">getDestinationString</a> (const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> &amp;transportName)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the destination string supplied by the given transport.  <a href="#a4f028a6f047e82098d51d1eeb1cc7517"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d96/classgaia_1_1core_1_1_restore_session.html">RestoreSession</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#aa5fbee50f220304826c5b0b428be6903">beginRestoreSession</a> (const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> &amp;pkgName, const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> &amp;transportID)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin a restore session.  <a href="#aa5fbee50f220304826c5b0b428be6903"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d96/classgaia_1_1core_1_1_restore_session.html">RestoreSession</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a839c1176bea2877181b13fa7dd532c33">beginRestoreSession</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#ad8003d71a17763554e04afce25c8d0d0">setBackupEnabled</a> (bool isEnabled)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable/disable the backup service entirely.  <a href="#ad8003d71a17763554e04afce25c8d0d0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a62063bc7f2fd33e344affe528d8ffda1">setBackupProvisioned</a> (bool available)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that any necessary one-time provisioning has occurred.  <a href="#a62063bc7f2fd33e344affe528d8ffda1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#aa79206da26514a00c5495a10321a84b4">setAutoRestore</a> (bool doAutoRestore)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable/disable automatic restore of application data at install time.  <a href="#aa79206da26514a00c5495a10321a84b4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#ab7bfbf36a982c6ddf0c5cf5b684d93cb">clearBackupData</a> (const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> &amp;packageName)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase all backed-up data for the given package from the storage destination.  <a href="#ab7bfbf36a982c6ddf0c5cf5b684d93cb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a6ce648d068c419a006371fd805e553df">BackupStatus</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">get current status of backup service.  <a href="#a6ce648d068c419a006371fd805e553df"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a20c08e7177e5b3853b52b034786910a2">registerExternalTransport</a> (<a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> packagename, <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> servicename)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">register user-defined transport to backup service.  <a href="#a20c08e7177e5b3853b52b034786910a2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a0ecf48463a909611487ef87e9b122cf8">clearBackupDataByTransport</a> (<a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> packageName, <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> transportname)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">clear backup data for requested package and transport  <a href="#a0ecf48463a909611487ef87e9b122cf8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a95788d7b9fb6d031524c39406453d79f">BackupRestoreForExternalTransport</a> (<a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> name, bool action, int64_t token, const <a class="el" href="../../df/d5d/classgaia_1_1base_1_1_vector.html">base::Vector</a>&lt; <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">gaia::base::String</a> &gt; &amp;packages)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A independent flow with BackupManagerService's normal behavior with input exist tranport name.  <a href="#a95788d7b9fb6d031524c39406453d79f"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#ae0ea44c682d87d8def432f91182ff265">BackupManager</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Class construct.  <a href="#ae0ea44c682d87d8def432f91182ff265"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BackupManagerProxy *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#aaa0efddff2383545cb4750c27d629635">mpProxy</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">proxy member.  <a href="#aaa0efddff2383545cb4750c27d629635"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="../../d8/d34/_backup_manager_8h_source.html#l00027">27</a> of file <a class="el" href="../../d8/d34/_backup_manager_8h_source.html">BackupManager.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="acacd627f382dc50ba4b77102532d1b80"></a><!-- doxytag: member="gaia::core::BackupManager::BackupManager" ref="acacd627f382dc50ba4b77102532d1b80" args="(gaia::core::Context *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gaia::core::BackupManager::BackupManager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d05/classgaia_1_1core_1_1_context.html">gaia::core::Context</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Class construct. </p>

</div>
</div>
<a class="anchor" id="a48fa19703a3f052f033b84ce1323b30a"></a><!-- doxytag: member="gaia::core::BackupManager::~BackupManager" ref="a48fa19703a3f052f033b84ce1323b30a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gaia::core::BackupManager::~BackupManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Class destruct. </p>

</div>
</div>
<a class="anchor" id="ae0ea44c682d87d8def432f91182ff265"></a><!-- doxytag: member="gaia::core::BackupManager::BackupManager" ref="ae0ea44c682d87d8def432f91182ff265" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gaia::core::BackupManager::BackupManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Class construct. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a3797c6117b13d9b11db0a0620afa2c40"></a><!-- doxytag: member="gaia::core::BackupManager::backupNow" ref="a3797c6117b13d9b11db0a0620afa2c40" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaia::core::BackupManager::backupNow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Schedule an immediate backup attempt for all pending updates. </p>

</div>
</div>
<a class="anchor" id="a95788d7b9fb6d031524c39406453d79f"></a><!-- doxytag: member="gaia::core::BackupManager::BackupRestoreForExternalTransport" ref="a95788d7b9fb6d031524c39406453d79f" args="(base::String name, bool action, int64_t token, const base::Vector&lt; gaia::base::String &gt; &amp;packages)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gaia::core::BackupManager::BackupRestoreForExternalTransport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a>&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../df/d5d/classgaia_1_1base_1_1_vector.html">base::Vector</a>&lt; <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">gaia::base::String</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>packages</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A independent flow with BackupManagerService's normal behavior with input exist tranport name. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the transport to query. </td></tr>
    <tr><td class="paramname">action</td><td>The action of selecting is backup or restore this time. </td></tr>
    <tr><td class="paramname">token</td><td>The transport token used for restore. </td></tr>
    <tr><td class="paramname">packages</td><td>A string array of requesting backup or restore packages. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A boolean to show this request is success or not. </dd></dl>

</div>
</div>
<a class="anchor" id="a6ce648d068c419a006371fd805e553df"></a><!-- doxytag: member="gaia::core::BackupManager::BackupStatus" ref="a6ce648d068c419a006371fd805e553df" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> gaia::core::BackupManager::BackupStatus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>get current status of backup service. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the status, one of following strings "IDLE" or "BACKUP_RUN" or "RESTORE_RUN" </dd></dl>

</div>
</div>
<a class="anchor" id="aa5fbee50f220304826c5b0b428be6903"></a><!-- doxytag: member="gaia::core::BackupManager::beginRestoreSession" ref="aa5fbee50f220304826c5b0b428be6903" args="(const base::String &amp;pkgName, const base::String &amp;transportID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d96/classgaia_1_1core_1_1_restore_session.html">RestoreSession</a> gaia::core::BackupManager::beginRestoreSession </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> &amp;&#160;</td>
          <td class="paramname"><em>pkgName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> &amp;&#160;</td>
          <td class="paramname"><em>transportID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Begin a restore session. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pkgName</td><td>The name of the single package for which a restore will be requested. </td></tr>
    <tr><td class="paramname">transportID</td><td>The name of the transport to use for the restore operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An interface to <a class="el" href="../../d3/d96/classgaia_1_1core_1_1_restore_session.html">RestoreSession</a>, or null on error. </dd></dl>

</div>
</div>
<a class="anchor" id="a839c1176bea2877181b13fa7dd532c33"></a><!-- doxytag: member="gaia::core::BackupManager::beginRestoreSession" ref="a839c1176bea2877181b13fa7dd532c33" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d96/classgaia_1_1core_1_1_restore_session.html">RestoreSession</a> gaia::core::BackupManager::beginRestoreSession </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab7bfbf36a982c6ddf0c5cf5b684d93cb"></a><!-- doxytag: member="gaia::core::BackupManager::clearBackupData" ref="ab7bfbf36a982c6ddf0c5cf5b684d93cb" args="(const base::String &amp;packageName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaia::core::BackupManager::clearBackupData </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> &amp;&#160;</td>
          <td class="paramname"><em>packageName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Erase all backed-up data for the given package from the storage destination. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">packageName</td><td>package to clear </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0ecf48463a909611487ef87e9b122cf8"></a><!-- doxytag: member="gaia::core::BackupManager::clearBackupDataByTransport" ref="a0ecf48463a909611487ef87e9b122cf8" args="(base::String packageName, base::String transportname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaia::core::BackupManager::clearBackupDataByTransport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a>&#160;</td>
          <td class="paramname"><em>packageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a>&#160;</td>
          <td class="paramname"><em>transportname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>clear backup data for requested package and transport </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">packageName</td><td>the package which backuped or restored </td></tr>
    <tr><td class="paramname">transportname</td><td>the transport name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2b0f8098e4b6c98818f4d8d8bc52df7e"></a><!-- doxytag: member="gaia::core::BackupManager::dataChanged" ref="a2b0f8098e4b6c98818f4d8d8bc52df7e" args="(const base::String &amp;packageName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaia::core::BackupManager::dataChanged </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> &amp;&#160;</td>
          <td class="paramname"><em>packageName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convenience method for callers who need to indicate that some other package needs a backup pass. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">packageName</td><td>The package name identifying the application to back up. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abafe426d78bf55458826353d60db1998"></a><!-- doxytag: member="gaia::core::BackupManager::dataChanged" ref="abafe426d78bf55458826353d60db1998" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaia::core::BackupManager::dataChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Notifies the gaia backup system that your application wishes to back up new changes to its data. </p>

</div>
</div>
<a class="anchor" id="ace50e9841e7dfe63077c537783496677"></a><!-- doxytag: member="gaia::core::BackupManager::getConfigurationIntent" ref="ace50e9841e7dfe63077c537783496677" args="(const base::String &amp;transportName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d95/classgaia_1_1core_1_1_demand.html">Demand</a> gaia::core::BackupManager::getConfigurationIntent </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> &amp;&#160;</td>
          <td class="paramname"><em>transportName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the configuration Intent, if any, from the given transport. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">transportName</td><td>The name of the transport to query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An <a class="el" href="../../d4/d95/classgaia_1_1core_1_1_demand.html" title="An Demand is an abstract description of an operation to be performed.">Demand</a> to bring up the configuration UI supplied by the transport. </dd></dl>

</div>
</div>
<a class="anchor" id="a4a53c28c3afb919863cbdfceb0e6626b"></a><!-- doxytag: member="gaia::core::BackupManager::getCurrentTransport" ref="a4a53c28c3afb919863cbdfceb0e6626b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> gaia::core::BackupManager::getCurrentTransport </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Identify the currently selected transport. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The name of the current backup transport. </dd></dl>

</div>
</div>
<a class="anchor" id="a4f028a6f047e82098d51d1eeb1cc7517"></a><!-- doxytag: member="gaia::core::BackupManager::getDestinationString" ref="a4f028a6f047e82098d51d1eeb1cc7517" args="(const base::String &amp;transportName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> gaia::core::BackupManager::getDestinationString </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> &amp;&#160;</td>
          <td class="paramname"><em>transportName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the destination string supplied by the given transport. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">transportName</td><td>The name of the transport to query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A string describing the current backup destination. </dd></dl>

</div>
</div>
<a class="anchor" id="abac81ce42befb2c41c7e85ed845a6052"></a><!-- doxytag: member="gaia::core::BackupManager::hasBackupPassword" ref="abac81ce42befb2c41c7e85ed845a6052" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gaia::core::BackupManager::hasBackupPassword </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reports whether a backup password is currently set. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if password is set, or return false </dd></dl>

</div>
</div>
<a class="anchor" id="af3f4088745640626f3637e606950a70e"></a><!-- doxytag: member="gaia::core::BackupManager::isBackupEnabled" ref="af3f4088745640626f3637e606950a70e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gaia::core::BackupManager::isBackupEnabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Report whether the backup mechanism is currently enabled. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The status of the backup mechanism enable or disable. </dd></dl>

</div>
</div>
<a class="anchor" id="ab14dc97f483c61272c67053b0ef8cabe"></a><!-- doxytag: member="gaia::core::BackupManager::listAllTransports" ref="ab14dc97f483c61272c67053b0ef8cabe" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d5d/classgaia_1_1base_1_1_vector.html">gaia::base::Vector</a>&lt;<a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> &gt; gaia::core::BackupManager::listAllTransports </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Request a list of all available backup transports' names. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>a list of all available backup transports' names </dd></dl>

</div>
</div>
<a class="anchor" id="a20c08e7177e5b3853b52b034786910a2"></a><!-- doxytag: member="gaia::core::BackupManager::registerExternalTransport" ref="a20c08e7177e5b3853b52b034786910a2" args="(base::String packagename, base::String servicename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaia::core::BackupManager::registerExternalTransport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a>&#160;</td>
          <td class="paramname"><em>packagename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a>&#160;</td>
          <td class="paramname"><em>servicename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>register user-defined transport to backup service. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">packagename</td><td>the package which will using user-defined transport </td></tr>
    <tr><td class="paramname">servicename</td><td>the user-defined transport </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a822a220f19a66dcfccf0db3390062015"></a><!-- doxytag: member="gaia::core::BackupManager::requestRestore" ref="a822a220f19a66dcfccf0db3390062015" args="(const RestoreObserver &amp;observer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t gaia::core::BackupManager::requestRestore </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dc/d05/classgaia_1_1core_1_1_restore_observer.html">RestoreObserver</a> &amp;&#160;</td>
          <td class="paramname"><em>observer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Restore the calling application from backup. </p>
<p>The data will be restored from the current backup dataset if the application has stored data there, or from the dataset used during the last full device setup operation if the current backup dataset has no matching data. If no backup data exists for this application in either source, a nonzero value will be returned. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">observer</td><td>The restore observer to receive callbacks during the restore operation. This must not be null. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zero on success; nonzero on error. </dd></dl>

</div>
</div>
<a class="anchor" id="a5cd91c90397cae14b90859903972b2b8"></a><!-- doxytag: member="gaia::core::BackupManager::restoreNow" ref="a5cd91c90397cae14b90859903972b2b8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaia::core::BackupManager::restoreNow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Schedule an immediate restore attempt for all pending updates. </p>

</div>
</div>
<a class="anchor" id="a5e12f11446b26292967c2bf3fd5aa8f0"></a><!-- doxytag: member="gaia::core::BackupManager::selectBackupTransport" ref="a5e12f11446b26292967c2bf3fd5aa8f0" args="(const gaia::base::String &amp;transport)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">gaia::base::String</a> gaia::core::BackupManager::selectBackupTransport </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">gaia::base::String</a> &amp;&#160;</td>
          <td class="paramname"><em>transport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Specify the current backup transport. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">transport</td><td>The name of the transport to select. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The name of the previously selected transport. </dd></dl>

</div>
</div>
<a class="anchor" id="aa79206da26514a00c5495a10321a84b4"></a><!-- doxytag: member="gaia::core::BackupManager::setAutoRestore" ref="aa79206da26514a00c5495a10321a84b4" args="(bool doAutoRestore)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaia::core::BackupManager::setAutoRestore </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>doAutoRestore</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable/disable automatic restore of application data at install time. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">doAutoRestore</td><td>When true, enables the automatic app-data restore facility. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad8003d71a17763554e04afce25c8d0d0"></a><!-- doxytag: member="gaia::core::BackupManager::setBackupEnabled" ref="ad8003d71a17763554e04afce25c8d0d0" args="(bool isEnabled)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaia::core::BackupManager::setBackupEnabled </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isEnabled</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable/disable the backup service entirely. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">isEnabled</td><td>set the backup mechanism enable/disable </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af92fb452c68175ba7722b6b5e269c97b"></a><!-- doxytag: member="gaia::core::BackupManager::setBackupPassword" ref="af92fb452c68175ba7722b6b5e269c97b" args="(const gaia::base::String &amp;currentPw, const gaia::base::String &amp;newPw)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gaia::core::BackupManager::setBackupPassword </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">gaia::base::String</a> &amp;&#160;</td>
          <td class="paramname"><em>currentPw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">gaia::base::String</a> &amp;&#160;</td>
          <td class="paramname"><em>newPw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the device's backup password. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">currentPw</td><td>current password used </td></tr>
    <tr><td class="paramname">newPw</td><td>new password to set </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if set backup password successful, or return false </dd></dl>

</div>
</div>
<a class="anchor" id="a62063bc7f2fd33e344affe528d8ffda1"></a><!-- doxytag: member="gaia::core::BackupManager::setBackupProvisioned" ref="a62063bc7f2fd33e344affe528d8ffda1" args="(bool available)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaia::core::BackupManager::setBackupProvisioned </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>available</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Indicate that any necessary one-time provisioning has occurred. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">available</td><td>set provisioning value by this param </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="aaa0efddff2383545cb4750c27d629635"></a><!-- doxytag: member="gaia::core::BackupManager::mpProxy" ref="aaa0efddff2383545cb4750c27d629635" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BackupManagerProxy* <a class="el" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#aaa0efddff2383545cb4750c27d629635">gaia::core::BackupManager::mpProxy</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>proxy member. </p>

<p>Definition at line <a class="el" href="../../d8/d34/_backup_manager_8h_source.html#l00194">194</a> of file <a class="el" href="../../d8/d34/_backup_manager_8h_source.html">BackupManager.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/gpdbuildserver3/Jenkins_Workspace/workspace/BuildGaia2SDKLauncher/sdk/include/gaia/core/bm/<a class="el" href="../../d8/d34/_backup_manager_8h_source.html">BackupManager.h</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Jul 12 2013 04:17:40 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>

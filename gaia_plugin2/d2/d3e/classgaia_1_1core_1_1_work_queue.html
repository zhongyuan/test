<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gaia::core::WorkQueue Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = '../../open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = '../../closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d9/db5/namespacegaia.html">gaia</a>      </li>
      <li class="navelem"><a class="el" href="../../db/dfb/namespacegaia_1_1core.html">core</a>      </li>
      <li class="navelem"><a class="el" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html">WorkQueue</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">gaia::core::WorkQueue Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="gaia::core::WorkQueue" -->
<p>This class provides an interface for representing a dispatch queue and methods that can be called to use the queue.  
 <a href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../de/dd0/_work_queue_8h_source.html">WorkQueue.h</a>&gt;</code></p>

<p><a href="../../d8/d74/classgaia_1_1core_1_1_work_queue-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html#ae751e82c483e8b5e44343eb101bc1519">WorkQueue</a> (const char *label)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new serial queue featuring the given label.  <a href="#ae751e82c483e8b5e44343eb101bc1519"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html#a818db07a6cd01a5499e22e1e5bd90f71">WorkQueue</a> (const <a class="el" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html">WorkQueue</a> &amp;queue)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the copy constructor for this class.  <a href="#a818db07a6cd01a5499e22e1e5bd90f71"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html#a56914941a6fef7b7c15bd4f3f6c6712f">~WorkQueue</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the destructor for this class.  <a href="#a56914941a6fef7b7c15bd4f3f6c6712f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html#a3a29a4e3b0d1dd6a7ea7c8f08847bae7">async</a> (<a class="el" href="../../d4/d69/classgaia_1_1core_1_1_work_item.html">WorkItem</a> *workItem)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d1/df9/classgaia_1_1core_1_1_dispatch.html" title="This class is used to get one of the main or global queue.">Dispatch</a> the given <b>workItem</b> for async execution on the queue and return immediately.  <a href="#a3a29a4e3b0d1dd6a7ea7c8f08847bae7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html#a488623db05e88d13856befdf7f4e0a5f">asyncDelayed</a> (<a class="el" href="../../d4/d69/classgaia_1_1core_1_1_work_item.html">WorkItem</a> *workItem, int64_t delayMillis)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d1/df9/classgaia_1_1core_1_1_dispatch.html" title="This class is used to get one of the main or global queue.">Dispatch</a> the given <b>workItem</b> for async execution on the queue after the given time and return immediately.  <a href="#a488623db05e88d13856befdf7f4e0a5f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html#a0157d92a4a62beb7bc8c2d2d79d5984a">sync</a> (<a class="el" href="../../d4/d69/classgaia_1_1core_1_1_work_item.html">WorkItem</a> *workItem)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies the given <b>workItem</b> for execution in this queue and blocks until the operation was executed.  <a href="#a0157d92a4a62beb7bc8c2d2d79d5984a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html#a8d7551a8d303c2c7e90241a0a12eeb5f">cancelDelayedTasks</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel all the deleyed tasks that are submitted by <b><a class="el" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html#a488623db05e88d13856befdf7f4e0a5f" title="Dispatch the given workItem for async execution on the queue after the given time and return immediat...">asyncDelayed()</a></b>, if they are still pended on the queue.  <a href="#a8d7551a8d303c2c7e90241a0a12eeb5f"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html#a6aa93394ddad56e96a124c3cc3f4aa64">WorkQueue</a> (WorkQueueData *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html">WorkQueue</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html#a3a077ab2dcd61d8baf343043e79ba4fe">operator=</a> (const <a class="el" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html">WorkQueue</a> &amp;)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This class provides an interface for representing a dispatch queue and methods that can be called to use the queue. </p>
<p>The following example demonstrates how to use the <a class="el" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html" title="This class provides an interface for representing a dispatch queue and methods that can be called to ...">WorkQueue</a> class.</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;<a class="code" href="../../de/d16/_work_item_8h.html">gaia/core/WorkItem.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="../../de/dd0/_work_queue_8h.html">gaia/core/WorkQueue.h</a>&gt;</span>

 <span class="keyword">using namespace </span>gaia::core;

 <span class="keyword">class </span>MyWorkItem : <span class="keyword">public</span> <a class="code" href="../../d4/d69/classgaia_1_1core_1_1_work_item.html" title="This class is used to define single portions of task to be dispatched to a single WorkQueue...">WorkItem</a>
 {
 <span class="keyword">public</span>:
     <span class="comment">// This method will be executed on the WorkQueue</span>
     <span class="keywordtype">void</span> run()
     {
         <span class="comment">// Do some job here.</span>
     }
 };

 <a class="code" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html" title="This class provides an interface for representing a dispatch queue and methods that can be called to ...">WorkQueue</a> queue(<span class="stringliteral">&quot;WorkRunner&quot;</span>);
 <span class="comment">// Run MyWorkItem::run() asynchronously.</span>
 queue.async(<span class="keyword">new</span> MyWorkItem());
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="../../d1/df9/classgaia_1_1core_1_1_dispatch.html#aa3ca5bbbebeee5170baaa668de1a6154" title="Get the main queue.">Dispatch::mainQueue</a> </dd>
<dd>
<a class="el" href="../../d1/df9/classgaia_1_1core_1_1_dispatch.html#af8ecbdf36f059bd75ee3b951947e774f" title="Returns the global queue associated to the given Priority p.">Dispatch::globalQueue</a> </dd></dl>

<p>Definition at line <a class="el" href="../../de/dd0/_work_queue_8h_source.html#l00047">47</a> of file <a class="el" href="../../de/dd0/_work_queue_8h_source.html">WorkQueue.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae751e82c483e8b5e44343eb101bc1519"></a><!-- doxytag: member="gaia::core::WorkQueue::WorkQueue" ref="ae751e82c483e8b5e44343eb101bc1519" args="(const char *label)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gaia::core::WorkQueue::WorkQueue </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>label</em></td><td>)</td>
          <td><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new serial queue featuring the given label. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">label</td><td>The name of the work queue. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a818db07a6cd01a5499e22e1e5bd90f71"></a><!-- doxytag: member="gaia::core::WorkQueue::WorkQueue" ref="a818db07a6cd01a5499e22e1e5bd90f71" args="(const WorkQueue &amp;queue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gaia::core::WorkQueue::WorkQueue </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html">WorkQueue</a> &amp;&#160;</td>
          <td class="paramname"><em>queue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is the copy constructor for this class. </p>

</div>
</div>
<a class="anchor" id="a56914941a6fef7b7c15bd4f3f6c6712f"></a><!-- doxytag: member="gaia::core::WorkQueue::~WorkQueue" ref="a56914941a6fef7b7c15bd4f3f6c6712f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual gaia::core::WorkQueue::~WorkQueue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is the destructor for this class. </p>

</div>
</div>
<a class="anchor" id="a6aa93394ddad56e96a124c3cc3f4aa64"></a><!-- doxytag: member="gaia::core::WorkQueue::WorkQueue" ref="a6aa93394ddad56e96a124c3cc3f4aa64" args="(WorkQueueData *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gaia::core::WorkQueue::WorkQueue </td>
          <td>(</td>
          <td class="paramtype">WorkQueueData *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td><code> [explicit, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a3a29a4e3b0d1dd6a7ea7c8f08847bae7"></a><!-- doxytag: member="gaia::core::WorkQueue::async" ref="a3a29a4e3b0d1dd6a7ea7c8f08847bae7" args="(WorkItem *workItem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void gaia::core::WorkQueue::async </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d69/classgaia_1_1core_1_1_work_item.html">WorkItem</a> *&#160;</td>
          <td class="paramname"><em>workItem</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="../../d1/df9/classgaia_1_1core_1_1_dispatch.html" title="This class is used to get one of the main or global queue.">Dispatch</a> the given <b>workItem</b> for async execution on the queue and return immediately. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">workItem</td><td>The <a class="el" href="../../d4/d69/classgaia_1_1core_1_1_work_item.html" title="This class is used to define single portions of task to be dispatched to a single WorkQueue...">WorkItem</a> which will be executed on the queue.</td></tr>
  </table>
  </dd>
</dl>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>The <b>workItem</b> will be deleted as soon as it was executed. </dd></dl>

</div>
</div>
<a class="anchor" id="a488623db05e88d13856befdf7f4e0a5f"></a><!-- doxytag: member="gaia::core::WorkQueue::asyncDelayed" ref="a488623db05e88d13856befdf7f4e0a5f" args="(WorkItem *workItem, int64_t delayMillis)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void gaia::core::WorkQueue::asyncDelayed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d69/classgaia_1_1core_1_1_work_item.html">WorkItem</a> *&#160;</td>
          <td class="paramname"><em>workItem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>delayMillis</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="../../d1/df9/classgaia_1_1core_1_1_dispatch.html" title="This class is used to get one of the main or global queue.">Dispatch</a> the given <b>workItem</b> for async execution on the queue after the given time and return immediately. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">workItem</td><td>The <a class="el" href="../../d4/d69/classgaia_1_1core_1_1_work_item.html" title="This class is used to define single portions of task to be dispatched to a single WorkQueue...">WorkItem</a> which will be executed on the queue. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">delayMillis</td><td>The time to wait until the <a class="el" href="../../d4/d69/classgaia_1_1core_1_1_work_item.html" title="This class is used to define single portions of task to be dispatched to a single WorkQueue...">WorkItem</a> is applied to the queue.</td></tr>
  </table>
  </dd>
</dl>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>The <b>workItem</b> will be deleted as soon as it was executed. </dd>
<dd>
If <b>delayMillis</b> is qual to 0, then it will invoke <a class="el" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html#a3a29a4e3b0d1dd6a7ea7c8f08847bae7" title="Dispatch the given workItem for async execution on the queue and return immediately.">async()</a> instead. </dd></dl>

</div>
</div>
<a class="anchor" id="a8d7551a8d303c2c7e90241a0a12eeb5f"></a><!-- doxytag: member="gaia::core::WorkQueue::cancelDelayedTasks" ref="a8d7551a8d303c2c7e90241a0a12eeb5f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void gaia::core::WorkQueue::cancelDelayedTasks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cancel all the deleyed tasks that are submitted by <b><a class="el" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html#a488623db05e88d13856befdf7f4e0a5f" title="Dispatch the given workItem for async execution on the queue after the given time and return immediat...">asyncDelayed()</a></b>, if they are still pended on the queue. </p>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>This api won't affect tasks submitted by <b><a class="el" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html#a3a29a4e3b0d1dd6a7ea7c8f08847bae7" title="Dispatch the given workItem for async execution on the queue and return immediately.">async()</a></b>. </dd></dl>

</div>
</div>
<a class="anchor" id="a3a077ab2dcd61d8baf343043e79ba4fe"></a><!-- doxytag: member="gaia::core::WorkQueue::operator=" ref="a3a077ab2dcd61d8baf343043e79ba4fe" args="(const WorkQueue &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html">WorkQueue</a>&amp; gaia::core::WorkQueue::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/d3e/classgaia_1_1core_1_1_work_queue.html">WorkQueue</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0157d92a4a62beb7bc8c2d2d79d5984a"></a><!-- doxytag: member="gaia::core::WorkQueue::sync" ref="a0157d92a4a62beb7bc8c2d2d79d5984a" args="(WorkItem *workItem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void gaia::core::WorkQueue::sync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d69/classgaia_1_1core_1_1_work_item.html">WorkItem</a> *&#160;</td>
          <td class="paramname"><em>workItem</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Applies the given <b>workItem</b> for execution in this queue and blocks until the operation was executed. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">workItem</td><td>The <a class="el" href="../../d4/d69/classgaia_1_1core_1_1_work_item.html" title="This class is used to define single portions of task to be dispatched to a single WorkQueue...">WorkItem</a> which will be executed on the queue.</td></tr>
  </table>
  </dd>
</dl>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>The queue will take possession the <b>workItem</b> and handle the deletion. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/gpdbuildserver3/Jenkins_Workspace/workspace/BuildGaia2SDKLauncher/sdk/include/gaia/core/<a class="el" href="../../de/dd0/_work_queue_8h_source.html">WorkQueue.h</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Jul 12 2013 04:17:44 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>

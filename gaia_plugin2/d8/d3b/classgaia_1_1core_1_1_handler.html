<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>

<title>gaia::core::Handler Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript" src="../../dynsections.js"></script>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d9/db5/namespacegaia.html">gaia</a>      </li>
      <li class="navelem"><a class="el" href="../../db/dfb/namespacegaia_1_1core.html">core</a>      </li>
      <li class="navelem"><a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html">Handler</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">gaia::core::Handler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="gaia::core::Handler" -->
<p>This class allows you to send and process <a class="el" href="../../dd/dd0/classgaia_1_1core_1_1_message.html" title="This class defines a message containing a message code and arbitrary data that can be sent to a Handl...">Message</a> on main thread.  
 <a href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d0/d18/_handler_8h_source.html">Handler.h</a>&gt;</code></p>

<p><a href="../../d5/da8/classgaia_1_1core_1_1_handler-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#a35bf5ae1c82c80b0d96fd14821df8d03">Handler</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the default constructor for this class.  <a href="#a35bf5ae1c82c80b0d96fd14821df8d03"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#a012872ebb78c9f223b6c33998c1a59ac">~Handler</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the destructor for this class.  <a href="#a012872ebb78c9f223b6c33998c1a59ac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#a971cc783c09726ab109f6adcfdf12244">handleMessage</a> (const <a class="el" href="../../dd/dd0/classgaia_1_1core_1_1_message.html">Message</a> &amp;msg)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Subclasses must implement this to receive messages.  <a href="#a971cc783c09726ab109f6adcfdf12244"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#a8505cb522a59cfd4a4d649bfc7fd59bf">sendMessage</a> (const <a class="el" href="../../dd/dd0/classgaia_1_1core_1_1_message.html">Message</a> &amp;msg) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Pushes a message onto the end of the message queue after all pending messages before the current time.  <a href="#a8505cb522a59cfd4a4d649bfc7fd59bf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#af10015fa232d4bed73bddd5d27b2e432">sendMessageDelayed</a> (const <a class="el" href="../../dd/dd0/classgaia_1_1core_1_1_message.html">Message</a> &amp;msg, int64_t delayMillis) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueue a message into the message queue after all pending messages.  <a href="#af10015fa232d4bed73bddd5d27b2e432"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#a8f8f4741821de3e50a8d7da57089916b">removeMessages</a> (int64_t msgCode)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove any pending posts of messages with code <b>msgCode</b> that are in the message queue.  <a href="#a8f8f4741821de3e50a8d7da57089916b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#a5228946de54a117576f852b6c661bb23">hasMessages</a> (int64_t msgCode)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if there are any pending posts of messages with code 'msgCode' in the message queue.  <a href="#a5228946de54a117576f852b6c661bb23"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#af098aad2fd7f04d2ea9641744ade9142">sendMessageAtFrontOfQueue</a> (const <a class="el" href="../../dd/dd0/classgaia_1_1core_1_1_message.html">Message</a> &amp;msg) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueue a message at the front of the message queue, to be processed on the next iteration of the message loop.  <a href="#af098aad2fd7f04d2ea9641744ade9142"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This class allows you to send and process <a class="el" href="../../dd/dd0/classgaia_1_1core_1_1_message.html" title="This class defines a message containing a message code and arbitrary data that can be sent to a Handl...">Message</a> on main thread. </p>
<dl class="remark"><dt><b>Remarks:</b></dt><dd><a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html" title="This class allows you to send and process Message on main thread.">Handler</a> instance can <b>only</b> be created in the main thread. It is suggested to use <a class="el" href="../../d1/df9/classgaia_1_1core_1_1_dispatch.html#aa3ca5bbbebeee5170baaa668de1a6154" title="Get the main queue.">Dispatch::mainQueue</a> instead. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="../../d1/df9/classgaia_1_1core_1_1_dispatch.html#aa3ca5bbbebeee5170baaa668de1a6154" title="Get the main queue.">Dispatch::mainQueue</a></dd></dl>
<p>The following example demonstrates how to use the <a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html" title="This class allows you to send and process Message on main thread.">Handler</a> class.</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;<a class="code" href="../../d0/d18/_handler_8h.html">gaia/core/Handler.h</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="../../db/db6/_message_8h.html">gaia/core/Message.h</a>&gt;</span>

 <span class="keyword">using namespace </span>gaia::core;

 <span class="keyword">class </span>RefreshHandler
 {
 <span class="keyword">public</span>:
     <span class="keyword">enum</span>
     {
         REFRESH_UI;
     };

     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#a971cc783c09726ab109f6adcfdf12244" title="Subclasses must implement this to receive messages.">handleMessage</a>(<span class="keyword">const</span> <a class="code" href="../../dd/dd0/classgaia_1_1core_1_1_message.html" title="This class defines a message containing a message code and arbitrary data that can be sent to a Handl...">Message</a>&amp; msg)
     {
         <span class="keywordtype">int</span> msgCode = msg.<a class="code" href="../../dd/dd0/classgaia_1_1core_1_1_message.html#a05401969b5aedbad48fed0bf6ca7c522" title="Get the stored message code.">getCode</a>();

         <span class="keywordflow">if</span> (msgCode == REFRESH_UI)
         {
             <span class="comment">// update UI here</span>
         }
     }
 };

 <span class="keywordtype">void</span> updateUI()
 {
     RefreshHandler* refreshHandler = <span class="keyword">new</span> RefreshHandler();
     <a class="code" href="../../dd/dd0/classgaia_1_1core_1_1_message.html" title="This class defines a message containing a message code and arbitrary data that can be sent to a Handl...">Message</a> msg;
     msg.<a class="code" href="../../dd/dd0/classgaia_1_1core_1_1_message.html#aa7c6de567ba84e7edec287d360ed849e" title="Store the user-defined message code.">setCode</a>(REFRESH_UI);
     refreshHandler-&gt;sendMessage(msg);
 }
</pre></div> 
<p>Definition at line <a class="el" href="../../d0/d18/_handler_8h_source.html#l00057">57</a> of file <a class="el" href="../../d0/d18/_handler_8h_source.html">Handler.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a35bf5ae1c82c80b0d96fd14821df8d03"></a><!-- doxytag: member="gaia::core::Handler::Handler" ref="a35bf5ae1c82c80b0d96fd14821df8d03" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#a35bf5ae1c82c80b0d96fd14821df8d03">gaia::core::Handler::Handler</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is the default constructor for this class. </p>

</div>
</div>
<a class="anchor" id="a012872ebb78c9f223b6c33998c1a59ac"></a><!-- doxytag: member="gaia::core::Handler::~Handler" ref="a012872ebb78c9f223b6c33998c1a59ac" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#a012872ebb78c9f223b6c33998c1a59ac">gaia::core::Handler::~Handler</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is the destructor for this class. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a971cc783c09726ab109f6adcfdf12244"></a><!-- doxytag: member="gaia::core::Handler::handleMessage" ref="a971cc783c09726ab109f6adcfdf12244" args="(const Message &amp;msg)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#a971cc783c09726ab109f6adcfdf12244">gaia::core::Handler::handleMessage</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dd/dd0/classgaia_1_1core_1_1_message.html">Message</a> &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Subclasses must implement this to receive messages. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>The <a class="el" href="../../dd/dd0/classgaia_1_1core_1_1_message.html" title="This class defines a message containing a message code and arbitrary data that can be sent to a Handl...">Message</a> dispatched from <a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#a8505cb522a59cfd4a4d649bfc7fd59bf" title="Pushes a message onto the end of the message queue after all pending messages before the current time...">sendMessage</a> or <a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#af10015fa232d4bed73bddd5d27b2e432" title="Enqueue a message into the message queue after all pending messages.">sendMessageDelayed</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5228946de54a117576f852b6c661bb23"></a><!-- doxytag: member="gaia::core::Handler::hasMessages" ref="a5228946de54a117576f852b6c661bb23" args="(int64_t msgCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#a5228946de54a117576f852b6c661bb23">gaia::core::Handler::hasMessages</a> </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>msgCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if there are any pending posts of messages with code 'msgCode' in the message queue. </p>

</div>
</div>
<a class="anchor" id="a8f8f4741821de3e50a8d7da57089916b"></a><!-- doxytag: member="gaia::core::Handler::removeMessages" ref="a8f8f4741821de3e50a8d7da57089916b" args="(int64_t msgCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#a8f8f4741821de3e50a8d7da57089916b">gaia::core::Handler::removeMessages</a> </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>msgCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove any pending posts of messages with code <b>msgCode</b> that are in the message queue. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msgCode</td><td>User-defined message code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8505cb522a59cfd4a4d649bfc7fd59bf"></a><!-- doxytag: member="gaia::core::Handler::sendMessage" ref="a8505cb522a59cfd4a4d649bfc7fd59bf" args="(const Message &amp;msg) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#a8505cb522a59cfd4a4d649bfc7fd59bf">gaia::core::Handler::sendMessage</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dd/dd0/classgaia_1_1core_1_1_message.html">Message</a> &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pushes a message onto the end of the message queue after all pending messages before the current time. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>The <a class="el" href="../../dd/dd0/classgaia_1_1core_1_1_message.html" title="This class defines a message containing a message code and arbitrary data that can be sent to a Handl...">Message</a> will be received in <a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#a971cc783c09726ab109f6adcfdf12244" title="Subclasses must implement this to receive messages.">handleMessage</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the message was successfully placed in to the message queue; false on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="af098aad2fd7f04d2ea9641744ade9142"></a><!-- doxytag: member="gaia::core::Handler::sendMessageAtFrontOfQueue" ref="af098aad2fd7f04d2ea9641744ade9142" args="(const Message &amp;msg) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#af098aad2fd7f04d2ea9641744ade9142">gaia::core::Handler::sendMessageAtFrontOfQueue</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dd/dd0/classgaia_1_1core_1_1_message.html">Message</a> &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enqueue a message at the front of the message queue, to be processed on the next iteration of the message loop. </p>
<p>You will receive it in <a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#a971cc783c09726ab109f6adcfdf12244" title="Subclasses must implement this to receive messages.">handleMessage(const Message&amp; msg)</a> in the thread attached to this handler.</p>
<p>This method is only for use in very special circumstances -- it can easily starve the message queue, cause ordering problems, or have other unexpected side-effects. </p>

</div>
</div>
<a class="anchor" id="af10015fa232d4bed73bddd5d27b2e432"></a><!-- doxytag: member="gaia::core::Handler::sendMessageDelayed" ref="af10015fa232d4bed73bddd5d27b2e432" args="(const Message &amp;msg, int64_t delayMillis) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#af10015fa232d4bed73bddd5d27b2e432">gaia::core::Handler::sendMessageDelayed</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dd/dd0/classgaia_1_1core_1_1_message.html">Message</a> &amp;&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>delayMillis</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enqueue a message into the message queue after all pending messages. </p>
<p>The message will be delivered at (current time + delayMillis).</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>The <a class="el" href="../../dd/dd0/classgaia_1_1core_1_1_message.html" title="This class defines a message containing a message code and arbitrary data that can be sent to a Handl...">Message</a> will be received in <a class="el" href="../../d8/d3b/classgaia_1_1core_1_1_handler.html#a971cc783c09726ab109f6adcfdf12244" title="Subclasses must implement this to receive messages.">handleMessage</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">delayMillis</td><td>The delayed time at which the message should be delivered.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the message was successfully placed in to the message queue; false on failure. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/vilon_tao/gaia/sdk/include/gaia/core/<a class="el" href="../../d0/d18/_handler_8h_source.html">Handler.h</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 25 2013 11:23:23 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>

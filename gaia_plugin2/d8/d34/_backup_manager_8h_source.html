<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>/home/gpdbuildserver3/Jenkins_Workspace/workspace/BuildGaia2SDKLauncher/sdk/include/gaia/core/bm/BackupManager.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = '../../open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = '../../closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../dir_f5a4bec0d15a4b7c4d0fd858ebd5efd3.html">include</a>      </li>
      <li class="navelem"><a class="el" href="../../dir_1456e22c17612b474594c42fce5c0653.html">gaia</a>      </li>
      <li class="navelem"><a class="el" href="../../dir_18e718a92f1e56f596f9b4a710826a5a.html">core</a>      </li>
      <li class="navelem"><a class="el" href="../../dir_38fb794742eba5ec1e2eb3222aff0027.html">bm</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">BackupManager.h</div>  </div>
</div>
<div class="contents">
<a href="../../d8/d34/_backup_manager_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// Copyright for gaia</span>
<a name="l00010"></a>00010 <span class="comment"></span><span class="preprocessor">#pragma once</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span><span class="keyword">namespace </span>gaia {
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="keyword">namespace </span>base {
<a name="l00014"></a>00014 <span class="keyword">class </span>String;
<a name="l00015"></a>00015 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">class </span>Vector;
<a name="l00016"></a>00016 }  <span class="comment">// end namespace base</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="keyword">namespace </span>core {
<a name="l00020"></a>00020 
<a name="l00021"></a>00021   <span class="keyword">class </span>Context;
<a name="l00022"></a>00022   <span class="keyword">class </span><a class="code" href="../../d0/df8/class_restore_observer.html" title="Callback class for receiving progress reports during a restore operation.">RestoreObserver</a>;
<a name="l00023"></a>00023   <span class="keyword">class </span>Demand;
<a name="l00024"></a>00024   <span class="keyword">class </span><a class="code" href="../../d3/d6f/class_restore_session.html" title="Manage a restore session.">RestoreSession</a>;
<a name="l00025"></a>00025   <span class="keyword">class </span>RestoreSessionProxy;
<a name="l00026"></a>00026   <span class="keyword">class </span>BackupManagerProxy;
<a name="l00027"></a><a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html">00027</a>   <span class="keyword">class </span><a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html">BackupManager</a> {
<a name="l00028"></a>00028     <span class="keyword">public</span>:
<a name="l00032"></a>00032         <span class="keyword">explicit</span> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#ae0ea44c682d87d8def432f91182ff265" title="Class construct.">BackupManager</a>(<a class="code" href="../../d0/d05/classgaia_1_1core_1_1_context.html" title="Interface to global information about an application environment.">gaia::core::Context</a>* context);
<a name="l00033"></a>00033 
<a name="l00037"></a>00037         <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a48fa19703a3f052f033b84ce1323b30a" title="Class destruct.">~BackupManager</a>();
<a name="l00038"></a>00038 
<a name="l00043"></a>00043         <span class="keywordtype">void</span> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#abafe426d78bf55458826353d60db1998" title="Notifies the gaia backup system that your application wishes to back up new changes to its data...">dataChanged</a>();
<a name="l00044"></a>00044 
<a name="l00050"></a>00050         <span class="keywordtype">void</span> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#abafe426d78bf55458826353d60db1998" title="Notifies the gaia backup system that your application wishes to back up new changes to its data...">dataChanged</a>(<span class="keyword">const</span> <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">base::String</a>&amp; packageName);
<a name="l00051"></a>00051 
<a name="l00062"></a>00062         int32_t <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a822a220f19a66dcfccf0db3390062015" title="Restore the calling application from backup.">requestRestore</a>(<span class="keyword">const</span> <a class="code" href="../../dc/d05/classgaia_1_1core_1_1_restore_observer.html">RestoreObserver</a>&amp; observer);
<a name="l00063"></a>00063 
<a name="l00068"></a>00068         <span class="keywordtype">bool</span> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#af3f4088745640626f3637e606950a70e" title="Report whether the backup mechanism is currently enabled.">isBackupEnabled</a>();
<a name="l00069"></a>00069 
<a name="l00076"></a>00076         <span class="keywordtype">bool</span> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#af92fb452c68175ba7722b6b5e269c97b" title="Set the device&#39;s backup password.">setBackupPassword</a>(<span class="keyword">const</span> <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">gaia::base::String</a>&amp; currentPw,  <span class="keyword">const</span> <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">gaia::base::String</a>&amp; newPw);
<a name="l00077"></a>00077 
<a name="l00082"></a>00082         <span class="keywordtype">bool</span> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#abac81ce42befb2c41c7e85ed845a6052" title="Reports whether a backup password is currently set.">hasBackupPassword</a>();
<a name="l00083"></a>00083 
<a name="l00087"></a>00087         <span class="keywordtype">void</span> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a3797c6117b13d9b11db0a0620afa2c40" title="Schedule an immediate backup attempt for all pending updates.">backupNow</a>();
<a name="l00088"></a>00088 
<a name="l00092"></a>00092         <span class="keywordtype">void</span> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a5cd91c90397cae14b90859903972b2b8" title="Schedule an immediate restore attempt for all pending updates.">restoreNow</a>();
<a name="l00093"></a>00093 
<a name="l00098"></a>00098         <a class="code" href="../../df/d5d/classgaia_1_1base_1_1_vector.html" title="This class implements the vector data structure.">gaia::base::Vector&lt;base::String &gt;</a> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#ab14dc97f483c61272c67053b0ef8cabe" title="Request a list of all available backup transports&#39; names.">listAllTransports</a>();
<a name="l00099"></a>00099 
<a name="l00105"></a>00105         <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">gaia::base::String</a> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a5e12f11446b26292967c2bf3fd5aa8f0" title="Specify the current backup transport.">selectBackupTransport</a>(<span class="keyword">const</span> <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">gaia::base::String</a>&amp; transport);
<a name="l00106"></a>00106 
<a name="l00111"></a>00111         <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">base::String</a> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a4a53c28c3afb919863cbdfceb0e6626b" title="Identify the currently selected transport.">getCurrentTransport</a>();
<a name="l00112"></a>00112 
<a name="l00118"></a>00118         <a class="code" href="../../d4/d95/classgaia_1_1core_1_1_demand.html" title="An Demand is an abstract description of an operation to be performed.">Demand</a> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#ace50e9841e7dfe63077c537783496677" title="Get the configuration Intent, if any, from the given transport.">getConfigurationIntent</a>(<span class="keyword">const</span> <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">base::String</a>&amp; transportName);
<a name="l00119"></a>00119 
<a name="l00125"></a>00125         <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">base::String</a> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a4f028a6f047e82098d51d1eeb1cc7517" title="Get the destination string supplied by the given transport.">getDestinationString</a>(<span class="keyword">const</span> <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">base::String</a>&amp; transportName);
<a name="l00126"></a>00126 
<a name="l00133"></a>00133         <a class="code" href="../../d3/d96/classgaia_1_1core_1_1_restore_session.html">RestoreSession</a> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a839c1176bea2877181b13fa7dd532c33">beginRestoreSession</a>(<span class="keyword">const</span> <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">base::String</a>&amp; pkgName, <span class="keyword">const</span> <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">base::String</a>&amp; transportID);
<a name="l00134"></a>00134 
<a name="l00135"></a>00135         <a class="code" href="../../d3/d96/classgaia_1_1core_1_1_restore_session.html">RestoreSession</a> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a839c1176bea2877181b13fa7dd532c33">beginRestoreSession</a>();
<a name="l00136"></a>00136 
<a name="l00141"></a>00141         <span class="keywordtype">void</span> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#ad8003d71a17763554e04afce25c8d0d0" title="Enable/disable the backup service entirely.">setBackupEnabled</a>(<span class="keywordtype">bool</span> isEnabled);
<a name="l00142"></a>00142 
<a name="l00147"></a>00147         <span class="keywordtype">void</span> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a62063bc7f2fd33e344affe528d8ffda1" title="Indicate that any necessary one-time provisioning has occurred.">setBackupProvisioned</a>(<span class="keywordtype">bool</span> available);
<a name="l00152"></a>00152         <span class="keywordtype">void</span> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#aa79206da26514a00c5495a10321a84b4" title="Enable/disable automatic restore of application data at install time.">setAutoRestore</a>(<span class="keywordtype">bool</span> doAutoRestore);
<a name="l00153"></a>00153 
<a name="l00158"></a>00158         <span class="keywordtype">void</span> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#ab7bfbf36a982c6ddf0c5cf5b684d93cb" title="Erase all backed-up data for the given package from the storage destination.">clearBackupData</a>(<span class="keyword">const</span> <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">base::String</a>&amp; packageName);
<a name="l00159"></a>00159 
<a name="l00164"></a>00164         <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">base::String</a> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a6ce648d068c419a006371fd805e553df" title="get current status of backup service.">BackupStatus</a>();
<a name="l00165"></a>00165 
<a name="l00171"></a>00171         <span class="keywordtype">void</span> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a20c08e7177e5b3853b52b034786910a2" title="register user-defined transport to backup service.">registerExternalTransport</a>(<a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">base::String</a> packagename, <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">base::String</a> servicename);
<a name="l00172"></a>00172 
<a name="l00178"></a>00178         <span class="keywordtype">void</span> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a0ecf48463a909611487ef87e9b122cf8" title="clear backup data for requested package and transport">clearBackupDataByTransport</a>(<a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">base::String</a> packageName, <a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">base::String</a> transportname);
<a name="l00179"></a>00179 
<a name="l00188"></a>00188         <span class="keywordtype">bool</span> <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#a95788d7b9fb6d031524c39406453d79f" title="A independent flow with BackupManagerService&#39;s normal behavior with input exist tranport name...">BackupRestoreForExternalTransport</a>(<a class="code" href="../../d2/ddb/classgaia_1_1base_1_1_string.html" title="A String is represented by array of UTF-16 values, such that Unicode supplementary characters (code p...">base::String</a> name, <span class="keywordtype">bool</span> action, int64_t token, <span class="keyword">const</span> <a class="code" href="../../df/d5d/classgaia_1_1base_1_1_vector.html" title="This class implements the vector data structure.">base::Vector&lt; gaia::base::String &gt;</a>&amp; packages);
<a name="l00189"></a>00189 
<a name="l00190"></a>00190     <span class="keyword">protected</span>:
<a name="l00194"></a><a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#aaa0efddff2383545cb4750c27d629635">00194</a>         BackupManagerProxy* <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#aaa0efddff2383545cb4750c27d629635" title="proxy member.">mpProxy</a>;
<a name="l00195"></a>00195 
<a name="l00199"></a>00199         <a class="code" href="../../d0/db0/classgaia_1_1core_1_1_backup_manager.html#ae0ea44c682d87d8def432f91182ff265" title="Class construct.">BackupManager</a>();
<a name="l00200"></a>00200     };
<a name="l00201"></a>00201 
<a name="l00202"></a>00202 }  <span class="comment">// end namespace core</span>
<a name="l00203"></a>00203 }  <span class="comment">// end namespace gaia</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Jul 12 2013 04:17:34 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>

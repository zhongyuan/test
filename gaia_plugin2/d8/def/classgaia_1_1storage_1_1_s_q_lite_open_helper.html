<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>gaia::storage::SQLiteOpenHelper Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = '../../open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = '../../closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d9/db5/namespacegaia.html">gaia</a>      </li>
      <li class="navelem"><a class="el" href="../../d5/da7/namespacegaia_1_1storage.html">storage</a>      </li>
      <li class="navelem"><a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html">SQLiteOpenHelper</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">gaia::storage::SQLiteOpenHelper Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="gaia::storage::SQLiteOpenHelper" -->
<p>A helper class to manage database creation and version.  
 <a href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d8/d59/_s_q_lite_open_helper_8h_source.html">SQLiteOpenHelper.h</a>&gt;</code></p>

<p><a href="../../dd/de4/classgaia_1_1storage_1_1_s_q_lite_open_helper-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#a24086d15fd0e3ef9885da03438830c6f">SQLiteOpenHelper</a> (<a class="el" href="../../db/d3f/classgaia_1_1core_1_1_page.html">core::Page</a> *page, const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> &amp;name, int32_t version)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a helper object to create, open, and/or manage a database.  <a href="#a24086d15fd0e3ef9885da03438830c6f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#a1b057b5ca56085197d964b4563b58774">SQLiteOpenHelper</a> (<a class="el" href="../../d0/d05/classgaia_1_1core_1_1_context.html">core::Context</a> *context, const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> &amp;name, int32_t version)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a helper object to create, open, and/or manage a database.  <a href="#a1b057b5ca56085197d964b4563b58774"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#acb475cf75ddcc25f51133121e3562d8e">~SQLiteOpenHelper</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html" title="A helper class to manage database creation and version.">SQLiteOpenHelper</a> destructor.  <a href="#acb475cf75ddcc25f51133121e3562d8e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#ae3a3cd3e8a3731afea72cc6f4dec1f7b">onCreate</a> (const <a class="el" href="../../da/d1b/classgaia_1_1storage_1_1_s_q_lite_database.html">SQLiteDatabase</a> &amp;db)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the database is created for the first time.  <a href="#ae3a3cd3e8a3731afea72cc6f4dec1f7b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#ac918932558a3c58059fd36243fac9010">onUpgrade</a> (const <a class="el" href="../../da/d1b/classgaia_1_1storage_1_1_s_q_lite_database.html">SQLiteDatabase</a> &amp;db, int32_t oldVersion, int32_t newVersion)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the database needs to be upgraded.  <a href="#ac918932558a3c58059fd36243fac9010"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#a84b648d174fc35db04ba642c4e7d1e94">onOpen</a> (const <a class="el" href="../../da/d1b/classgaia_1_1storage_1_1_s_q_lite_database.html">SQLiteDatabase</a> &amp;db)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the database has been opened.  <a href="#a84b648d174fc35db04ba642c4e7d1e94"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#a1469eca2eed9b3aac86037d59c8790cd">close</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Close any open database object.  <a href="#a1469eca2eed9b3aac86037d59c8790cd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d1b/classgaia_1_1storage_1_1_s_q_lite_database.html">SQLiteDatabase</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#a038fd51ddf171db9740f838535844f41">getWritableDatabaseN</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create and/or open a database that will be used for reading and writing.  <a href="#a038fd51ddf171db9740f838535844f41"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d1b/classgaia_1_1storage_1_1_s_q_lite_database.html">SQLiteDatabase</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#aede93f4c8a8ffee3dd8aa858d27d9f35">getReadableDatabaseN</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create and/or open a database.  <a href="#aede93f4c8a8ffee3dd8aa858d27d9f35"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#a0280ef5584b42264c2ba71f966a3476e">SQLiteOpenHelper</a> (const <a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html">SQLiteOpenHelper</a> &amp;o)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html">SQLiteOpenHelper</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#aef31d71dfbbf3111d0afa5671fc1713e">operator=</a> (const <a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html">SQLiteOpenHelper</a> &amp;o)</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">SQLiteOpenHelperProxy *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#aea15a897646529bed25adb0481d30718">mpSQLiteOpenHelperProxy</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A helper class to manage database creation and version. </p>
<p>You create a subclass implementing <a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#ae3a3cd3e8a3731afea72cc6f4dec1f7b">onCreate</a>, <a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#ac918932558a3c58059fd36243fac9010">onUpgrade</a> and optionally <a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#a84b648d174fc35db04ba642c4e7d1e94">onOpen</a>, and this class takes care of opening the database if it exists, creating it if it does not, and upgrading it as necessary. Transactions are used to make sure the database is always in a sensible state.</p>
<p>This class makes it easy for ContentProvider implementations to defer opening and upgrading the database until first use, to avoid blocking application startup with long-running database upgrades.</p>
<div class="fragment"><pre class="fragment"> <span class="comment">// to inherit the class of SQLiteOpenHelper</span>
 <span class="keyword">class </span>SubSQLiteOpenHelper : <span class="keyword">public</span> <a class="code" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#a24086d15fd0e3ef9885da03438830c6f" title="Create a helper object to create, open, and/or manage a database.">SQLiteOpenHelper</a> {
   <span class="keyword">public</span>:
     SubSQLiteOpenHelper(Page* page,<span class="keyword">const</span> String&amp; name, int32_t version);
     ~SubSQLiteOpenHelper();
     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#ae3a3cd3e8a3731afea72cc6f4dec1f7b" title="Called when the database is created for the first time.">onCreate</a>(<span class="keyword">const</span> SQLiteDatabase&amp; db);
     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#ac918932558a3c58059fd36243fac9010" title="Called when the database needs to be upgraded.">onUpgrade</a>(<span class="keyword">const</span> SQLiteDatabase&amp; db, int32_t oldVersion,
                            int32_t newVersion);
 };

 SubSQLiteOpenHelper::SubSQLiteOpenHelper(Page* page, <span class="keyword">const</span> String&amp; name,
                                          int32_t version)
     : <a class="code" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#a24086d15fd0e3ef9885da03438830c6f" title="Create a helper object to create, open, and/or manage a database.">SQLiteOpenHelper</a>(page, name, version) {}

 doGetGetWritableDatabase() {
     String dbName(<span class="stringliteral">&quot;DatabaseTest2.db&quot;</span>);
     SubSQLiteOpenHelper* helper =
         <span class="keyword">new</span> SubSQLiteOpenHelper(<span class="keyword">this</span>, dbName, 1);  <span class="comment">// this is Page pointer</span>
     SQLiteDatabase* writeDatabase = helper-&gt;getWritableDatabase();
     ...
     <span class="keyword">delete</span> writeDatabase;
     SQLiteDatabase* readDatabase = helper-&gt;getReadableDatabase();
     ...
     <span class="keyword">delete</span> readDatabase;
     <span class="keyword">delete</span> helper;
 }
</pre></div> 
<p>Definition at line <a class="el" href="../../d8/d59/_s_q_lite_open_helper_8h_source.html#l00064">64</a> of file <a class="el" href="../../d8/d59/_s_q_lite_open_helper_8h_source.html">SQLiteOpenHelper.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a24086d15fd0e3ef9885da03438830c6f"></a><!-- doxytag: member="gaia::storage::SQLiteOpenHelper::SQLiteOpenHelper" ref="a24086d15fd0e3ef9885da03438830c6f" args="(core::Page *page, const base::String &amp;name, int32_t version)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gaia::storage::SQLiteOpenHelper::SQLiteOpenHelper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d3f/classgaia_1_1core_1_1_page.html">core::Page</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a helper object to create, open, and/or manage a database. </p>
<p>This method always returns very quickly. The database is not actually created or opened until one of <a class="el" href="../../">getWritableDatabase</a> or <a class="el" href="../../">getReadableDatabase</a> is called.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">page</td><td>the application instance </td></tr>
    <tr><td class="paramname">name</td><td>of the database file, or empty String for an in-memory database </td></tr>
    <tr><td class="paramname">version</td><td>number of the database (starting at 1); if the database is older, <a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#ac918932558a3c58059fd36243fac9010">onUpgrade</a> will be used to upgrade the database </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1b057b5ca56085197d964b4563b58774"></a><!-- doxytag: member="gaia::storage::SQLiteOpenHelper::SQLiteOpenHelper" ref="a1b057b5ca56085197d964b4563b58774" args="(core::Context *context, const base::String &amp;name, int32_t version)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gaia::storage::SQLiteOpenHelper::SQLiteOpenHelper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d05/classgaia_1_1core_1_1_context.html">core::Context</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/ddb/classgaia_1_1base_1_1_string.html">base::String</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a helper object to create, open, and/or manage a database. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>to use to open or create the database </td></tr>
    <tr><td class="paramname">name</td><td>of the database file, or empty String for an in-memory database </td></tr>
    <tr><td class="paramname">version</td><td>number of the database (starting at 1); if the database is older, <a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#ac918932558a3c58059fd36243fac9010">onUpgrade</a> will be used to upgrade the database </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acb475cf75ddcc25f51133121e3562d8e"></a><!-- doxytag: member="gaia::storage::SQLiteOpenHelper::~SQLiteOpenHelper" ref="acb475cf75ddcc25f51133121e3562d8e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual gaia::storage::SQLiteOpenHelper::~SQLiteOpenHelper </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html" title="A helper class to manage database creation and version.">SQLiteOpenHelper</a> destructor. </p>

</div>
</div>
<a class="anchor" id="a0280ef5584b42264c2ba71f966a3476e"></a><!-- doxytag: member="gaia::storage::SQLiteOpenHelper::SQLiteOpenHelper" ref="a0280ef5584b42264c2ba71f966a3476e" args="(const SQLiteOpenHelper &amp;o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gaia::storage::SQLiteOpenHelper::SQLiteOpenHelper </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html">SQLiteOpenHelper</a> &amp;&#160;</td>
          <td class="paramname"><em>o</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a1469eca2eed9b3aac86037d59c8790cd"></a><!-- doxytag: member="gaia::storage::SQLiteOpenHelper::close" ref="a1469eca2eed9b3aac86037d59c8790cd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gaia::storage::SQLiteOpenHelper::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Close any open database object. </p>

</div>
</div>
<a class="anchor" id="aede93f4c8a8ffee3dd8aa858d27d9f35"></a><!-- doxytag: member="gaia::storage::SQLiteOpenHelper::getReadableDatabaseN" ref="aede93f4c8a8ffee3dd8aa858d27d9f35" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d1b/classgaia_1_1storage_1_1_s_q_lite_database.html">SQLiteDatabase</a>* gaia::storage::SQLiteOpenHelper::getReadableDatabaseN </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create and/or open a database. </p>
<p>This will be the same object returned by <a class="el" href="../../">getWritableDatabase</a> unless some problem, such as a full disk, requires the database to be opened read-only. In that case, a read-only database object will be returned. If the problem is fixed, a future call to <a class="el" href="../../">getWritableDatabase</a> may succeed, in which case the read-only database object will be closed and the read/write object will be returned in the future.</p>
<p>Like <a class="el" href="../../">getWritableDatabase</a>, this method may take a long time to return, so you should not call it from the application main thread, including from ContentProvider.onCreate()}.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>a database object valid until <a class="el" href="../../">getWritableDatabase</a> or <a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#a1469eca2eed9b3aac86037d59c8790cd">close</a> is called. </dd></dl>

</div>
</div>
<a class="anchor" id="a038fd51ddf171db9740f838535844f41"></a><!-- doxytag: member="gaia::storage::SQLiteOpenHelper::getWritableDatabaseN" ref="a038fd51ddf171db9740f838535844f41" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d1b/classgaia_1_1storage_1_1_s_q_lite_database.html">SQLiteDatabase</a>* gaia::storage::SQLiteOpenHelper::getWritableDatabaseN </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create and/or open a database that will be used for reading and writing. </p>
<p>The first time this is called, the database will be opened and <a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#ae3a3cd3e8a3731afea72cc6f4dec1f7b">onCreate</a>, <a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#ac918932558a3c58059fd36243fac9010">onUpgrade</a> and/or <a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#a84b648d174fc35db04ba642c4e7d1e94">onOpen</a> will be called.</p>
<p>Once opened successfully, the database is cached, so you can call this method every time you need to write to the database. (Make sure to call <a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#a1469eca2eed9b3aac86037d59c8790cd">close</a> when you no longer need the database.) Errors such as bad permissions or a full disk may cause this method to fail, but future attempts may succeed if the problem is fixed.</p>
<p>Database upgrade may take a long time, you should not call this method from the application main thread, including from ContentProvider.onCreate().</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>a read/write database object valid until <a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#a1469eca2eed9b3aac86037d59c8790cd">close</a> is called </dd></dl>

</div>
</div>
<a class="anchor" id="ae3a3cd3e8a3731afea72cc6f4dec1f7b"></a><!-- doxytag: member="gaia::storage::SQLiteOpenHelper::onCreate" ref="ae3a3cd3e8a3731afea72cc6f4dec1f7b" args="(const SQLiteDatabase &amp;db)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void gaia::storage::SQLiteOpenHelper::onCreate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d1b/classgaia_1_1storage_1_1_s_q_lite_database.html">SQLiteDatabase</a> &amp;&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called when the database is created for the first time. </p>
<p>This is where the creation of tables and the initial population of the tables should happen. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>The database. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a84b648d174fc35db04ba642c4e7d1e94"></a><!-- doxytag: member="gaia::storage::SQLiteOpenHelper::onOpen" ref="a84b648d174fc35db04ba642c4e7d1e94" args="(const SQLiteDatabase &amp;db)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void gaia::storage::SQLiteOpenHelper::onOpen </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d1b/classgaia_1_1storage_1_1_s_q_lite_database.html">SQLiteDatabase</a> &amp;&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called when the database has been opened. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>The database. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d8/d59/_s_q_lite_open_helper_8h_source.html#l00120">120</a> of file <a class="el" href="../../d8/d59/_s_q_lite_open_helper_8h_source.html">SQLiteOpenHelper.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac918932558a3c58059fd36243fac9010"></a><!-- doxytag: member="gaia::storage::SQLiteOpenHelper::onUpgrade" ref="ac918932558a3c58059fd36243fac9010" args="(const SQLiteDatabase &amp;db, int32_t oldVersion, int32_t newVersion)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void gaia::storage::SQLiteOpenHelper::onUpgrade </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d1b/classgaia_1_1storage_1_1_s_q_lite_database.html">SQLiteDatabase</a> &amp;&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>oldVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>newVersion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called when the database needs to be upgraded. </p>
<p>The implementation should use this method to drop tables, add tables, or do anything else it needs to upgrade to the new schema version.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>The database. </td></tr>
    <tr><td class="paramname">oldVersion</td><td>The old database version. </td></tr>
    <tr><td class="paramname">newVersion</td><td>The new database version. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aef31d71dfbbf3111d0afa5671fc1713e"></a><!-- doxytag: member="gaia::storage::SQLiteOpenHelper::operator=" ref="aef31d71dfbbf3111d0afa5671fc1713e" args="(const SQLiteOpenHelper &amp;o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html">SQLiteOpenHelper</a>&amp; gaia::storage::SQLiteOpenHelper::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html">SQLiteOpenHelper</a> &amp;&#160;</td>
          <td class="paramname"><em>o</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="aea15a897646529bed25adb0481d30718"></a><!-- doxytag: member="gaia::storage::SQLiteOpenHelper::mpSQLiteOpenHelperProxy" ref="aea15a897646529bed25adb0481d30718" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SQLiteOpenHelperProxy* <a class="el" href="../../d8/def/classgaia_1_1storage_1_1_s_q_lite_open_helper.html#aea15a897646529bed25adb0481d30718">gaia::storage::SQLiteOpenHelper::mpSQLiteOpenHelperProxy</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d59/_s_q_lite_open_helper_8h_source.html#l00168">168</a> of file <a class="el" href="../../d8/d59/_s_q_lite_open_helper_8h_source.html">SQLiteOpenHelper.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/gpdbuildserver3/Jenkins_Workspace/workspace/BuildGaia2SDKLauncher/sdk/include/gaia/storage/<a class="el" href="../../d8/d59/_s_q_lite_open_helper_8h_source.html">SQLiteOpenHelper.h</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Jul 12 2013 04:17:48 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>

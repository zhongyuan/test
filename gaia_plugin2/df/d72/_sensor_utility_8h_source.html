<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>/home/gpdbuildserver3/Jenkins_Workspace/workspace/BuildGaia2SDKLauncher/sdk/include/gaia/system/SensorUtility.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = '../../open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = '../../closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../dir_f5a4bec0d15a4b7c4d0fd858ebd5efd3.html">include</a>      </li>
      <li class="navelem"><a class="el" href="../../dir_1456e22c17612b474594c42fce5c0653.html">gaia</a>      </li>
      <li class="navelem"><a class="el" href="../../dir_756050ce3111a6bd6a8e774feab75a8d.html">system</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">SensorUtility.h</div>  </div>
</div>
<div class="contents">
<a href="../../df/d72/_sensor_utility_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// Copyright for gaia</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <span class="preprocessor">#ifndef INCLUDE_GAIA_SYSTEM_SENSORUTILITY_H_</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span><span class="preprocessor">#define INCLUDE_GAIA_SYSTEM_SENSORUTILITY_H_</span>
<a name="l00005"></a>00005 <span class="preprocessor"></span>
<a name="l00006"></a>00006 <span class="comment">/* Standard gravity (g) on Earth. This value is equivalent to 1G */</span>
<a name="l00007"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#ad87bb8ffffe6d664ffb00fcf812f3ccb">00007</a> <span class="preprocessor">#define STANDARD_GRAVITY      9.80665f</span>
<a name="l00008"></a>00008 <span class="preprocessor"></span>
<a name="l00009"></a>00009 <span class="comment">/* values returned by the accelerometer in various locations in the universe.</span>
<a name="l00010"></a>00010 <span class="comment"> * all values are in SI units (m/s^2)</span>
<a name="l00011"></a>00011 <span class="comment"> */</span>
<a name="l00012"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#a44de0c395d7561333e79eae9fd7a52ea">00012</a> <span class="preprocessor">#define GRAVITY_SUN            275.0f</span>
<a name="l00013"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#a6c643b428761904764d6b2417419033b">00013</a> <span class="preprocessor"></span><span class="preprocessor">#define GRAVITY_MERCURY        3.70f</span>
<a name="l00014"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#adff92e5391c825c82d680963575c524e">00014</a> <span class="preprocessor"></span><span class="preprocessor">#define GRAVITY_VENUS          8.87f</span>
<a name="l00015"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#a6a18693366caed099bbd7c5300fa446b">00015</a> <span class="preprocessor"></span><span class="preprocessor">#define GRAVITY_EARTH          9.80665f</span>
<a name="l00016"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#ab917bdccc20c8d6c79013465be70a6ce">00016</a> <span class="preprocessor"></span><span class="preprocessor">#define GRAVITY_MOON           1.6f</span>
<a name="l00017"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#a8ca8b4f4d939362020ef05df1461988a">00017</a> <span class="preprocessor"></span><span class="preprocessor">#define GRAVITY_MARS           3.71f</span>
<a name="l00018"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#ae30d60e55e27acfa1f7adefd61ff4fff">00018</a> <span class="preprocessor"></span><span class="preprocessor">#define GRAVITY_JUPITER        23.12f</span>
<a name="l00019"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#a9bfe4f992ee6afec17ca78897b4b539c">00019</a> <span class="preprocessor"></span><span class="preprocessor">#define GRAVITY_SATURN         8.96f</span>
<a name="l00020"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#a0f3aa9747a59183c741b34f144f31f0f">00020</a> <span class="preprocessor"></span><span class="preprocessor">#define GRAVITY_URANUS         8.69f</span>
<a name="l00021"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#a8388b31b51862e480967e72bd510e942">00021</a> <span class="preprocessor"></span><span class="preprocessor">#define GRAVITY_NEPTUNE        11.0f</span>
<a name="l00022"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#a4e5f344e04bc9495ab316ebcbfadff62">00022</a> <span class="preprocessor"></span><span class="preprocessor">#define GRAVITY_PLUTO          0.6f</span>
<a name="l00023"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#a71198d58ec215afb5003b92544756db0">00023</a> <span class="preprocessor"></span><span class="preprocessor">#define GRAVITY_DEATH_STAR_I   0.000000353036145f</span>
<a name="l00024"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#ab75c772dc5e53fa1634a8484d7be10e0">00024</a> <span class="preprocessor"></span><span class="preprocessor">#define GRAVITY_THE_ISLAND     4.815162342f</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span>
<a name="l00026"></a>00026 <span class="comment">/* Maximum magnetic field on Earth&#39;s surface */</span>
<a name="l00027"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#a36999b6703a63735acecc27052bafd3a">00027</a> <span class="preprocessor">#define MAGNETIC_FIELD_EARTH_MAX 60.0f</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span>
<a name="l00029"></a>00029 <span class="comment">/* Minimum magnetic field on Earth&#39;s surface */</span>
<a name="l00030"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#aafd7ebc0f00aab2fb18efabb06ac347a">00030</a> <span class="preprocessor">#define MAGNETIC_FIELD_EARTH_MIN 30.0f</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span>
<a name="l00032"></a>00032 <span class="comment">/* Standard atmosphere, or average sea-level pressure in hPa (millibar) */</span>
<a name="l00033"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#abb0da193ff2470c93df3a40b84b0eceb">00033</a> <span class="preprocessor">#define PRESSURE_STANDARD_ATMOSPHERE 1013.25f</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span>
<a name="l00035"></a>00035 <span class="comment">/* Various luminance values during the day (lux) */</span>
<a name="l00036"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#a2375e9e4a0e11c3f1b298e9cbcc843ad">00036</a> <span class="preprocessor">#define LIGHT_SUNLIGHT_MAX 120000.0f</span>
<a name="l00037"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#a79411cb4c3a322fb16c03ab0f654fc3a">00037</a> <span class="preprocessor"></span><span class="preprocessor">#define LIGHT_SUNLIGHT     110000.0f</span>
<a name="l00038"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#ad68e31154e5c705ab1238bb21dc9fb5c">00038</a> <span class="preprocessor"></span><span class="preprocessor">#define LIGHT_SHADE        20000.0f</span>
<a name="l00039"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#afcfd59f98349346ac568a6c1539d6d91">00039</a> <span class="preprocessor"></span><span class="preprocessor">#define LIGHT_OVERCAST     10000.0f</span>
<a name="l00040"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#a569b4b4b5dbe61d40c4ffc8c6842955f">00040</a> <span class="preprocessor"></span><span class="preprocessor">#define LIGHT_SUNRISE      400.0f</span>
<a name="l00041"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#ab834208a246545856dbd1a726ae27b05">00041</a> <span class="preprocessor"></span><span class="preprocessor">#define LIGHT_CLOUDY;      100.0f</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span>
<a name="l00043"></a>00043 <span class="comment">/* Various luminance values during the night (lux) */</span>
<a name="l00044"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#a1aa8a194ab5e9e8b06cb549ce2b3cfaa">00044</a> <span class="preprocessor">#define LIGHT_FULLMOON     0.25f</span>
<a name="l00045"></a><a class="code" href="../../df/d72/_sensor_utility_8h.html#ade8939b40da6f56d0c5f6c65371c2fb8">00045</a> <span class="preprocessor"></span><span class="preprocessor">#define LIGHT_NO_MOON      0.001f</span>
<a name="l00046"></a>00046 <span class="preprocessor"></span>
<a name="l00047"></a>00047 <span class="keyword">namespace </span>gaia {
<a name="l00048"></a>00048 <span class="keyword">namespace </span>base {
<a name="l00049"></a>00049 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt; <span class="keyword">class </span>Array;
<a name="l00050"></a>00050 }
<a name="l00051"></a>00051 <span class="keyword">namespace </span>system {
<a name="l00052"></a>00052 
<a name="l00124"></a><a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html">00124</a> <span class="keyword">class </span><a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html" title="In this class, there are many help function to process raw data from sensor.">SensorUtility</a> {
<a name="l00125"></a>00125   <span class="keyword">public</span>:
<a name="l00127"></a><a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139e">00127</a>     <span class="keyword">enum</span> <a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139e" title="see remapCoordinateSystem">Axis</a> {
<a name="l00128"></a><a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139ea48cc1383b14063322229ab8a12a5161b">00128</a>         <a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139ea48cc1383b14063322229ab8a12a5161b">AXIS_X</a> = 1,
<a name="l00129"></a><a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139ea3a4ebe1bd139ed08d5ea927a22f6c923">00129</a>         <a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139ea3a4ebe1bd139ed08d5ea927a22f6c923">AXIS_Y</a> = 2,
<a name="l00130"></a><a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139ea5dd84742db69f019a603d1a1f3f8e485">00130</a>         <a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139ea5dd84742db69f019a603d1a1f3f8e485">AXIS_Z</a> = 3,
<a name="l00131"></a><a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139ea7273c9a055b39ab4af1262a170a85226">00131</a>         <a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139ea7273c9a055b39ab4af1262a170a85226">AXIS_MINUS_X</a> = <a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139ea48cc1383b14063322229ab8a12a5161b">AXIS_X</a> | 0x80,
<a name="l00132"></a><a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139eac892e897a31d390f41a893dcdb9aa00f">00132</a>         <a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139eac892e897a31d390f41a893dcdb9aa00f">AXIS_MINUS_Y</a> = <a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139ea3a4ebe1bd139ed08d5ea927a22f6c923">AXIS_Y</a> | 0x80,
<a name="l00133"></a><a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139eaddfb1e9a044a9ac6026ea2214f2378bb">00133</a>         <a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139eaddfb1e9a044a9ac6026ea2214f2378bb">AXIS_MINUS_Z</a> = <a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139ea5dd84742db69f019a603d1a1f3f8e485">AXIS_Z</a> | 0x80
<a name="l00134"></a>00134     };
<a name="l00135"></a>00135 
<a name="l00143"></a>00143     <span class="keyword">static</span> <span class="keywordtype">float</span> <a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a243d54433e211af87723ee00fd7303c6" title="Helper function to compute the Altitude in meters from atmospheric pressure and the pressure at sea l...">getAltitude</a>(<span class="keywordtype">float</span> p0, <span class="keywordtype">float</span> p);
<a name="l00144"></a>00144 
<a name="l00152"></a>00152     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a28eeb7bf3c785a2e2f64f849d50101d4" title="Helper function to compute the angle between two rotation matrices.">getAngleChange</a>(<span class="keyword">const</span> <a class="code" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array&lt;float&gt;</a>&amp; R, <span class="keyword">const</span> <a class="code" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array&lt;float&gt;</a>&amp; prevR,
<a name="l00153"></a>00153             <a class="code" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array&lt;float&gt;</a>* angleChange);
<a name="l00154"></a>00154 
<a name="l00160"></a>00160     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6d1f396404335c01922e0d07edfc1888" title="Helper function to compute the device&#39;s orientation based on the rotation matrix.">getOrientation</a>(<span class="keyword">const</span> <a class="code" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array&lt;float&gt;</a>&amp; R,
<a name="l00161"></a>00161       <a class="code" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array&lt;float&gt;</a>* values);
<a name="l00162"></a>00162 
<a name="l00173"></a>00173     <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#ac503bfbf3bd3ccb4b5ef1c5f2e63b0a8" title="Helper function to computes the rotation matrix which transforming a vector from the device coordinat...">getRotationMatrix</a>(<span class="keyword">const</span> <a class="code" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array&lt;float&gt;</a>&amp; gravity, <span class="keyword">const</span> <a class="code" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array&lt;float&gt;</a>&amp; geomagnetic,
<a name="l00174"></a>00174             <a class="code" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array&lt;float&gt;</a>* R, <a class="code" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array&lt;float&gt;</a>* I);
<a name="l00175"></a>00175 
<a name="l00182"></a>00182     <span class="keyword">static</span> <span class="keywordtype">float</span> <a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a3da5f25e06f0d14d34fa2f9ee88d09b0" title="Computes the geomagnetic inclination angle in radians from the inclination matrix I returned by getRo...">getInclination</a>(<span class="keyword">const</span> <a class="code" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array&lt;float&gt;</a>&amp; I);
<a name="l00183"></a>00183 
<a name="l00192"></a>00192     <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#aa1d1ac9ad458bd6754d3426552197dc0" title="Helper function to rotate the rotation matrix so it is expressed in a different coordinate system...">remapCoordinateSystem</a>(<span class="keyword">const</span> <a class="code" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array&lt;float&gt;</a>&amp;inR, int32_t X,
<a name="l00193"></a>00193       int32_t Y, <a class="code" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array&lt;float&gt;</a>* outR);
<a name="l00194"></a>00194 
<a name="l00214"></a>00214     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a02e1ac5fc1a8719ba21150acb9562397" title="Helper function to convert a rotation vector to a rotation matrix.">getRotationMatrixFromVector</a>(<span class="keyword">const</span> <a class="code" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array&lt;float&gt;</a>&amp; rotationVector,
<a name="l00215"></a>00215             <a class="code" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array&lt;float&gt;</a>* R);
<a name="l00216"></a>00216 
<a name="l00223"></a>00223     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a2ca87cc5e08d587bdfe50a5047496840" title="Helper function to convert a rotation vector to a normalized quaternion.">getQuaternionFromVector</a>(<span class="keyword">const</span> <a class="code" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array&lt;float&gt;</a>&amp; rv,
<a name="l00224"></a>00224             <a class="code" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array&lt;float&gt;</a>* Q);
<a name="l00225"></a>00225 
<a name="l00226"></a>00226   <span class="keyword">private</span>:
<a name="l00230"></a>00230     <a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#ae6434463503ac0b48fbf7649537d06d7" title="constructor">SensorUtility</a>();
<a name="l00234"></a>00234     <span class="keyword">virtual</span> <a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#ad1e7e3d91a7e18c57082a7400e62d680" title="deconstructor">~SensorUtility</a>();
<a name="l00235"></a>00235 
<a name="l00236"></a>00236     <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6f8837e7efd6ec8d67b5447b062a9a79">remapCoordinateSystemImpl</a>(<span class="keyword">const</span> <a class="code" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array&lt;float&gt;</a>&amp; inR, int32_t
<a name="l00237"></a>00237       X, int32_t Y, <a class="code" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array&lt;float&gt;</a>* outR);
<a name="l00238"></a>00238 };
<a name="l00239"></a>00239 
<a name="l00240"></a>00240 }  <span class="comment">// end namespace system</span>
<a name="l00241"></a>00241 }  <span class="comment">// end namespace gaia</span>
<a name="l00242"></a>00242 
<a name="l00243"></a>00243 <span class="preprocessor">#endif  // INCLUDE_GAIA_SYSTEM_SENSORUTILITY_H_</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Jul 12 2013 04:17:36 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>

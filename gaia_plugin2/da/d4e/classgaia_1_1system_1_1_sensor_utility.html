<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>

<title>gaia::system::SensorUtility Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript" src="../../dynsections.js"></script>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d9/db5/namespacegaia.html">gaia</a>      </li>
      <li class="navelem"><a class="el" href="../../d2/d83/namespacegaia_1_1system.html">system</a>      </li>
      <li class="navelem"><a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html">SensorUtility</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">gaia::system::SensorUtility Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="gaia::system::SensorUtility" -->
<p>In this class, there are many help function to process raw data from sensor.  
 <a href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../df/d72/_sensor_utility_8h_source.html">SensorUtility.h</a>&gt;</code></p>

<p><a href="../../dd/d19/classgaia_1_1system_1_1_sensor_utility-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139e">Axis</a> { <br/>
&#160;&#160;<a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139ea48cc1383b14063322229ab8a12a5161b">AXIS_X</a> =  1, 
<a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139ea3a4ebe1bd139ed08d5ea927a22f6c923">AXIS_Y</a> =  2, 
<a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139ea5dd84742db69f019a603d1a1f3f8e485">AXIS_Z</a> =  3, 
<a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139ea7273c9a055b39ab4af1262a170a85226">AXIS_MINUS_X</a> =  AXIS_X | 0x80, 
<br/>
&#160;&#160;<a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139eac892e897a31d390f41a893dcdb9aa00f">AXIS_MINUS_Y</a> =  AXIS_Y | 0x80, 
<a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139eaddfb1e9a044a9ac6026ea2214f2378bb">AXIS_MINUS_Z</a> =  AXIS_Z | 0x80
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">see <a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#aa1d1ac9ad458bd6754d3426552197dc0">remapCoordinateSystem</a>  <a href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139e">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a243d54433e211af87723ee00fd7303c6">getAltitude</a> (float p0, float p)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to compute the Altitude in meters from atmospheric pressure and the pressure at sea level.  <a href="#a243d54433e211af87723ee00fd7303c6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a28eeb7bf3c785a2e2f64f849d50101d4">getAngleChange</a> (const <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; &amp;R, const <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; &amp;prevR, <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; *angleChange)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to compute the angle between two rotation matrices.  <a href="#a28eeb7bf3c785a2e2f64f849d50101d4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6d1f396404335c01922e0d07edfc1888">getOrientation</a> (const <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; &amp;R, <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; *values)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to compute the device's orientation based on the rotation matrix.  <a href="#a6d1f396404335c01922e0d07edfc1888"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#ac503bfbf3bd3ccb4b5ef1c5f2e63b0a8">getRotationMatrix</a> (const <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; &amp;gravity, const <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; &amp;geomagnetic, <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; *R, <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; *I)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to computes the rotation matrix which transforming a vector from the device coordinate system to the world's coordinate system.  <a href="#ac503bfbf3bd3ccb4b5ef1c5f2e63b0a8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a3da5f25e06f0d14d34fa2f9ee88d09b0">getInclination</a> (const <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; &amp;I)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the geomagnetic inclination angle in radians from the inclination matrix <b>I</b> returned by <a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#ac503bfbf3bd3ccb4b5ef1c5f2e63b0a8">getRotationMatrix</a>.  <a href="#a3da5f25e06f0d14d34fa2f9ee88d09b0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#aa1d1ac9ad458bd6754d3426552197dc0">remapCoordinateSystem</a> (const <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; &amp;inR, int32_t X, int32_t Y, <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; *outR)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to rotate the rotation matrix so it is expressed in a different coordinate system.  <a href="#aa1d1ac9ad458bd6754d3426552197dc0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a02e1ac5fc1a8719ba21150acb9562397">getRotationMatrixFromVector</a> (const <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; &amp;rotationVector, <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; *R)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to convert a rotation vector to a rotation matrix.  <a href="#a02e1ac5fc1a8719ba21150acb9562397"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a2ca87cc5e08d587bdfe50a5047496840">getQuaternionFromVector</a> (const <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; &amp;rv, <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; *Q)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to convert a rotation vector to a normalized quaternion.  <a href="#a2ca87cc5e08d587bdfe50a5047496840"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#ae6434463503ac0b48fbf7649537d06d7">SensorUtility</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor  <a href="#ae6434463503ac0b48fbf7649537d06d7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#ad1e7e3d91a7e18c57082a7400e62d680">~SensorUtility</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">deconstructor  <a href="#ad1e7e3d91a7e18c57082a7400e62d680"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6f8837e7efd6ec8d67b5447b062a9a79">remapCoordinateSystemImpl</a> (const <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; &amp;inR, int32_t X, int32_t Y, <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; *outR)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>In this class, there are many help function to process raw data from sensor. </p>
<p>The <a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html" title="In this class, there are many help function to process raw data from sensor.">SensorUtility</a> class provides many help function to process raw data from sensor. </p>
<p>You can use these help function to get useful information such as altitude, device's orientation, rotation matrix with world coordinate system or different coordinate system.</p>
<p>The following example demonstrates how to use the <a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html" title="In this class, there are many help function to process raw data from sensor.">SensorUtility</a> </p>
<div class="fragment"><pre class="fragment"> <span class="keyword">class </span>MyPage : <span class="keyword">public</span> Page, <span class="keyword">public</span> SensorEventListener {
  <span class="keyword">public</span>:
      MyPage();
      ~MyPage();
      <span class="keyword">virtual</span> <span class="keywordtype">void</span> onInit(Persistence* <span class="keyword">const</span> savedInstanceState);
      <span class="keyword">virtual</span> <span class="keywordtype">void</span> onPause();
      <span class="keyword">virtual</span> <span class="keywordtype">void</span> onDataReceived(SensorData data);
  <span class="keyword">private</span>:
      SensorManager* mSM;

      <span class="comment">//for saving acceleration sensor data</span>
      base::Array&lt;float&gt; *accel;

      <span class="comment">//for saving magnetic sensor data</span>
      base::Array&lt;float&gt; *magnetic;
 }

 MyPage::onInit(Persistence* <span class="keyword">const</span> savedInstanceState) : accel(NULL), magnetic(NULL){
  <span class="comment">//new SensorManager instance</span>
  mSM = <span class="keyword">new</span> SensorManager(Context);

  <span class="comment">//add acceleration and magnetic Sensor listener</span>
  <span class="keywordflow">if</span>(mSM-&gt;IsAvailable(SensorManager::SENSORS_TYPE_ACCELERATION)) {
      mSM-&gt;AddSensorListener(*<span class="keyword">this</span>, SensorManager::SENSORS_TYPE_ACCELERATION, SensorManager::SENSOR_DELAY_NORMAL, <span class="keyword">true</span>);
  }
  <span class="keywordflow">if</span>(mSM-&gt;IsAvailable(SensorManager::SENSORS_TYPE_MAGNETIC)) {
      mSM-&gt;AddSensorListener(*<span class="keyword">this</span>, SensorManager::SENSORS_TYPE_MAGNETIC, SensorManager::SENSOR_DELAY_NORMAL, <span class="keyword">true</span>);
  }
 }

 <span class="keywordtype">void</span> MyPage::onDataReceived(SensorData data){
  <span class="comment">//check sensor type</span>
  <span class="keywordflow">switch</span> (data.sensorType) {
  <span class="keywordflow">case</span> SensorManager::SENSORS_TYPE_ACCELERATION:
      accel = data.values;
  <span class="keywordflow">break</span>;
  <span class="keywordflow">case</span> SensorManager::SENSORS_TYPE_MAGNETIC:
      magnetic = data.values;
  <span class="keywordflow">break</span>;
  }

  <span class="comment">//check whether the data of acceleration and magnetic are provided or not</span>
  <span class="keywordflow">if</span>(accel != NULL &amp;&amp; magnetic != NULL) {
      base::Array&lt;float&gt; *R = <span class="keyword">new</span> base::Array&lt;float&gt;(9);
      base::Array&lt;float&gt; *I = <span class="keyword">new</span> base::Array&lt;float&gt;(9);

      <span class="comment">//calculate the rotation matrix</span>
      SensorUtility::GetRotationMatrix(*R, *I, *accel, *magnetic);
  }
 }

 MyPage::onPause(){
  <span class="comment">//remove Sensor listener</span>
  mSM-&gt;RemoveSensorListener(*<span class="keyword">this</span>);
 }
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="../../d8/d36/classgaia_1_1system_1_1_sensor_manager.html" title="This class is used to manage the sensor data from the device.">SensorManager</a> </dd>
<dd>
<a class="el" href="../../d2/dae/classgaia_1_1system_1_1_sensor_event_listener.html" title="This interface is an event listener used to receive sensor data asynchronously.">SensorEventListener</a> </dd>
<dd>
<a class="el" href="../../de/da6/classgaia_1_1system_1_1_sensor_data.html" title="This class stores information such as the sensor&#39;s type, the time-stamp, accuracy and of course the s...">SensorData</a> </dd></dl>

<p>Definition at line <a class="el" href="../../df/d72/_sensor_utility_8h_source.html#l00124">124</a> of file <a class="el" href="../../df/d72/_sensor_utility_8h_source.html">SensorUtility.h</a>.</p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a6bf762f331af7dfc4310e57a51b5139e"></a><!-- doxytag: member="gaia::system::SensorUtility::Axis" ref="a6bf762f331af7dfc4310e57a51b5139e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6bf762f331af7dfc4310e57a51b5139e">gaia::system::SensorUtility::Axis</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>see <a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#aa1d1ac9ad458bd6754d3426552197dc0">remapCoordinateSystem</a> </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a6bf762f331af7dfc4310e57a51b5139ea48cc1383b14063322229ab8a12a5161b"></a><!-- doxytag: member="AXIS_X" ref="a6bf762f331af7dfc4310e57a51b5139ea48cc1383b14063322229ab8a12a5161b" args="" -->AXIS_X</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a6bf762f331af7dfc4310e57a51b5139ea3a4ebe1bd139ed08d5ea927a22f6c923"></a><!-- doxytag: member="AXIS_Y" ref="a6bf762f331af7dfc4310e57a51b5139ea3a4ebe1bd139ed08d5ea927a22f6c923" args="" -->AXIS_Y</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a6bf762f331af7dfc4310e57a51b5139ea5dd84742db69f019a603d1a1f3f8e485"></a><!-- doxytag: member="AXIS_Z" ref="a6bf762f331af7dfc4310e57a51b5139ea5dd84742db69f019a603d1a1f3f8e485" args="" -->AXIS_Z</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a6bf762f331af7dfc4310e57a51b5139ea7273c9a055b39ab4af1262a170a85226"></a><!-- doxytag: member="AXIS_MINUS_X" ref="a6bf762f331af7dfc4310e57a51b5139ea7273c9a055b39ab4af1262a170a85226" args="" -->AXIS_MINUS_X</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a6bf762f331af7dfc4310e57a51b5139eac892e897a31d390f41a893dcdb9aa00f"></a><!-- doxytag: member="AXIS_MINUS_Y" ref="a6bf762f331af7dfc4310e57a51b5139eac892e897a31d390f41a893dcdb9aa00f" args="" -->AXIS_MINUS_Y</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a6bf762f331af7dfc4310e57a51b5139eaddfb1e9a044a9ac6026ea2214f2378bb"></a><!-- doxytag: member="AXIS_MINUS_Z" ref="a6bf762f331af7dfc4310e57a51b5139eaddfb1e9a044a9ac6026ea2214f2378bb" args="" -->AXIS_MINUS_Z</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="../../df/d72/_sensor_utility_8h_source.html#l00127">127</a> of file <a class="el" href="../../df/d72/_sensor_utility_8h_source.html">SensorUtility.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae6434463503ac0b48fbf7649537d06d7"></a><!-- doxytag: member="gaia::system::SensorUtility::SensorUtility" ref="ae6434463503ac0b48fbf7649537d06d7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#ae6434463503ac0b48fbf7649537d06d7">gaia::system::SensorUtility::SensorUtility</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>constructor </p>

</div>
</div>
<a class="anchor" id="ad1e7e3d91a7e18c57082a7400e62d680"></a><!-- doxytag: member="gaia::system::SensorUtility::~SensorUtility" ref="ad1e7e3d91a7e18c57082a7400e62d680" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#ad1e7e3d91a7e18c57082a7400e62d680">gaia::system::SensorUtility::~SensorUtility</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>deconstructor </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a243d54433e211af87723ee00fd7303c6"></a><!-- doxytag: member="gaia::system::SensorUtility::getAltitude" ref="a243d54433e211af87723ee00fd7303c6" args="(float p0, float p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static float <a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a243d54433e211af87723ee00fd7303c6">gaia::system::SensorUtility::getAltitude</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>p0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function to compute the Altitude in meters from atmospheric pressure and the pressure at sea level. </p>
<p>The pressure is in hPa (millibar) </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p0</td><td>pressure at sea level. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>atmospheric pressure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>altitude in meters </dd></dl>

</div>
</div>
<a class="anchor" id="a28eeb7bf3c785a2e2f64f849d50101d4"></a><!-- doxytag: member="gaia::system::SensorUtility::getAngleChange" ref="a28eeb7bf3c785a2e2f64f849d50101d4" args="(const base::Array&lt; float &gt; &amp;R, const base::Array&lt; float &gt; &amp;prevR, base::Array&lt; float &gt; *angleChange)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a28eeb7bf3c785a2e2f64f849d50101d4">gaia::system::SensorUtility::getAngleChange</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>prevR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; *&#160;</td>
          <td class="paramname"><em>angleChange</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function to compute the angle between two rotation matrices. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">R</td><td>Current rotation matrix. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prevR</td><td>previous rotation matrix. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">angleChange</td><td>The angle change is stored in an array of floats. The angle is in radian. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3da5f25e06f0d14d34fa2f9ee88d09b0"></a><!-- doxytag: member="gaia::system::SensorUtility::getInclination" ref="a3da5f25e06f0d14d34fa2f9ee88d09b0" args="(const base::Array&lt; float &gt; &amp;I)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static float <a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a3da5f25e06f0d14d34fa2f9ee88d09b0">gaia::system::SensorUtility::getInclination</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>I</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Computes the geomagnetic inclination angle in radians from the inclination matrix <b>I</b> returned by <a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#ac503bfbf3bd3ccb4b5ef1c5f2e63b0a8">getRotationMatrix</a>. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">I</td><td>inclination matrix see <a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#ac503bfbf3bd3ccb4b5ef1c5f2e63b0a8">getRotationMatrix</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The geomagnetic inclination angle in radians. </dd></dl>

</div>
</div>
<a class="anchor" id="a6d1f396404335c01922e0d07edfc1888"></a><!-- doxytag: member="gaia::system::SensorUtility::getOrientation" ref="a6d1f396404335c01922e0d07edfc1888" args="(const base::Array&lt; float &gt; &amp;R, base::Array&lt; float &gt; *values)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6d1f396404335c01922e0d07edfc1888">gaia::system::SensorUtility::getOrientation</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; *&#160;</td>
          <td class="paramname"><em>values</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function to compute the device's orientation based on the rotation matrix. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">R</td><td>Current rotation matrix. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">values</td><td>The orientation value is stored in an array of floats. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2ca87cc5e08d587bdfe50a5047496840"></a><!-- doxytag: member="gaia::system::SensorUtility::getQuaternionFromVector" ref="a2ca87cc5e08d587bdfe50a5047496840" args="(const base::Array&lt; float &gt; &amp;rv, base::Array&lt; float &gt; *Q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a2ca87cc5e08d587bdfe50a5047496840">gaia::system::SensorUtility::getQuaternionFromVector</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>rv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; *&#160;</td>
          <td class="paramname"><em>Q</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function to convert a rotation vector to a normalized quaternion. </p>
<p>Given a rotation vector (presumably from a ROTATION_VECTOR sensor), returns a normalized quaternion in the array Q. The quaternion is stored as [w, x, y, z] </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">rv</td><td>the rotation vector to convert </td></tr>
    <tr><td class="paramname">Q</td><td>an array of floats in which to store the computed quaternion </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac503bfbf3bd3ccb4b5ef1c5f2e63b0a8"></a><!-- doxytag: member="gaia::system::SensorUtility::getRotationMatrix" ref="ac503bfbf3bd3ccb4b5ef1c5f2e63b0a8" args="(const base::Array&lt; float &gt; &amp;gravity, const base::Array&lt; float &gt; &amp;geomagnetic, base::Array&lt; float &gt; *R, base::Array&lt; float &gt; *I)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool <a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#ac503bfbf3bd3ccb4b5ef1c5f2e63b0a8">gaia::system::SensorUtility::getRotationMatrix</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>gravity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>geomagnetic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; *&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; *&#160;</td>
          <td class="paramname"><em>I</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function to computes the rotation matrix which transforming a vector from the device coordinate system to the world's coordinate system. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">gravity</td><td>The value of Accelerometer sensor. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">geomagnetic</td><td>The value of Magnetic sensor. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">R</td><td>A rotation matrix transforming the gravity vector into the world's coordinate system. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">I</td><td>A rotation matrix transforming the geomagnetic vector into the world's coordinate system. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success. false on failure (for instance, if the device is in free fall), the output matrices are not modified. </dd></dl>

</div>
</div>
<a class="anchor" id="a02e1ac5fc1a8719ba21150acb9562397"></a><!-- doxytag: member="gaia::system::SensorUtility::getRotationMatrixFromVector" ref="a02e1ac5fc1a8719ba21150acb9562397" args="(const base::Array&lt; float &gt; &amp;rotationVector, base::Array&lt; float &gt; *R)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a02e1ac5fc1a8719ba21150acb9562397">gaia::system::SensorUtility::getRotationMatrixFromVector</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>rotationVector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; *&#160;</td>
          <td class="paramname"><em>R</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function to convert a rotation vector to a rotation matrix. </p>
<p>Given a rotation vector (presumably from a ROTATION_VECTOR sensor), returns a 9 or 16 element rotation matrix in the array R. R must have length 9 or 16. If R.length == 9, the following matrix is returned: </p>
<pre>
   /  R[ 0]   R[ 1]   R[ 2]   \
   |  R[ 3]   R[ 4]   R[ 5]   |
   \  R[ 6]   R[ 7]   R[ 8]   /
</pre><p> If R.length == 16, the following matrix is returned: </p>
<pre>
   /  R[ 0]   R[ 1]   R[ 2]   0  \
   |  R[ 4]   R[ 5]   R[ 6]   0  |
   |  R[ 8]   R[ 9]   R[10]   0  |
   \  0       0       0       1  /
</pre> <dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">rotationVector</td><td>the rotation vector to convert </td></tr>
    <tr><td class="paramname">R</td><td>an array of floats in which to store the rotation matrix </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa1d1ac9ad458bd6754d3426552197dc0"></a><!-- doxytag: member="gaia::system::SensorUtility::remapCoordinateSystem" ref="aa1d1ac9ad458bd6754d3426552197dc0" args="(const base::Array&lt; float &gt; &amp;inR, int32_t X, int32_t Y, base::Array&lt; float &gt; *outR)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool <a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#aa1d1ac9ad458bd6754d3426552197dc0">gaia::system::SensorUtility::remapCoordinateSystem</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>inR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; *&#160;</td>
          <td class="paramname"><em>outR</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function to rotate the rotation matrix so it is expressed in a different coordinate system. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inR</td><td>The rotation matrix to be transformed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">X</td><td>Defines on which world axis and direction the X axis of the device is mapped. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Y</td><td>Defines on which world axis and direction the Y axis of the device is mapped. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">outR</td><td>The transformed rotation matrix. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success. false if the input parameters are incorrect. </dd></dl>

</div>
</div>
<a class="anchor" id="a6f8837e7efd6ec8d67b5447b062a9a79"></a><!-- doxytag: member="gaia::system::SensorUtility::remapCoordinateSystemImpl" ref="a6f8837e7efd6ec8d67b5447b062a9a79" args="(const base::Array&lt; float &gt; &amp;inR, int32_t X, int32_t Y, base::Array&lt; float &gt; *outR)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool <a class="el" href="../../da/d4e/classgaia_1_1system_1_1_sensor_utility.html#a6f8837e7efd6ec8d67b5447b062a9a79">gaia::system::SensorUtility::remapCoordinateSystemImpl</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>inR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>Y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">base::Array</a>&lt; float &gt; *&#160;</td>
          <td class="paramname"><em>outR</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/vilon_tao/gaia/sdk/include/gaia/system/<a class="el" href="../../df/d72/_sensor_utility_8h_source.html">SensorUtility.h</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 25 2013 11:23:26 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>

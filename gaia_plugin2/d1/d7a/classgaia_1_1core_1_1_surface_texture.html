<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>

<title>gaia::core::SurfaceTexture Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript" src="../../dynsections.js"></script>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d9/db5/namespacegaia.html">gaia</a>      </li>
      <li class="navelem"><a class="el" href="../../db/dfb/namespacegaia_1_1core.html">core</a>      </li>
      <li class="navelem"><a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html">SurfaceTexture</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">gaia::core::SurfaceTexture Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="gaia::core::SurfaceTexture" -->
<p><code>#include &lt;<a class="el" href="../../d8/d9c/_surface_texture_8h_source.html">SurfaceTexture.h</a>&gt;</code></p>

<p><a href="../../d7/d46/classgaia_1_1core_1_1_surface_texture-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#a8fd1d7e1dc5d50c3ede54aae148d9a89">SurfaceTexture</a> (int32_t texName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#afa332f63416014e2926e0c0edcbd230d">SurfaceTexture</a> (int32_t texName, bool allowSynchronousMode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#a18de5e20c56e4258468f0b18bddeb1f5">SurfaceTexture</a> (const <a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html">SurfaceTexture</a> &amp;s)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#a589cb18d36bf6d2139d1abb82df4e2ff">SurfaceTexture</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#a3f133a992a502339cd0f60ec0aa97780">~SurfaceTexture</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#a7fbefb850b83c44bec95c75f4c0a4014">setOnFrameAvailableListener</a> (const <a class="el" href="../../dc/df7/classgaia_1_1core_1_1_on_frame_available_listener.html">gaia::core::OnFrameAvailableListener</a> &amp;l)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a callback to be invoked when a new image frame becomes available to the <a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html">SurfaceTexture</a>.  <a href="#a7fbefb850b83c44bec95c75f4c0a4014"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#aff0a8851b55cb547f0672c36e06900c7">setDefaultBufferSize</a> (int32_t width, int32_t height)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the default size of the image buffers.  <a href="#aff0a8851b55cb547f0672c36e06900c7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#abf9b38cf2e7056c68223b0139dbd8107">updateTexImage</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the texture image to the most recent frame from the image stream.  <a href="#abf9b38cf2e7056c68223b0139dbd8107"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#a2a23948e1fb3b500c0394568ccfc9f0f">getTransformMatrix</a> (<a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">gaia::base::Array</a>&lt; float &gt; *mtx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the 4x4 texture coordinate transform matrix associated with the texture image set by the most recent call to updateTexImage.  <a href="#a2a23948e1fb3b500c0394568ccfc9f0f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#ad7c8cd8cfc3148511dca5fa11b030b67">release</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#ad7c8cd8cfc3148511dca5fa11b030b67" title="release() frees all the buffers and puts the SurfaceTexture into the &#39;abandoned&#39; state.">release()</a> frees all the buffers and puts the <a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html">SurfaceTexture</a> into the 'abandoned' state.  <a href="#ad7c8cd8cfc3148511dca5fa11b030b67"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html">SurfaceTexture</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#a5e728d26fed270ae4f8540424ea1acea">operator=</a> (const <a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html">SurfaceTexture</a> &amp;other)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="../../d8/d9c/_surface_texture_8h_source.html#l00015">15</a> of file <a class="el" href="../../d8/d9c/_surface_texture_8h_source.html">SurfaceTexture.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8fd1d7e1dc5d50c3ede54aae148d9a89"></a><!-- doxytag: member="gaia::core::SurfaceTexture::SurfaceTexture" ref="a8fd1d7e1dc5d50c3ede54aae148d9a89" args="(int32_t texName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#a8fd1d7e1dc5d50c3ede54aae148d9a89">gaia::core::SurfaceTexture::SurfaceTexture</a> </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>texName</em></td><td>)</td>
          <td><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afa332f63416014e2926e0c0edcbd230d"></a><!-- doxytag: member="gaia::core::SurfaceTexture::SurfaceTexture" ref="afa332f63416014e2926e0c0edcbd230d" args="(int32_t texName, bool allowSynchronousMode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#a8fd1d7e1dc5d50c3ede54aae148d9a89">gaia::core::SurfaceTexture::SurfaceTexture</a> </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>texName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allowSynchronousMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a18de5e20c56e4258468f0b18bddeb1f5"></a><!-- doxytag: member="gaia::core::SurfaceTexture::SurfaceTexture" ref="a18de5e20c56e4258468f0b18bddeb1f5" args="(const SurfaceTexture &amp;s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#a8fd1d7e1dc5d50c3ede54aae148d9a89">gaia::core::SurfaceTexture::SurfaceTexture</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html">SurfaceTexture</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a589cb18d36bf6d2139d1abb82df4e2ff"></a><!-- doxytag: member="gaia::core::SurfaceTexture::SurfaceTexture" ref="a589cb18d36bf6d2139d1abb82df4e2ff" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#a8fd1d7e1dc5d50c3ede54aae148d9a89">gaia::core::SurfaceTexture::SurfaceTexture</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3f133a992a502339cd0f60ec0aa97780"></a><!-- doxytag: member="gaia::core::SurfaceTexture::~SurfaceTexture" ref="a3f133a992a502339cd0f60ec0aa97780" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#a3f133a992a502339cd0f60ec0aa97780">gaia::core::SurfaceTexture::~SurfaceTexture</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a2a23948e1fb3b500c0394568ccfc9f0f"></a><!-- doxytag: member="gaia::core::SurfaceTexture::getTransformMatrix" ref="a2a23948e1fb3b500c0394568ccfc9f0f" args="(gaia::base::Array&lt; float &gt; *mtx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#a2a23948e1fb3b500c0394568ccfc9f0f">gaia::core::SurfaceTexture::getTransformMatrix</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/db0/classgaia_1_1base_1_1_array.html">gaia::base::Array</a>&lt; float &gt; *&#160;</td>
          <td class="paramname"><em>mtx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieve the 4x4 texture coordinate transform matrix associated with the texture image set by the most recent call to updateTexImage. </p>
<p>This transform matrix maps 2D homogeneous texture coordinates of the form (s, t, 0, 1) with s and t in the inclusive range [0, 1] to the texture coordinate that should be used to sample that location from the texture. Sampling the texture outside of the range of this transform is undefined.</p>
<p>The matrix is stored in column-major order so that it may be passed directly to OpenGL ES via the glLoadMatrixf or glUniformMatrix4fv functions.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">mtx</td><td>the array into which the 4x4 matrix will be stored. The array must have exactly 16 elements. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5e728d26fed270ae4f8540424ea1acea"></a><!-- doxytag: member="gaia::core::SurfaceTexture::operator=" ref="a5e728d26fed270ae4f8540424ea1acea" args="(const SurfaceTexture &amp;other)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html">SurfaceTexture</a>&amp; gaia::core::SurfaceTexture::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html">SurfaceTexture</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad7c8cd8cfc3148511dca5fa11b030b67"></a><!-- doxytag: member="gaia::core::SurfaceTexture::release" ref="ad7c8cd8cfc3148511dca5fa11b030b67" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#ad7c8cd8cfc3148511dca5fa11b030b67">gaia::core::SurfaceTexture::release</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#ad7c8cd8cfc3148511dca5fa11b030b67" title="release() frees all the buffers and puts the SurfaceTexture into the &#39;abandoned&#39; state.">release()</a> frees all the buffers and puts the <a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html">SurfaceTexture</a> into the 'abandoned' state. </p>
<p>Once put in this state the <a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html">SurfaceTexture</a> can never leave it. When in the 'abandoned' state, all methods of the ISurfaceTexture interface will fail with the NO_INIT error.</p>
<p>Note that while calling this method causes all the buffers to be freed from the perspective of the the <a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html">SurfaceTexture</a>, if there are additional references on the buffers (e.g. if a buffer is referenced by a client or by OpenGL ES as a texture) then those buffer will remain allocated.</p>
<p>Always call this method when you are done with <a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html">SurfaceTexture</a>. Failing to do so may delay resource deallocation for a significant amount of time. </p>

</div>
</div>
<a class="anchor" id="aff0a8851b55cb547f0672c36e06900c7"></a><!-- doxytag: member="gaia::core::SurfaceTexture::setDefaultBufferSize" ref="aff0a8851b55cb547f0672c36e06900c7" args="(int32_t width, int32_t height)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#aff0a8851b55cb547f0672c36e06900c7">gaia::core::SurfaceTexture::setDefaultBufferSize</a> </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the default size of the image buffers. </p>
<p>The image producer may override the buffer size, in which case the producer-set buffer size will be used, not the default size set by this method. Both video and camera based image producers do override the size. This method may be used to set the image size when producing images with <a class="el" href="../../">android.graphics.Canvas</a> (via <a class="el" href="../../">android.view.Surface#lockCanvas</a>), or OpenGL ES (via an <a class="el" href="../../d6/dba/classgaia_1_1core_1_1_e_g_l_surface.html">EGLSurface</a>).</p>
<p>The new default buffer size will take effect the next time the image producer requests a buffer to fill. For <a class="el" href="../../">android.graphics.Canvas</a> this will be the next time <a class="el" href="../../">android.view.Surface#lockCanvas</a> is called. For OpenGL ES, the <a class="el" href="../../d6/dba/classgaia_1_1core_1_1_e_g_l_surface.html">EGLSurface</a> should be destroyed (via eglDestroySurface), made not-current (via eglMakeCurrent), and then recreated (via eglCreateWindowSurface) to ensure that the new default size has taken effect.</p>
<p>The width and height parameters must be no greater than the minimum of GL_MAX_VIEWPORT_DIMS and GL_MAX_TEXTURE_SIZE (see <a class="el" href="../../">glGetIntegerv</a>). An error due to invalid dimensions might not be reported until <a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#abf9b38cf2e7056c68223b0139dbd8107" title="Update the texture image to the most recent frame from the image stream.">updateTexImage()</a> is called. </p>

</div>
</div>
<a class="anchor" id="a7fbefb850b83c44bec95c75f4c0a4014"></a><!-- doxytag: member="gaia::core::SurfaceTexture::setOnFrameAvailableListener" ref="a7fbefb850b83c44bec95c75f4c0a4014" args="(const gaia::core::OnFrameAvailableListener &amp;l)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#a7fbefb850b83c44bec95c75f4c0a4014">gaia::core::SurfaceTexture::setOnFrameAvailableListener</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dc/df7/classgaia_1_1core_1_1_on_frame_available_listener.html">gaia::core::OnFrameAvailableListener</a> &amp;&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Register a callback to be invoked when a new image frame becomes available to the <a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html">SurfaceTexture</a>. </p>
<p>Note that this callback may be called on an arbitrary thread, so it is not safe to call <a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#abf9b38cf2e7056c68223b0139dbd8107">updateTexImage</a> without first binding the OpenGL ES context to the thread invoking the callback. </p>

</div>
</div>
<a class="anchor" id="abf9b38cf2e7056c68223b0139dbd8107"></a><!-- doxytag: member="gaia::core::SurfaceTexture::updateTexImage" ref="abf9b38cf2e7056c68223b0139dbd8107" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d1/d7a/classgaia_1_1core_1_1_surface_texture.html#abf9b38cf2e7056c68223b0139dbd8107">gaia::core::SurfaceTexture::updateTexImage</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update the texture image to the most recent frame from the image stream. </p>
<p>This may only be called while the OpenGL ES context that owns the texture is current on the calling thread. It will implicitly bind its texture to the GL_TEXTURE_EXTERNAL_OES texture target. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/vilon_tao/gaia/sdk/include/gaia/core/<a class="el" href="../../d8/d9c/_surface_texture_8h_source.html">SurfaceTexture.h</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 25 2013 11:23:24 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
